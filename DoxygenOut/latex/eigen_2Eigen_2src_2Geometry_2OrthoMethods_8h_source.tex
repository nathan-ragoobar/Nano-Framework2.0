\doxysection{Ortho\+Methods.\+h}
\hypertarget{eigen_2Eigen_2src_2Geometry_2OrthoMethods_8h_source}{}\label{eigen_2Eigen_2src_2Geometry_2OrthoMethods_8h_source}\index{eigen/Eigen/src/Geometry/OrthoMethods.h@{eigen/Eigen/src/Geometry/OrthoMethods.h}}
\mbox{\hyperlink{eigen_2Eigen_2src_2Geometry_2OrthoMethods_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ This\ file\ is\ part\ of\ Eigen,\ a\ lightweight\ C++\ template\ library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ for\ linear\ algebra.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Copyright\ (C)\ 2008-\/2009\ Gael\ Guennebaud\ <gael.guennebaud@inria.fr>}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ Copyright\ (C)\ 2006-\/2008\ Benoit\ Jacob\ <jacob.benoit.1@gmail.com>}}
\DoxyCodeLine{00006\ \textcolor{comment}{//}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ This\ Source\ Code\ Form\ is\ subject\ to\ the\ terms\ of\ the\ Mozilla}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ Public\ License\ v.\ 2.0.\ If\ a\ copy\ of\ the\ MPL\ was\ not\ distributed}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ with\ this\ file,\ You\ can\ obtain\ one\ at\ http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_ORTHOMETHODS\_H}}
\DoxyCodeLine{00012\ \textcolor{preprocessor}{\#define\ EIGEN\_ORTHOMETHODS\_H}}
\DoxyCodeLine{00013\ }
\DoxyCodeLine{00014\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceEigen}{Eigen}}\ \{\ }
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00027\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00028\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ OtherDerived>}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_PARSED\_BY\_DOXYGEN}}
\DoxyCodeLine{00030\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}}
\DoxyCodeLine{00031\ \textcolor{keyword}{typename}\ MatrixBase<Derived>::template\ cross\_product\_return\_type<OtherDerived>::type}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00033\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1MatrixBase_aaf60e25933045913a5ee91ef197878df}{MatrixBase<Derived>::PlainObject}}}
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00035\ \mbox{\hyperlink{classEigen_1_1MatrixBase_a37b2064df225f1530be0942bee1125b5}{MatrixBase<Derived>::cross}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<OtherDerived>}}\&\ other)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00036\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00037\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2StaticAssert_8h_abf22bd5abe14bc8ffe8ef673e6e9497d}{EIGEN\_STATIC\_ASSERT\_VECTOR\_SPECIFIC\_SIZE}}(Derived,3)}
\DoxyCodeLine{00038\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2StaticAssert_8h_abf22bd5abe14bc8ffe8ef673e6e9497d}{EIGEN\_STATIC\_ASSERT\_VECTOR\_SPECIFIC\_SIZE}}(OtherDerived,3)}
\DoxyCodeLine{00039\ }
\DoxyCodeLine{00040\ \ \ \textcolor{comment}{//\ Note\ that\ there\ is\ no\ need\ for\ an\ expression\ here\ since\ the\ compiler}}
\DoxyCodeLine{00041\ \ \ \textcolor{comment}{//\ optimize\ such\ a\ small\ temporary\ very\ well\ (even\ within\ a\ complex\ expression)}}
\DoxyCodeLine{00042\ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorWritable}{internal::nested\_eval<Derived,2>::type}}\ lhs(derived());}
\DoxyCodeLine{00043\ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorWritable}{internal::nested\_eval<OtherDerived,2>::type}}\ rhs(other.derived());}
\DoxyCodeLine{00044\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1Matrix}{cross\_product\_return\_type<OtherDerived>::type}}(}
\DoxyCodeLine{00045\ \ \ \ \ numext::conj(lhs.\mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorReadOnly_a54b066c8eeaeda76c88ea9ed7cfa8293}{coeff}}(1)\ *\ rhs.\mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorReadOnly_a54b066c8eeaeda76c88ea9ed7cfa8293}{coeff}}(2)\ -\/\ lhs.\mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorReadOnly_a54b066c8eeaeda76c88ea9ed7cfa8293}{coeff}}(2)\ *\ rhs.\mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorReadOnly_a54b066c8eeaeda76c88ea9ed7cfa8293}{coeff}}(1)),}
\DoxyCodeLine{00046\ \ \ \ \ numext::conj(lhs.\mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorReadOnly_a54b066c8eeaeda76c88ea9ed7cfa8293}{coeff}}(2)\ *\ rhs.\mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorReadOnly_a54b066c8eeaeda76c88ea9ed7cfa8293}{coeff}}(0)\ -\/\ lhs.\mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorReadOnly_a54b066c8eeaeda76c88ea9ed7cfa8293}{coeff}}(0)\ *\ rhs.\mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorReadOnly_a54b066c8eeaeda76c88ea9ed7cfa8293}{coeff}}(2)),}
\DoxyCodeLine{00047\ \ \ \ \ numext::conj(lhs.\mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorReadOnly_a54b066c8eeaeda76c88ea9ed7cfa8293}{coeff}}(0)\ *\ rhs.\mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorReadOnly_a54b066c8eeaeda76c88ea9ed7cfa8293}{coeff}}(1)\ -\/\ lhs.\mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorReadOnly_a54b066c8eeaeda76c88ea9ed7cfa8293}{coeff}}(1)\ *\ rhs.\mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorReadOnly_a54b066c8eeaeda76c88ea9ed7cfa8293}{coeff}}(0))}
\DoxyCodeLine{00048\ \ \ );}
\DoxyCodeLine{00049\ \}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceinternal}{internal}}\ \{}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \textcolor{keyword}{template}<\ \textcolor{keywordtype}{int}\ Arch,\textcolor{keyword}{typename}\ VectorLhs,\textcolor{keyword}{typename}\ VectorRhs,}
\DoxyCodeLine{00054\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ Scalar\ =\ \textcolor{keyword}{typename}\ VectorLhs::Scalar,}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ Vectorizable\ =\ bool((VectorLhs::Flags\&VectorRhs::Flags)\&\mbox{\hyperlink{group__flags_ga1a306a438e1ab074e8be59512e887b9f}{PacketAccessBit}})>}
\DoxyCodeLine{00056\ \textcolor{keyword}{struct\ }cross3\_impl\ \{}
\DoxyCodeLine{00057\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1plain__matrix__type}{internal::plain\_matrix\_type<VectorLhs>::type}}}
\DoxyCodeLine{00058\ \ \ \mbox{\hyperlink{structEigen_1_1internal_1_1cross3__impl_af4ca782d08c57428783e36382f6482ec}{run}}(\textcolor{keyword}{const}\ VectorLhs\&\ lhs,\ \textcolor{keyword}{const}\ VectorRhs\&\ rhs)}
\DoxyCodeLine{00059\ \ \ \{}
\DoxyCodeLine{00060\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1plain__matrix__type}{internal::plain\_matrix\_type<VectorLhs>::type}}(}
\DoxyCodeLine{00061\ \ \ \ \ \ \ numext::conj(lhs.coeff(1)\ *\ rhs.coeff(2)\ -\/\ lhs.coeff(2)\ *\ rhs.coeff(1)),}
\DoxyCodeLine{00062\ \ \ \ \ \ \ numext::conj(lhs.coeff(2)\ *\ rhs.coeff(0)\ -\/\ lhs.coeff(0)\ *\ rhs.coeff(2)),}
\DoxyCodeLine{00063\ \ \ \ \ \ \ numext::conj(lhs.coeff(0)\ *\ rhs.coeff(1)\ -\/\ lhs.coeff(1)\ *\ rhs.coeff(0)),}
\DoxyCodeLine{00064\ \ \ \ \ \ \ 0}
\DoxyCodeLine{00065\ \ \ \ \ );}
\DoxyCodeLine{00066\ \ \ \}}
\DoxyCodeLine{00067\ \};}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \}}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00080\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00081\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ OtherDerived>}
\DoxyCodeLine{00082\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \textcolor{keyword}{inline}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1MatrixBase_aaf60e25933045913a5ee91ef197878df}{MatrixBase<Derived>::PlainObject}}}
\DoxyCodeLine{00083\ \mbox{\hyperlink{classEigen_1_1MatrixBase_ac01e7f46c4dfbacc362aaec8b00c115a}{MatrixBase<Derived>::cross3}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<OtherDerived>}}\&\ other)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00084\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00085\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2StaticAssert_8h_abf22bd5abe14bc8ffe8ef673e6e9497d}{EIGEN\_STATIC\_ASSERT\_VECTOR\_SPECIFIC\_SIZE}}(Derived,4)}
\DoxyCodeLine{00086\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2StaticAssert_8h_abf22bd5abe14bc8ffe8ef673e6e9497d}{EIGEN\_STATIC\_ASSERT\_VECTOR\_SPECIFIC\_SIZE}}(OtherDerived,4)}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorWritable}{internal::nested\_eval<Derived,2>::type}}\ DerivedNested;}
\DoxyCodeLine{00089\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorWritable}{internal::nested\_eval<OtherDerived,2>::type}}\ OtherDerivedNested;}
\DoxyCodeLine{00090\ \ \ DerivedNested\ lhs(derived());}
\DoxyCodeLine{00091\ \ \ OtherDerivedNested\ rhs(other.derived());}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structEigen_1_1internal_1_1cross3__impl}{internal::cross3\_impl}}<\mbox{\hyperlink{namespaceEigen_1_1Architecture_ae54c092bdb3a978b9aa8cc50dcafc13caf142d1bc71ecab4fc12885fb665276f9}{Architecture::Target}},}
\DoxyCodeLine{00094\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1remove__all_a5779acf852f62735a7d293d29b18e321}{internal::remove\_all<DerivedNested>::type}},}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1remove__all_a5779acf852f62735a7d293d29b18e321}{internal::remove\_all<OtherDerivedNested>::type}}>::run(lhs,rhs);}
\DoxyCodeLine{00096\ \}}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00107\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ ExpressionType,\ \textcolor{keywordtype}{int}\ Direction>}
\DoxyCodeLine{00108\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ OtherDerived>}
\DoxyCodeLine{00109\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ }
\DoxyCodeLine{00110\ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1VectorwiseOp_a1dbae778809df72722f2ecaa2e4174e0}{VectorwiseOp<ExpressionType,Direction>::CrossReturnType}}}
\DoxyCodeLine{00111\ \mbox{\hyperlink{classEigen_1_1VectorwiseOp_a1ff8f97f723d624e91dd782c8141339e}{VectorwiseOp<ExpressionType,Direction>::cross}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<OtherDerived>}}\&\ other)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00112\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00113\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2StaticAssert_8h_abf22bd5abe14bc8ffe8ef673e6e9497d}{EIGEN\_STATIC\_ASSERT\_VECTOR\_SPECIFIC\_SIZE}}(OtherDerived,3)}
\DoxyCodeLine{00114\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2StaticAssert_8h_ac95cf960f4a8395b28af90edfda755f0}{EIGEN\_STATIC\_ASSERT}}((\mbox{\hyperlink{structEigen_1_1internal_1_1is__same}{internal::is\_same<Scalar,\ typename\ OtherDerived::Scalar>::value}}),}
\DoxyCodeLine{00115\ \ \ \ \ YOU\_MIXED\_DIFFERENT\_NUMERIC\_TYPES\_\_YOU\_NEED\_TO\_USE\_THE\_CAST\_METHOD\_OF\_MATRIXBASE\_TO\_CAST\_NUMERIC\_TYPES\_EXPLICITLY)}
\DoxyCodeLine{00116\ \ \ }
\DoxyCodeLine{00117\ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorWritable}{internal::nested\_eval<ExpressionType,2>::type}}\ mat(\_expression());}
\DoxyCodeLine{00118\ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorWritable}{internal::nested\_eval<OtherDerived,2>::type}}\ vec(other.derived());}
\DoxyCodeLine{00119\ }
\DoxyCodeLine{00120\ \ \ \mbox{\hyperlink{classEigen_1_1VectorwiseOp_a1dbae778809df72722f2ecaa2e4174e0}{CrossReturnType}}\ res(\_expression().rows(),\_expression().cols());}
\DoxyCodeLine{00121\ \ \ \textcolor{keywordflow}{if}(Direction==\mbox{\hyperlink{group__enums_ggad49a7b3738e273eb00932271b36127f7addca718e0564723df21d61b94b1198be}{Vertical}})}
\DoxyCodeLine{00122\ \ \ \{}
\DoxyCodeLine{00123\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(CrossReturnType::RowsAtCompileTime==3\ \&\&\ \textcolor{stringliteral}{"{}the\ matrix\ must\ have\ exactly\ 3\ rows"{}});}
\DoxyCodeLine{00124\ \ \ \ \ res.row(0)\ =\ (mat.row(1)\ *\ vec.\mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorReadOnly_a54b066c8eeaeda76c88ea9ed7cfa8293}{coeff}}(2)\ -\/\ mat.row(2)\ *\ vec.\mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorReadOnly_a54b066c8eeaeda76c88ea9ed7cfa8293}{coeff}}(1)).conjugate();}
\DoxyCodeLine{00125\ \ \ \ \ res.row(1)\ =\ (mat.row(2)\ *\ vec.\mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorReadOnly_a54b066c8eeaeda76c88ea9ed7cfa8293}{coeff}}(0)\ -\/\ mat.row(0)\ *\ vec.\mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorReadOnly_a54b066c8eeaeda76c88ea9ed7cfa8293}{coeff}}(2)).conjugate();}
\DoxyCodeLine{00126\ \ \ \ \ res.row(2)\ =\ (mat.row(0)\ *\ vec.\mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorReadOnly_a54b066c8eeaeda76c88ea9ed7cfa8293}{coeff}}(1)\ -\/\ mat.row(1)\ *\ vec.\mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorReadOnly_a54b066c8eeaeda76c88ea9ed7cfa8293}{coeff}}(0)).conjugate();}
\DoxyCodeLine{00127\ \ \ \}}
\DoxyCodeLine{00128\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00129\ \ \ \{}
\DoxyCodeLine{00130\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(CrossReturnType::ColsAtCompileTime==3\ \&\&\ \textcolor{stringliteral}{"{}the\ matrix\ must\ have\ exactly\ 3\ columns"{}});}
\DoxyCodeLine{00131\ \ \ \ \ res.col(0)\ =\ (mat.col(1)\ *\ vec.\mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorReadOnly_a54b066c8eeaeda76c88ea9ed7cfa8293}{coeff}}(2)\ -\/\ mat.col(2)\ *\ vec.\mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorReadOnly_a54b066c8eeaeda76c88ea9ed7cfa8293}{coeff}}(1)).conjugate();}
\DoxyCodeLine{00132\ \ \ \ \ res.col(1)\ =\ (mat.col(2)\ *\ vec.\mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorReadOnly_a54b066c8eeaeda76c88ea9ed7cfa8293}{coeff}}(0)\ -\/\ mat.col(0)\ *\ vec.\mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorReadOnly_a54b066c8eeaeda76c88ea9ed7cfa8293}{coeff}}(2)).conjugate();}
\DoxyCodeLine{00133\ \ \ \ \ res.col(2)\ =\ (mat.col(0)\ *\ vec.\mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorReadOnly_a54b066c8eeaeda76c88ea9ed7cfa8293}{coeff}}(1)\ -\/\ mat.col(1)\ *\ vec.\mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorReadOnly_a54b066c8eeaeda76c88ea9ed7cfa8293}{coeff}}(0)).conjugate();}
\DoxyCodeLine{00134\ \ \ \}}
\DoxyCodeLine{00135\ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00136\ \}}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceinternal}{internal}}\ \{}
\DoxyCodeLine{00139\ }
\DoxyCodeLine{00140\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived,\ \textcolor{keywordtype}{int}\ Size\ =\ Derived::SizeAtCompileTime>}
\DoxyCodeLine{00141\ \textcolor{keyword}{struct\ }unitOrthogonal\_selector}
\DoxyCodeLine{00142\ \{}
\DoxyCodeLine{00143\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1plain__matrix__type}{plain\_matrix\_type<Derived>::type}}\ \mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_ab0b4d85807cf0c56975b4995588551fa}{VectorType}};}
\DoxyCodeLine{00144\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{traits<Derived>::Scalar}}\ \mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_a43415b1a62d0a0590961389a6ee74beb}{Scalar}};}
\DoxyCodeLine{00145\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1GenericNumTraits_abca8573812593670795c41f22aa9d5e2}{NumTraits<Scalar>::Real}}\ \mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_af0feeb407d3a335b831f606dc3383969}{RealScalar}};}
\DoxyCodeLine{00146\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1Matrix}{Matrix<Scalar,2,1>}}\ \mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_ac126f0984eec5000f485aecb49ad07a0}{Vector2}};}
\DoxyCodeLine{00147\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}}
\DoxyCodeLine{00148\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_ab0b4d85807cf0c56975b4995588551fa}{VectorType}}\ \mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_aecbdce8658a875885d4326352dec272c}{run}}(\textcolor{keyword}{const}\ Derived\&\ src)}
\DoxyCodeLine{00149\ \ \ \{}
\DoxyCodeLine{00150\ \ \ \ \ \mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_ab0b4d85807cf0c56975b4995588551fa}{VectorType}}\ perp\ =\ VectorType::Zero(src.size());}
\DoxyCodeLine{00151\ \ \ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ maxi\ =\ 0;}
\DoxyCodeLine{00152\ \ \ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ sndi\ =\ 0;}
\DoxyCodeLine{00153\ \ \ \ \ src.cwiseAbs().maxCoeff(\&maxi);}
\DoxyCodeLine{00154\ \ \ \ \ \textcolor{keywordflow}{if}\ (maxi==0)}
\DoxyCodeLine{00155\ \ \ \ \ \ \ sndi\ =\ 1;}
\DoxyCodeLine{00156\ \ \ \ \ \mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_af0feeb407d3a335b831f606dc3383969}{RealScalar}}\ invnm\ =\ \mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_af0feeb407d3a335b831f606dc3383969}{RealScalar}}(1)/(\mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_ac126f0984eec5000f485aecb49ad07a0}{Vector2}}()\ <<\ src.coeff(sndi),src.coeff(maxi)).finished().norm();}
\DoxyCodeLine{00157\ \ \ \ \ perp.coeffRef(maxi)\ =\ -\/numext::conj(src.coeff(sndi))\ *\ invnm;}
\DoxyCodeLine{00158\ \ \ \ \ perp.coeffRef(sndi)\ =\ \ numext::conj(src.coeff(maxi))\ *\ invnm;}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{keywordflow}{return}\ perp;}
\DoxyCodeLine{00161\ \ \ \ \}}
\DoxyCodeLine{00162\ \};}
\DoxyCodeLine{00163\ }
\DoxyCodeLine{00164\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00165\ \textcolor{keyword}{struct\ }unitOrthogonal\_selector<Derived,3>}
\DoxyCodeLine{00166\ \{}
\DoxyCodeLine{00167\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1plain__matrix__type}{plain\_matrix\_type<Derived>::type}}\ \mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_3_01Derived_00_013_01_4_a3bca8795d74e007d89fe80ae70819f4c}{VectorType}};}
\DoxyCodeLine{00168\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1traits}{traits<Derived>::Scalar}}\ \mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_3_01Derived_00_013_01_4_ae0bad036fdc2799bfefaf635d28f8822}{Scalar}};}
\DoxyCodeLine{00169\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1GenericNumTraits_abca8573812593670795c41f22aa9d5e2}{NumTraits<Scalar>::Real}}\ \mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_3_01Derived_00_013_01_4_a6e0aa2cf90a025df8b543b11ac5b136c}{RealScalar}};}
\DoxyCodeLine{00170\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}}
\DoxyCodeLine{00171\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_3_01Derived_00_013_01_4_a3bca8795d74e007d89fe80ae70819f4c}{VectorType}}\ \mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_3_01Derived_00_013_01_4_ae4934414f579b7264887a98c0db3e3f5}{run}}(\textcolor{keyword}{const}\ Derived\&\ src)}
\DoxyCodeLine{00172\ \ \ \{}
\DoxyCodeLine{00173\ \ \ \ \ \mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_3_01Derived_00_013_01_4_a3bca8795d74e007d89fe80ae70819f4c}{VectorType}}\ perp;}
\DoxyCodeLine{00174\ \ \ \ \ \textcolor{comment}{/*\ Let\ us\ compute\ the\ crossed\ product\ of\ *this\ with\ a\ vector}}
\DoxyCodeLine{00175\ \textcolor{comment}{\ \ \ \ \ *\ that\ is\ not\ too\ close\ to\ being\ colinear\ to\ *this.}}
\DoxyCodeLine{00176\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00177\ }
\DoxyCodeLine{00178\ \ \ \ \ \textcolor{comment}{/*\ unless\ the\ x\ and\ y\ coords\ are\ both\ close\ to\ zero,\ we\ can}}
\DoxyCodeLine{00179\ \textcolor{comment}{\ \ \ \ \ *\ simply\ take\ (\ -\/y,\ x,\ 0\ )\ and\ normalize\ it.}}
\DoxyCodeLine{00180\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{keywordflow}{if}((!\mbox{\hyperlink{namespaceEigen_1_1internal_a84d9a116f1410c45670db495257f64ac}{isMuchSmallerThan}}(src.x(),\ src.z()))}
\DoxyCodeLine{00182\ \ \ \ \ ||\ (!\mbox{\hyperlink{namespaceEigen_1_1internal_a84d9a116f1410c45670db495257f64ac}{isMuchSmallerThan}}(src.y(),\ src.z())))}
\DoxyCodeLine{00183\ \ \ \ \ \{}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_3_01Derived_00_013_01_4_a6e0aa2cf90a025df8b543b11ac5b136c}{RealScalar}}\ invnm\ =\ \mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_af0feeb407d3a335b831f606dc3383969}{RealScalar}}(1)/src.template\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_af652402b7c3103c3e9f6c62d51e8d490}{head<2>}}().norm();}
\DoxyCodeLine{00185\ \ \ \ \ \ \ perp.coeffRef(0)\ =\ -\/numext::conj(src.y())*invnm;}
\DoxyCodeLine{00186\ \ \ \ \ \ \ perp.coeffRef(1)\ =\ numext::conj(src.x())*invnm;}
\DoxyCodeLine{00187\ \ \ \ \ \ \ perp.coeffRef(2)\ =\ 0;}
\DoxyCodeLine{00188\ \ \ \ \ \}}
\DoxyCodeLine{00189\ \ \ \ \ \textcolor{comment}{/*\ if\ both\ x\ and\ y\ are\ close\ to\ zero,\ then\ the\ vector\ is\ close}}
\DoxyCodeLine{00190\ \textcolor{comment}{\ \ \ \ \ *\ to\ the\ z-\/axis,\ so\ it's\ far\ from\ colinear\ to\ the\ x-\/axis\ for\ instance.}}
\DoxyCodeLine{00191\ \textcolor{comment}{\ \ \ \ \ *\ So\ we\ take\ the\ crossed\ product\ with\ (1,0,0)\ and\ normalize\ it.}}
\DoxyCodeLine{00192\ \textcolor{comment}{\ \ \ \ \ */}}
\DoxyCodeLine{00193\ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00194\ \ \ \ \ \{}
\DoxyCodeLine{00195\ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_3_01Derived_00_013_01_4_a6e0aa2cf90a025df8b543b11ac5b136c}{RealScalar}}\ invnm\ =\ \mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_af0feeb407d3a335b831f606dc3383969}{RealScalar}}(1)/src.template\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a0f7bc7c54f8377f705ed23c2f5e71089}{tail<2>}}().norm();}
\DoxyCodeLine{00196\ \ \ \ \ \ \ perp.coeffRef(0)\ =\ 0;}
\DoxyCodeLine{00197\ \ \ \ \ \ \ perp.coeffRef(1)\ =\ -\/numext::conj(src.z())*invnm;}
\DoxyCodeLine{00198\ \ \ \ \ \ \ perp.coeffRef(2)\ =\ numext::conj(src.y())*invnm;}
\DoxyCodeLine{00199\ \ \ \ \ \}}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \ \ \ \ \textcolor{keywordflow}{return}\ perp;}
\DoxyCodeLine{00202\ \ \ \ \}}
\DoxyCodeLine{00203\ \};}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00205\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00206\ \textcolor{keyword}{struct\ }unitOrthogonal\_selector<Derived,2>}
\DoxyCodeLine{00207\ \{}
\DoxyCodeLine{00208\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1plain__matrix__type}{plain\_matrix\_type<Derived>::type}}\ \mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_3_01Derived_00_012_01_4_aa3c4188be52b16137e29e11bb83cef44}{VectorType}};}
\DoxyCodeLine{00209\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}}
\DoxyCodeLine{00210\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_3_01Derived_00_012_01_4_aa3c4188be52b16137e29e11bb83cef44}{VectorType}}\ \mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_3_01Derived_00_012_01_4_a92196490f555a41b42aeb6165ac1bf9b}{run}}(\textcolor{keyword}{const}\ Derived\&\ src)}
\DoxyCodeLine{00211\ \ \ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_ab0b4d85807cf0c56975b4995588551fa}{VectorType}}(-\/numext::conj(src.y()),\ numext::conj(src.x())).normalized();\ \}}
\DoxyCodeLine{00212\ \};}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ \}\ \textcolor{comment}{//\ end\ namespace\ internal}}
\DoxyCodeLine{00215\ }
\DoxyCodeLine{00225\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Derived>}
\DoxyCodeLine{00226\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1MatrixBase_aaf60e25933045913a5ee91ef197878df}{MatrixBase<Derived>::PlainObject}}}
\DoxyCodeLine{00227\ \mbox{\hyperlink{group__Geometry__Module_ga2fd7a02d7bc4c339f0e97f12c09acb25}{MatrixBase<Derived>::unitOrthogonal}}()\textcolor{keyword}{\ const}}
\DoxyCodeLine{00228\ \textcolor{keyword}{}\{}
\DoxyCodeLine{00229\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2StaticAssert_8h_ac04a73705a0aa1d66c4b80f6338db904}{EIGEN\_STATIC\_ASSERT\_VECTOR\_ONLY}}(Derived)}
\DoxyCodeLine{00230\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structEigen_1_1internal_1_1unitOrthogonal__selector_aecbdce8658a875885d4326352dec272c}{internal::unitOrthogonal\_selector<Derived>::run}}(derived());}
\DoxyCodeLine{00231\ \}}
\DoxyCodeLine{00232\ }
\DoxyCodeLine{00233\ \}\ \textcolor{comment}{//\ end\ namespace\ Eigen}}
\DoxyCodeLine{00234\ }
\DoxyCodeLine{00235\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ EIGEN\_ORTHOMETHODS\_H}}

\end{DoxyCode}
