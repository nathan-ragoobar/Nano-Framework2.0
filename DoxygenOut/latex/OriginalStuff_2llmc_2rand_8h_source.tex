\doxysection{rand.\+h}
\hypertarget{OriginalStuff_2llmc_2rand_8h_source}{}\label{OriginalStuff_2llmc_2rand_8h_source}\index{OriginalStuff/llmc/rand.h@{OriginalStuff/llmc/rand.h}}
\mbox{\hyperlink{OriginalStuff_2llmc_2rand_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{/*}}
\DoxyCodeLine{00002\ \textcolor{comment}{Mersenne\ Twisters\ implementation,\ numerically\ identical\ to\ torch.}}
\DoxyCodeLine{00003\ \textcolor{comment}{}}
\DoxyCodeLine{00004\ \textcolor{comment}{Example\ usage:}}
\DoxyCodeLine{00005\ \textcolor{comment}{}}
\DoxyCodeLine{00006\ \textcolor{comment}{\ \ \ \ mt19937\_state\ state;}}
\DoxyCodeLine{00007\ \textcolor{comment}{\ \ \ \ manual\_seed(\&state,\ 137);}}
\DoxyCodeLine{00008\ \textcolor{comment}{\ \ \ \ printf("{}\%u\(\backslash\)n"{},\ randint32(\&state));}}
\DoxyCodeLine{00009\ \textcolor{comment}{\ \ \ \ printf("{}\%u\(\backslash\)n"{},\ randint32(\&state));}}
\DoxyCodeLine{00010\ \textcolor{comment}{\ \ \ \ printf("{}\%u\(\backslash\)n"{},\ randint32(\&state));}}
\DoxyCodeLine{00011\ \textcolor{comment}{\ \ \ \ printf("{}\%u\(\backslash\)n"{},\ randint32(\&state));}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ \ \ \ printf("{}\%u\(\backslash\)n"{},\ randint32(\&state));}}
\DoxyCodeLine{00013\ \textcolor{comment}{}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ \ \ \ float\ t8[8];}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ \ \ \ normal\_(t8,\ 8,\ 0,\ 1,\ \&state);}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ \ \ \ for\ (int\ i\ =\ 0;\ i\ <\ 8;\ i++)\ \{}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ \ \ \ \ \ \ \ printf("{}\%f\(\backslash\)n"{},\ t8[i]);}}
\DoxyCodeLine{00018\ \textcolor{comment}{\ \ \ \ \}}}
\DoxyCodeLine{00019\ \textcolor{comment}{\ \ \ \ printf("{}\%u\(\backslash\)n"{},\ randint32(\&state));}}
\DoxyCodeLine{00020\ \textcolor{comment}{}}
\DoxyCodeLine{00021\ \textcolor{comment}{\ \ \ \ float\ t16[16];}}
\DoxyCodeLine{00022\ \textcolor{comment}{\ \ \ \ normal\_(t16,\ 16,\ 0,\ 1,\ \&state);}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ \ \ \ for\ (int\ i\ =\ 0;\ i\ <\ 16;\ i++)\ \{}}
\DoxyCodeLine{00024\ \textcolor{comment}{\ \ \ \ \ \ \ \ printf("{}\%f\(\backslash\)n"{},\ t16[i]);}}
\DoxyCodeLine{00025\ \textcolor{comment}{\ \ \ \ \}}}
\DoxyCodeLine{00026\ \textcolor{comment}{\ \ \ \ printf("{}\%u\(\backslash\)n"{},\ randint32(\&state));}}
\DoxyCodeLine{00027\ \textcolor{comment}{}}
\DoxyCodeLine{00028\ \textcolor{comment}{PyTorch\ reference\ (producing\ identical\ results):}}
\DoxyCodeLine{00029\ \textcolor{comment}{}}
\DoxyCodeLine{00030\ \textcolor{comment}{\ \ \ \ import\ torch}}
\DoxyCodeLine{00031\ \textcolor{comment}{\ \ \ \ torch.manual\_seed(137)}}
\DoxyCodeLine{00032\ \textcolor{comment}{\ \ \ \ print(torch.randint(0,\ 0xFFFFFFFF,\ [1]).item())}}
\DoxyCodeLine{00033\ \textcolor{comment}{\ \ \ \ print(torch.randint(0,\ 0xFFFFFFFF,\ [1]).item())}}
\DoxyCodeLine{00034\ \textcolor{comment}{\ \ \ \ print(torch.randint(0,\ 0xFFFFFFFF,\ [1]).item())}}
\DoxyCodeLine{00035\ \textcolor{comment}{\ \ \ \ print(torch.randint(0,\ 0xFFFFFFFF,\ [1]).item())}}
\DoxyCodeLine{00036\ \textcolor{comment}{\ \ \ \ print(torch.randint(0,\ 0xFFFFFFFF,\ [1]).item())}}
\DoxyCodeLine{00037\ \textcolor{comment}{\ \ \ \ t\ =\ torch.zeros(8);}}
\DoxyCodeLine{00038\ \textcolor{comment}{\ \ \ \ t.normal\_()}}
\DoxyCodeLine{00039\ \textcolor{comment}{\ \ \ \ for\ i\ in\ range(len(t))\ :}}
\DoxyCodeLine{00040\ \textcolor{comment}{\ \ \ \ \ \ \ \ print(t[i].item())}}
\DoxyCodeLine{00041\ \textcolor{comment}{\ \ \ \ print(torch.randint(0,\ 0xFFFFFFFF,\ [1]).item())}}
\DoxyCodeLine{00042\ \textcolor{comment}{\ \ \ \ t\ =\ torch.zeros(16);}}
\DoxyCodeLine{00043\ \textcolor{comment}{\ \ \ \ t.normal\_()}}
\DoxyCodeLine{00044\ \textcolor{comment}{\ \ \ \ for\ i\ in\ range(len(t))\ :}}
\DoxyCodeLine{00045\ \textcolor{comment}{\ \ \ \ \ \ \ \ print(t[i].item())}}
\DoxyCodeLine{00046\ \textcolor{comment}{\ \ \ \ print(torch.randint(0,\ 0xFFFFFFFF,\ [1]).item())}}
\DoxyCodeLine{00047\ \textcolor{comment}{}}
\DoxyCodeLine{00048\ \textcolor{comment}{Both\ output:}}
\DoxyCodeLine{00049\ \textcolor{comment}{}}
\DoxyCodeLine{00050\ \textcolor{comment}{\ \ \ \ 4053805790}}
\DoxyCodeLine{00051\ \textcolor{comment}{\ \ \ \ 2173880614}}
\DoxyCodeLine{00052\ \textcolor{comment}{\ \ \ \ 380293709}}
\DoxyCodeLine{00053\ \textcolor{comment}{\ \ \ \ 1237255315}}
\DoxyCodeLine{00054\ \textcolor{comment}{\ \ \ \ 2986595568}}
\DoxyCodeLine{00055\ \textcolor{comment}{\ \ \ \ 0.7947664260864258}}
\DoxyCodeLine{00056\ \textcolor{comment}{\ \ \ \ 1.4369317293167114}}
\DoxyCodeLine{00057\ \textcolor{comment}{\ \ \ \ -\/\ 0.2292192131280899}}
\DoxyCodeLine{00058\ \textcolor{comment}{\ \ \ \ 0.47556325793266296}}
\DoxyCodeLine{00059\ \textcolor{comment}{\ \ \ \ -\/\ 0.6334410905838013}}
\DoxyCodeLine{00060\ \textcolor{comment}{\ \ \ \ -\/\ 0.5791953802108765}}
\DoxyCodeLine{00061\ \textcolor{comment}{\ \ \ \ -\/\ 0.0925704762339592}}
\DoxyCodeLine{00062\ \textcolor{comment}{\ \ \ \ -\/\ 0.8659197092056274}}
\DoxyCodeLine{00063\ \textcolor{comment}{\ \ \ \ 2186503452}}
\DoxyCodeLine{00064\ \textcolor{comment}{\ \ \ \ -\/\ 1.2813878059387207}}
\DoxyCodeLine{00065\ \textcolor{comment}{\ \ \ \ -\/\ 2.646395683288574}}
\DoxyCodeLine{00066\ \textcolor{comment}{\ \ \ \ -\/\ 0.06569503247737885}}
\DoxyCodeLine{00067\ \textcolor{comment}{\ \ \ \ 0.2180829495191574}}
\DoxyCodeLine{00068\ \textcolor{comment}{\ \ \ \ -\/\ 0.46536165475845337}}
\DoxyCodeLine{00069\ \textcolor{comment}{\ \ \ \ -\/\ 0.33108410239219666}}
\DoxyCodeLine{00070\ \textcolor{comment}{\ \ \ \ 2.5485482215881348}}
\DoxyCodeLine{00071\ \textcolor{comment}{\ \ \ \ 0.10425379872322083}}
\DoxyCodeLine{00072\ \textcolor{comment}{\ \ \ \ 0.8460659980773926}}
\DoxyCodeLine{00073\ \textcolor{comment}{\ \ \ \ 0.9462448358535767}}
\DoxyCodeLine{00074\ \textcolor{comment}{\ \ \ \ -\/\ 0.2913765013217926}}
\DoxyCodeLine{00075\ \textcolor{comment}{\ \ \ \ 0.34313806891441345}}
\DoxyCodeLine{00076\ \textcolor{comment}{\ \ \ \ -\/\ 1.1186704635620117}}
\DoxyCodeLine{00077\ \textcolor{comment}{\ \ \ \ -\/\ 0.18305328488349915}}
\DoxyCodeLine{00078\ \textcolor{comment}{\ \ \ \ -\/\ 2.3153159618377686}}
\DoxyCodeLine{00079\ \textcolor{comment}{\ \ \ \ 0.3961987793445587}}
\DoxyCodeLine{00080\ \textcolor{comment}{\ \ \ \ 2756748748}}
\DoxyCodeLine{00081\ \textcolor{comment}{*/}}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \textcolor{preprocessor}{\#ifndef\ RAND\_H}}
\DoxyCodeLine{00084\ \textcolor{preprocessor}{\#define\ RAND\_H}}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \textcolor{preprocessor}{\#include\ <math.h>}}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00088\ \textcolor{preprocessor}{\#define\ MERSENNE\_STATE\_M\ 397u}}
\DoxyCodeLine{00089\ \textcolor{preprocessor}{\#define\ MERSENNE\_STATE\_N\ 624u}}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \textcolor{preprocessor}{\#define\ LMASK\ 0x7ffffffful}}
\DoxyCodeLine{00092\ \textcolor{preprocessor}{\#define\ UMASK\ 0x80000000ul}}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \textcolor{comment}{//\ Copyright(c)\ Makoto\ Matsumoto\ and\ Takuji\ Nishimura}}
\DoxyCodeLine{00095\ }
\DoxyCodeLine{00096\ \textcolor{comment}{//\ This\ implementation\ follows\ PyTorch\ so\ that\ we\ are\ numerically\ identical\ when\ running\ verification\ tests.}}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\{}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ seed\_;}
\DoxyCodeLine{00100\ \ \ \ \ \textcolor{keywordtype}{int}\ left\_;}
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ next\_;}
\DoxyCodeLine{00102\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ state\_[\mbox{\hyperlink{llmc_2rand_8h_a9022c76ca7e2619a5687b1c096a26991}{MERSENNE\_STATE\_N}}];}
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ MATRIX\_A[2];}
\DoxyCodeLine{00104\ \}\ \mbox{\hyperlink{structmt19937__state}{mt19937\_state}};}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{llmc_2rand_8h_ab64d400dcc18bac40a0c38b316caa406}{manual\_seed}}(\mbox{\hyperlink{structmt19937__state}{mt19937\_state}}*\ state,\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ seed)\ \{}
\DoxyCodeLine{00107\ \ \ \ \ state-\/>\mbox{\hyperlink{structmt19937__state_a71b29327a073f3058f3f11a6f3888db3}{MATRIX\_A}}[0]\ =\ 0x0u;}
\DoxyCodeLine{00108\ \ \ \ \ state-\/>\mbox{\hyperlink{structmt19937__state_a71b29327a073f3058f3f11a6f3888db3}{MATRIX\_A}}[1]\ =\ 0x9908b0df;}
\DoxyCodeLine{00109\ \ \ \ \ state-\/>\mbox{\hyperlink{structmt19937__state_a0e58f1052e945de2ff966dcd84f65820}{state\_}}[0]\ =\ seed\ \&\ 0xffffffff;}
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ j\ =\ 1;\ j\ <\ \mbox{\hyperlink{llmc_2rand_8h_a9022c76ca7e2619a5687b1c096a26991}{MERSENNE\_STATE\_N}};\ j++)\ \{}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ state-\/>\mbox{\hyperlink{structmt19937__state_a0e58f1052e945de2ff966dcd84f65820}{state\_}}[j]\ =\ 1812433253\ *\ (state-\/>\mbox{\hyperlink{structmt19937__state_a0e58f1052e945de2ff966dcd84f65820}{state\_}}[j\ -\/\ 1]\ \string^\ (state-\/>\mbox{\hyperlink{structmt19937__state_a0e58f1052e945de2ff966dcd84f65820}{state\_}}[j\ -\/\ 1]\ >>\ 30))\ +\ j;}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ state-\/>\mbox{\hyperlink{structmt19937__state_a0e58f1052e945de2ff966dcd84f65820}{state\_}}[j]\ \&=\ 0xffffffff;}
\DoxyCodeLine{00113\ \ \ \ \ \}}
\DoxyCodeLine{00114\ \ \ \ \ state-\/>\mbox{\hyperlink{structmt19937__state_adf841970e8e4d88f209c476dac660f32}{left\_}}\ =\ 1;}
\DoxyCodeLine{00115\ \ \ \ \ state-\/>\mbox{\hyperlink{structmt19937__state_a14cb2daaaa420315f3f3ab7fb91c68f1}{next\_}}\ =\ 0;}
\DoxyCodeLine{00116\ \}}
\DoxyCodeLine{00117\ }
\DoxyCodeLine{00118\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{llmc_2rand_8h_afb94b58f4a93449138e8249ed5ddd79f}{next\_state}}(\mbox{\hyperlink{structmt19937__state}{mt19937\_state}}*\ state)\ \{}
\DoxyCodeLine{00119\ \ \ \ \ state-\/>\mbox{\hyperlink{structmt19937__state_adf841970e8e4d88f209c476dac660f32}{left\_}}\ =\ \mbox{\hyperlink{llmc_2rand_8h_a9022c76ca7e2619a5687b1c096a26991}{MERSENNE\_STATE\_N}};}
\DoxyCodeLine{00120\ \ \ \ \ state-\/>\mbox{\hyperlink{structmt19937__state_a14cb2daaaa420315f3f3ab7fb91c68f1}{next\_}}\ =\ 0;}
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ y,\ j;}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keywordflow}{for}\ (j\ =\ 0;\ j\ <\ \mbox{\hyperlink{llmc_2rand_8h_a9022c76ca7e2619a5687b1c096a26991}{MERSENNE\_STATE\_N}}\ -\/\ \mbox{\hyperlink{llmc_2rand_8h_a35aa0761eaac846615ff6474e3dcd51b}{MERSENNE\_STATE\_M}};\ j++)\ \{}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \ \ y\ =\ (state-\/>\mbox{\hyperlink{structmt19937__state_a0e58f1052e945de2ff966dcd84f65820}{state\_}}[j]\ \&\ \mbox{\hyperlink{llmc_2rand_8h_abc83d313581e501ef608cf2bd7db2816}{UMASK}})\ |\ (state-\/>\mbox{\hyperlink{structmt19937__state_a0e58f1052e945de2ff966dcd84f65820}{state\_}}[j\ +\ 1]\ \&\ \mbox{\hyperlink{llmc_2rand_8h_a82117abf48fef99562b7dc087c79bb5c}{LMASK}});}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \ \ state-\/>\mbox{\hyperlink{structmt19937__state_a0e58f1052e945de2ff966dcd84f65820}{state\_}}[j]\ =\ state-\/>\mbox{\hyperlink{structmt19937__state_a0e58f1052e945de2ff966dcd84f65820}{state\_}}[j\ +\ \mbox{\hyperlink{llmc_2rand_8h_a35aa0761eaac846615ff6474e3dcd51b}{MERSENNE\_STATE\_M}}]\ \string^\ (y\ >>\ 1)\ \string^\ state-\/>\mbox{\hyperlink{structmt19937__state_a71b29327a073f3058f3f11a6f3888db3}{MATRIX\_A}}[y\ \&\ 0x1];}
\DoxyCodeLine{00125\ \ \ \ \ \}}
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keywordflow}{for}\ (;\ j\ <\ \mbox{\hyperlink{llmc_2rand_8h_a9022c76ca7e2619a5687b1c096a26991}{MERSENNE\_STATE\_N}}\ -\/\ 1;\ j++)\ \{}
\DoxyCodeLine{00127\ \ \ \ \ \ \ \ \ y\ =\ (state-\/>\mbox{\hyperlink{structmt19937__state_a0e58f1052e945de2ff966dcd84f65820}{state\_}}[j]\ \&\ \mbox{\hyperlink{llmc_2rand_8h_abc83d313581e501ef608cf2bd7db2816}{UMASK}})\ |\ (state-\/>\mbox{\hyperlink{structmt19937__state_a0e58f1052e945de2ff966dcd84f65820}{state\_}}[j\ +\ 1]\ \&\ \mbox{\hyperlink{llmc_2rand_8h_a82117abf48fef99562b7dc087c79bb5c}{LMASK}});}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ state-\/>\mbox{\hyperlink{structmt19937__state_a0e58f1052e945de2ff966dcd84f65820}{state\_}}[j]\ =\ state-\/>\mbox{\hyperlink{structmt19937__state_a0e58f1052e945de2ff966dcd84f65820}{state\_}}[j\ +\ (\mbox{\hyperlink{llmc_2rand_8h_a35aa0761eaac846615ff6474e3dcd51b}{MERSENNE\_STATE\_M}}\ -\/\ \mbox{\hyperlink{llmc_2rand_8h_a9022c76ca7e2619a5687b1c096a26991}{MERSENNE\_STATE\_N}})]\ \string^\ (y\ >>\ 1)\ \string^\ state-\/>\mbox{\hyperlink{structmt19937__state_a71b29327a073f3058f3f11a6f3888db3}{MATRIX\_A}}[y\ \&\ 0x1];}
\DoxyCodeLine{00129\ \ \ \ \ \}}
\DoxyCodeLine{00130\ \ \ \ \ y\ =\ (state-\/>\mbox{\hyperlink{structmt19937__state_a0e58f1052e945de2ff966dcd84f65820}{state\_}}[\mbox{\hyperlink{llmc_2rand_8h_a9022c76ca7e2619a5687b1c096a26991}{MERSENNE\_STATE\_N}}\ -\/\ 1]\ \&\ \mbox{\hyperlink{llmc_2rand_8h_abc83d313581e501ef608cf2bd7db2816}{UMASK}})\ |\ (state-\/>\mbox{\hyperlink{structmt19937__state_a0e58f1052e945de2ff966dcd84f65820}{state\_}}[0]\ \&\ \mbox{\hyperlink{llmc_2rand_8h_a82117abf48fef99562b7dc087c79bb5c}{LMASK}});}
\DoxyCodeLine{00131\ \ \ \ \ state-\/>\mbox{\hyperlink{structmt19937__state_a0e58f1052e945de2ff966dcd84f65820}{state\_}}[\mbox{\hyperlink{llmc_2rand_8h_a9022c76ca7e2619a5687b1c096a26991}{MERSENNE\_STATE\_N}}\ -\/\ 1]\ =\ state-\/>\mbox{\hyperlink{structmt19937__state_a0e58f1052e945de2ff966dcd84f65820}{state\_}}[\mbox{\hyperlink{llmc_2rand_8h_a35aa0761eaac846615ff6474e3dcd51b}{MERSENNE\_STATE\_M}}\ -\/\ 1]\ \string^\ (y\ >>\ 1)\ \string^\ state-\/>\mbox{\hyperlink{structmt19937__state_a71b29327a073f3058f3f11a6f3888db3}{MATRIX\_A}}[y\ \&\ 0x1];}
\DoxyCodeLine{00132\ \}}
\DoxyCodeLine{00133\ }
\DoxyCodeLine{00134\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{llmc_2rand_8h_aa0912566c6373c783786d3a5365a6dfd}{randint32}}(\mbox{\hyperlink{structmt19937__state}{mt19937\_state}}*\ state)\ \{}
\DoxyCodeLine{00135\ \ \ \ \ \textcolor{keywordflow}{if}\ (!state)\ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00136\ \ \ \ \ \textcolor{keywordflow}{if}\ (state-\/>\mbox{\hyperlink{structmt19937__state_a71b29327a073f3058f3f11a6f3888db3}{MATRIX\_A}}[0]\ !=\ 0\ ||\ state-\/>\mbox{\hyperlink{structmt19937__state_a71b29327a073f3058f3f11a6f3888db3}{MATRIX\_A}}[1]\ !=\ 0x9908b0df)\ \mbox{\hyperlink{llmc_2rand_8h_ab64d400dcc18bac40a0c38b316caa406}{manual\_seed}}(state,\ 5489);\ \textcolor{comment}{//\ auto-\/initialize}}
\DoxyCodeLine{00137\ \ \ \ \ \textcolor{keywordflow}{if}\ (-\/-\/state-\/>\mbox{\hyperlink{structmt19937__state_adf841970e8e4d88f209c476dac660f32}{left\_}}\ <=\ 0)\ \{}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{llmc_2rand_8h_afb94b58f4a93449138e8249ed5ddd79f}{next\_state}}(state);}
\DoxyCodeLine{00139\ \ \ \ \ \}}
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ y\ =\ state-\/>\mbox{\hyperlink{structmt19937__state_a0e58f1052e945de2ff966dcd84f65820}{state\_}}[state-\/>\mbox{\hyperlink{structmt19937__state_a14cb2daaaa420315f3f3ab7fb91c68f1}{next\_}}++];}
\DoxyCodeLine{00141\ \ \ \ \ y\ \string^=\ y\ >>\ 11;}
\DoxyCodeLine{00142\ \ \ \ \ y\ \string^=\ (y\ <<\ 7)\ \&\ 0x9d2c5680;}
\DoxyCodeLine{00143\ \ \ \ \ y\ \string^=\ (y\ <<\ 15)\ \&\ 0xefc60000;}
\DoxyCodeLine{00144\ \ \ \ \ y\ \string^=\ y\ >>\ 18;}
\DoxyCodeLine{00145\ \ \ \ \ \textcolor{keywordflow}{return}\ y;}
\DoxyCodeLine{00146\ \}}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long}\ \mbox{\hyperlink{llmc_2rand_8h_a50d90a2d974f0e80fef249e0928787d4}{randint64}}(\mbox{\hyperlink{structmt19937__state}{mt19937\_state}}*\ state)\ \{}
\DoxyCodeLine{00149\ \ \ \ \ \textcolor{keywordflow}{return}\ (((\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{long}\ \textcolor{keywordtype}{long})(\mbox{\hyperlink{llmc_2rand_8h_aa0912566c6373c783786d3a5365a6dfd}{randint32}}(state))\ <<\ 32)\ |\ \mbox{\hyperlink{llmc_2rand_8h_aa0912566c6373c783786d3a5365a6dfd}{randint32}}(state));}
\DoxyCodeLine{00150\ \}}
\DoxyCodeLine{00151\ }
\DoxyCodeLine{00152\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{llmc_2rand_8h_a14ab71587b19dc0e160b599e394b5183}{randfloat32}}(\mbox{\hyperlink{structmt19937__state}{mt19937\_state}}*\ state)\ \{}
\DoxyCodeLine{00153\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{llmc_2rand_8h_aa0912566c6373c783786d3a5365a6dfd}{randint32}}(state)\ \&\ ((1ull\ <<\ 24)\ -\/\ 1))\ *\ (1.0f\ /\ (1ull\ <<\ 24));}
\DoxyCodeLine{00154\ \}}
\DoxyCodeLine{00155\ }
\DoxyCodeLine{00156\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{llmc_2rand_8h_a44f4e82d0e57b9e683f71fcd5c1c359c}{randfloat64}}(\mbox{\hyperlink{structmt19937__state}{mt19937\_state}}*\ state)\ \{}
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{keywordflow}{return}\ (\mbox{\hyperlink{llmc_2rand_8h_a50d90a2d974f0e80fef249e0928787d4}{randint64}}(state)\ \&\ ((1ull\ <<\ 53)\ -\/\ 1))\ *\ (1.0\ /\ (1ull\ <<\ 53));}
\DoxyCodeLine{00158\ \}}
\DoxyCodeLine{00159\ }
\DoxyCodeLine{00160\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{llmc_2rand_8h_aaf0aeafba5647f2ad3bb2cae66e5ed44}{uniform\_}}(\textcolor{keywordtype}{float}*\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}},\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ numel,\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_a66a6152caa0d2dec6985ed86838ba876}{from}},\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_a633ab603a49d0a046734a0f3e6de45e9}{to}},\ \mbox{\hyperlink{structmt19937__state}{mt19937\_state}}*\ state)\ \{}
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ t\ =\ 0;\ t\ <\ numel;\ t++)\ \{}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[t]\ =\ \mbox{\hyperlink{llmc_2rand_8h_a14ab71587b19dc0e160b599e394b5183}{randfloat32}}(state)\ *\ (\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_a633ab603a49d0a046734a0f3e6de45e9}{to}}\ -\/\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_a66a6152caa0d2dec6985ed86838ba876}{from}})\ +\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_a66a6152caa0d2dec6985ed86838ba876}{from}};}
\DoxyCodeLine{00163\ \ \ \ \ \}}
\DoxyCodeLine{00164\ \}}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \textcolor{comment}{//\ Box-\/Muller\ transform:\ maps\ uniform\ random\ numbers\ to\ Gaussian\ distributed\ numbers}}
\DoxyCodeLine{00167\ \textcolor{comment}{//\ https://en.wikipedia.org/wiki/Box\%E2\%80\%93Muller\_transform}}
\DoxyCodeLine{00168\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{llmc_2rand_8h_a6a836e0baf396676a8bace45d01f9f8c}{normal\_fill\_16}}(\textcolor{keywordtype}{float}*\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}},\ \textcolor{keywordtype}{float}\ mean,\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{namespacestd}{std}})\ \{}
\DoxyCodeLine{00169\ \textcolor{preprocessor}{\ \ \ \ \#define\ EPSILONE\ 1e-\/12f}}
\DoxyCodeLine{00170\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ t\ =\ 0;\ t\ <\ 8;\ t++)\ \{}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ u1\ =\ 1\ -\/\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[t];}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ u2\ =\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[t\ +\ 8];}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ radius\ =\ sqrtf(-\/2\ *\ logf(u1\ +\ \mbox{\hyperlink{llmc_2rand_8h_abe954707a60c07ec700d8c1bfe38fe64}{EPSILONE}}));}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ theta\ =\ (float)\ (2.0\ *\ M\_PI\ *\ u2);}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[t]\ =\ (radius\ *\ cosf(theta)\ *\ \mbox{\hyperlink{namespacestd}{std}}\ +\ mean);}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[t\ +\ 8]\ =\ (radius\ *\ sinf(theta)\ *\ \mbox{\hyperlink{namespacestd}{std}}\ +\ mean);}
\DoxyCodeLine{00177\ \ \ \ \ \}}
\DoxyCodeLine{00178\ \}}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{llmc_2rand_8h_a1b50a02ae5c4490be30bdb93660d9eb8}{normal\_fill}}(\textcolor{keywordtype}{float}*\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}},\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ numel,\ \textcolor{keywordtype}{float}\ mean,\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{namespacestd}{std}},\ \mbox{\hyperlink{structmt19937__state}{mt19937\_state}}*\ state)\ \{}
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ t\ =\ 0;\ t\ <\ numel;\ t++)\ \{}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[t]\ =\ \mbox{\hyperlink{llmc_2rand_8h_a14ab71587b19dc0e160b599e394b5183}{randfloat32}}(state);}
\DoxyCodeLine{00183\ \ \ \ \ \}}
\DoxyCodeLine{00184\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ =\ 0;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ <\ numel\ -\/\ 15;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ +=\ 16)\ \{}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{llmc_2rand_8h_a6a836e0baf396676a8bace45d01f9f8c}{normal\_fill\_16}}(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}\ +\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ mean,\ \mbox{\hyperlink{namespacestd}{std}});}
\DoxyCodeLine{00186\ \ \ \ \ \}}
\DoxyCodeLine{00187\ \ \ \ \ \textcolor{keywordflow}{if}\ (numel\ \%\ 16\ !=\ 0)\ \{}
\DoxyCodeLine{00188\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ recompute\ the\ last\ 16\ values}}
\DoxyCodeLine{00189\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}\ =\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}\ +\ numel\ -\/\ 16;}
\DoxyCodeLine{00190\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ =\ 0;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ <\ 16;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}++)\ \{}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}]\ =\ \mbox{\hyperlink{llmc_2rand_8h_a14ab71587b19dc0e160b599e394b5183}{randfloat32}}(state);}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00193\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{llmc_2rand_8h_a6a836e0baf396676a8bace45d01f9f8c}{normal\_fill\_16}}(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}},\ mean,\ \mbox{\hyperlink{namespacestd}{std}});}
\DoxyCodeLine{00194\ \ \ \ \ \}}
\DoxyCodeLine{00195\ \}}
\DoxyCodeLine{00196\ }
\DoxyCodeLine{00197\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{llmc_2rand_8h_a486e23d6acb57456d73173c03f66a052}{normal\_}}(\textcolor{keywordtype}{float}*\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}},\ \textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ numel,\ \textcolor{keywordtype}{float}\ mean,\ \textcolor{keywordtype}{float}\ \mbox{\hyperlink{namespacestd}{std}},\ \mbox{\hyperlink{structmt19937__state}{mt19937\_state}}*\ state)\ \{}
\DoxyCodeLine{00198\ \textcolor{preprocessor}{\ \ \ \ \#define\ EPSILONE\ 1e-\/12f}}
\DoxyCodeLine{00199\ \ \ \ \ \textcolor{keywordflow}{if}\ (numel\ >=\ 16)\ \{}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{llmc_2rand_8h_a1b50a02ae5c4490be30bdb93660d9eb8}{normal\_fill}}(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}},\ numel,\ mean,\ \mbox{\hyperlink{namespacestd}{std}},\ state);}
\DoxyCodeLine{00201\ \ \ \ \ \}}
\DoxyCodeLine{00202\ \ \ \ \ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{double}\ next\_double\_normal\_sample\ =\ 0.0;\ \textcolor{comment}{//\ make\ compiler\ warning\ happy,\ won't\ be\ used}}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ has\_next\_double\_normal\_sample\ =\ 0;}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{int}\ \ t\ =\ 0;\ t\ <\ numel;\ t++)\ \{}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (has\_next\_double\_normal\_sample)\ \{}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[t]\ =\ (float)(next\_double\_normal\_sample\ *\ \mbox{\hyperlink{namespacestd}{std}}\ +\ mean);}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ has\_next\_double\_normal\_sample\ =\ 0;}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ for\ numel\ <\ 16\ we\ draw\ a\ double\ (float64)}}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ u1\ =\ (float)\ \mbox{\hyperlink{llmc_2rand_8h_a44f4e82d0e57b9e683f71fcd5c1c359c}{randfloat64}}(state);}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ u2\ =\ (float)\ \mbox{\hyperlink{llmc_2rand_8h_a44f4e82d0e57b9e683f71fcd5c1c359c}{randfloat64}}(state);}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ radius\ =\ sqrtf(-\/2\ *\ logf(1\ -\/\ u2\ +\ \mbox{\hyperlink{llmc_2rand_8h_abe954707a60c07ec700d8c1bfe38fe64}{EPSILONE}}));}
\DoxyCodeLine{00215\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{float}\ theta\ =\ (float)\ (2.0\ *\ M\_PI\ *\ u1);}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \ \ \ \ next\_double\_normal\_sample\ =\ radius\ *\ sinf(theta);}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \ \ \ \ has\_next\_double\_normal\_sample\ =\ 1;}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[t]\ =\ (radius\ *\ cosf(theta)\ *\ \mbox{\hyperlink{namespacestd}{std}}\ +\ mean);}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00220\ \ \ \ \ \}}
\DoxyCodeLine{00221\ \}}
\DoxyCodeLine{00222\ }
\DoxyCodeLine{00223\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{llmc_2rand_8h_a482d97a202658d17d5a9617b7f881890}{init\_identity\_permutation}}(\textcolor{keywordtype}{int}\ *\mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}},\ \textcolor{keywordtype}{int}\ numel)\ \{}
\DoxyCodeLine{00224\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ =\ 0;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ <\ numel;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}++)\ \{}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}]\ =\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}};}
\DoxyCodeLine{00226\ \ \ \ \ \}}
\DoxyCodeLine{00227\ \}}
\DoxyCodeLine{00228\ }
\DoxyCodeLine{00229\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{llmc_2rand_8h_a43def54c41aa25f3bfc5180bfa09c7fc}{random\_permutation}}(\textcolor{keywordtype}{int}*\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}},\ \textcolor{keywordtype}{int}\ numel,\ \mbox{\hyperlink{structmt19937__state}{mt19937\_state}}*\ state)\ \{}
\DoxyCodeLine{00230\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ =\ numel\ -\/\ 1;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ >\ 0;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}-\/-\/)\ \{}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ pick\ an\ index\ j\ in\ [0,\ i]\ with\ equal\ probability}}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ j\ =\ \mbox{\hyperlink{llmc_2rand_8h_aa0912566c6373c783786d3a5365a6dfd}{randint32}}(state)\ \%\ (\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ +\ 1);}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ swap\ i\ <-\/>\ j}}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ tmp\ =\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}];}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}]\ =\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[j];}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[j]\ =\ tmp;}
\DoxyCodeLine{00237\ \ \ \ \ \}}
\DoxyCodeLine{00238\ \}}
\DoxyCodeLine{00239\ }
\DoxyCodeLine{00240\ \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
