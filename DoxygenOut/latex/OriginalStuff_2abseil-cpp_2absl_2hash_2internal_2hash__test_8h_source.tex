\doxysection{hash\+\_\+test.\+h}
\hypertarget{OriginalStuff_2abseil-cpp_2absl_2hash_2internal_2hash__test_8h_source}{}\label{OriginalStuff_2abseil-cpp_2absl_2hash_2internal_2hash__test_8h_source}\index{OriginalStuff/abseil-\/cpp/absl/hash/internal/hash\_test.h@{OriginalStuff/abseil-\/cpp/absl/hash/internal/hash\_test.h}}
\mbox{\hyperlink{OriginalStuff_2abseil-cpp_2absl_2hash_2internal_2hash__test_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ 2023\ The\ Abseil\ Authors.}}
\DoxyCodeLine{00002\ \textcolor{comment}{//}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00006\ \textcolor{comment}{//}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ \ \ \ \ \ https://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00010\ \textcolor{comment}{//\ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ limitations\ under\ the\ License.}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{comment}{//\ Common\ code\ shared\ between\ absl/hash/hash\_test.cc\ and}}
\DoxyCodeLine{00016\ \textcolor{comment}{//\ absl/hash/hash\_instantiated\_test.cc.}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#ifndef\ ABSL\_HASH\_INTERNAL\_HASH\_TEST\_H\_}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#define\ ABSL\_HASH\_INTERNAL\_HASH\_TEST\_H\_}}
\DoxyCodeLine{00020\ }
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ <utility>}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}absl/base/config.h"{}}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}absl/hash/hash.h"{}}}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceabsl}{absl}}\ \{}
\DoxyCodeLine{00028\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2config_8h_a1426209ed359f780778edc8975b23f07}{ABSL\_NAMESPACE\_BEGIN}}}
\DoxyCodeLine{00029\ \textcolor{keyword}{namespace\ }hash\_test\_internal\ \{}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \textcolor{comment}{//\ Utility\ wrapper\ of\ T\ for\ the\ purposes\ of\ testing\ the\ \`{}AbslHash`\ type\ erasure}}
\DoxyCodeLine{00032\ \textcolor{comment}{//\ mechanism.\ \ \`{}TypeErasedValue<T>`\ can\ be\ constructed\ with\ a\ \`{}T`,\ and\ can}}
\DoxyCodeLine{00033\ \textcolor{comment}{//\ be\ compared\ and\ hashed.\ \ However,\ all\ hashing\ goes\ through\ the\ hashing}}
\DoxyCodeLine{00034\ \textcolor{comment}{//\ type-\/erasure\ framework.}}
\DoxyCodeLine{00035\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00036\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedValue}{TypeErasedValue}}\ \{}
\DoxyCodeLine{00037\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00038\ \ \ \mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedValue_acabe7797bdda150f21e23b568a962638}{TypeErasedValue}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00039\ \ \ \mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedValue_a91b2d61b0b7aec6593fa2afe173ae3fd}{TypeErasedValue}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedValue}{TypeErasedValue}}\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00040\ \ \ \mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedValue_a9f2ab2a2672f5bcd92e4d0cc641bbb6b}{TypeErasedValue}}(\mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedValue}{TypeErasedValue}}\&\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00041\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedValue_af0cfd86b7261517af04325a59e8ea7c5}{TypeErasedValue}}(\textcolor{keyword}{const}\ T\&\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}})\ :\ n\_(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}})\ \{\}}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ H>}
\DoxyCodeLine{00044\ \ \ \textcolor{keyword}{friend}\ H\ \mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedValue_a24aa2c421787227de50c34181778a50d}{AbslHashValue}}(H\ hash\_state,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedValue}{TypeErasedValue}}\&\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9e3669d19b675bd57058fd4664205d2a}{v}})\ \{}
\DoxyCodeLine{00045\ \ \ \ \ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9e3669d19b675bd57058fd4664205d2a}{v}}.HashValue(\mbox{\hyperlink{classabsl_1_1HashState_a5bef10fcef942635c421b9d60c187139}{absl::HashState::Create}}(\&hash\_state));}
\DoxyCodeLine{00046\ \ \ \ \ \textcolor{keywordflow}{return}\ hash\_state;}
\DoxyCodeLine{00047\ \ \ \}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedValue_a27cafa09a498034c108f541f7bdc2def}{HashValue}}(\mbox{\hyperlink{classabsl_1_1HashState}{absl::HashState}}\ state)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00050\ \ \ \ \ \mbox{\hyperlink{classabsl_1_1hash__internal_1_1HashStateBase_a0b3cf44f5207cabce3a51c1c379b97a6}{absl::HashState::combine}}(std::move(state),\ n\_);}
\DoxyCodeLine{00051\ \ \ \}}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedValue_ac698cb94f2dbb282b6e4a831ac2837c4}{operator==}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedValue}{TypeErasedValue}}\&\ rhs)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ n\_\ ==\ rhs.n\_;\ \}}
\DoxyCodeLine{00054\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedValue_ae12ffcb275011ed16a521408969eb34d}{operator!=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedValue}{TypeErasedValue}}\&\ rhs)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ !(*\textcolor{keyword}{this}\ ==\ rhs);\ \}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00057\ \ \ T\ n\_;}
\DoxyCodeLine{00058\ \};}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \textcolor{comment}{//\ A\ TypeErasedValue\ refinement,\ for\ containers.\ \ It\ exposes\ the\ wrapped}}
\DoxyCodeLine{00061\ \textcolor{comment}{//\ \`{}value\_type`\ and\ is\ constructible\ from\ an\ initializer\ list.}}
\DoxyCodeLine{00062\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00063\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedContainer}{TypeErasedContainer}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedValue}{TypeErasedValue}}<T>\ \{}
\DoxyCodeLine{00064\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00065\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedContainer_a93697e9ca96f50d78285307581e43fb8}{value\_type}}\ =\ \textcolor{keyword}{typename}\ T::value\_type;}
\DoxyCodeLine{00066\ \ \ \mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedContainer_a59ae8283d61769e4438b77721d8f5ea6}{TypeErasedContainer}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00067\ \ \ \mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedContainer_ad21155258ee5c0776e2b11523e15c303}{TypeErasedContainer}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedContainer}{TypeErasedContainer}}\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00068\ \ \ \mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedContainer_a6a5e6dff5c50b9a02a53739de62c408a}{TypeErasedContainer}}(\mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedContainer}{TypeErasedContainer}}\&\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00069\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedContainer_a0ae82e4d68634cbae24e2da20856e30e}{TypeErasedContainer}}(\textcolor{keyword}{const}\ T\&\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}})\ :\ \mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedValue}{TypeErasedValue}}<T>(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}})\ \{\}}
\DoxyCodeLine{00070\ \ \ \mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedContainer_a5b68fc1d5865e71bbcbdc137c31bb876}{TypeErasedContainer}}(std::initializer\_list<value\_type>\ init\_list)}
\DoxyCodeLine{00071\ \ \ \ \ \ \ :\ \mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedContainer}{TypeErasedContainer}}(T(init\_list.begin(),\ init\_list.end()))\ \{\}}
\DoxyCodeLine{00072\ \ \ \textcolor{comment}{//\ one-\/argument\ constructor\ of\ value\ type\ T,\ to\ appease\ older\ toolchains\ that}}
\DoxyCodeLine{00073\ \ \ \textcolor{comment}{//\ get\ confused\ by\ one-\/element\ initializer\ lists\ in\ some\ contexts}}
\DoxyCodeLine{00074\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedContainer_a0fff329b81eb4e7b4be652b95b2a63ce}{TypeErasedContainer}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedContainer_a93697e9ca96f50d78285307581e43fb8}{value\_type}}\&\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9e3669d19b675bd57058fd4664205d2a}{v}})}
\DoxyCodeLine{00075\ \ \ \ \ \ \ :\ \mbox{\hyperlink{classabsl_1_1hash__test__internal_1_1TypeErasedContainer}{TypeErasedContainer}}(T(\&\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9e3669d19b675bd57058fd4664205d2a}{v}},\ \&\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9e3669d19b675bd57058fd4664205d2a}{v}}\ +\ 1))\ \{\}}
\DoxyCodeLine{00076\ \};}
\DoxyCodeLine{00077\ }
\DoxyCodeLine{00078\ \textcolor{comment}{//\ Helper\ trait\ to\ verify\ if\ T\ is\ hashable.\ We\ use\ absl::Hash's\ poison\ status\ to}}
\DoxyCodeLine{00079\ \textcolor{comment}{//\ detect\ it.}}
\DoxyCodeLine{00080\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00081\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceabsl_1_1hash__test__internal_a894a19fd065ad8a72a9ef3dbc2a3d3d8}{is\_hashable}}\ =\ std::is\_default\_constructible<absl::Hash<T>>;}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \}\ \ \textcolor{comment}{//\ namespace\ hash\_test\_internal}}
\DoxyCodeLine{00084\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2config_8h_a49c6cd9be2b7205d48557c9fa90ec5a6}{ABSL\_NAMESPACE\_END}}}
\DoxyCodeLine{00085\ \}\ \ \textcolor{comment}{//\ namespace\ absl}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ ABSL\_HASH\_INTERNAL\_HASH\_TEST\_H\_}}

\end{DoxyCode}
