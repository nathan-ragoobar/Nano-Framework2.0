\doxysection{flag.\+h}
\hypertarget{OriginalStuff_2abseil-cpp_2absl_2flags_2internal_2flag_8h_source}{}\label{OriginalStuff_2abseil-cpp_2absl_2flags_2internal_2flag_8h_source}\index{OriginalStuff/abseil-\/cpp/absl/flags/internal/flag.h@{OriginalStuff/abseil-\/cpp/absl/flags/internal/flag.h}}
\mbox{\hyperlink{OriginalStuff_2abseil-cpp_2absl_2flags_2internal_2flag_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ Copyright\ 2019\ The\ Abseil\ Authors.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00007\ \textcolor{comment}{//}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ \ \ \ \ \ https://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00009\ \textcolor{comment}{//}}
\DoxyCodeLine{00010\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00014\ \textcolor{comment}{//\ limitations\ under\ the\ License.}}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#ifndef\ ABSL\_FLAGS\_INTERNAL\_FLAG\_H\_}}
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#define\ ABSL\_FLAGS\_INTERNAL\_FLAG\_H\_}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ <stddef.h>}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <stdint.h>}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ <atomic>}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ <cstring>}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ <memory>}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ <typeinfo>}}
\DoxyCodeLine{00028\ }
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ "{}absl/base/attributes.h"{}}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#include\ "{}absl/base/call\_once.h"{}}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#include\ "{}absl/base/casts.h"{}}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#include\ "{}absl/base/config.h"{}}}
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#include\ "{}absl/base/optimization.h"{}}}
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#include\ "{}absl/base/thread\_annotations.h"{}}}
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\#include\ "{}absl/flags/commandlineflag.h"{}}}
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#include\ "{}absl/flags/config.h"{}}}
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#include\ "{}absl/flags/internal/commandlineflag.h"{}}}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#include\ "{}absl/flags/internal/registry.h"{}}}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#include\ "{}absl/flags/internal/sequence\_lock.h"{}}}
\DoxyCodeLine{00040\ \textcolor{preprocessor}{\#include\ "{}absl/flags/marshalling.h"{}}}
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#include\ "{}absl/meta/type\_traits.h"{}}}
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\#include\ "{}absl/strings/string\_view.h"{}}}
\DoxyCodeLine{00043\ \textcolor{preprocessor}{\#include\ "{}absl/synchronization/mutex.h"{}}}
\DoxyCodeLine{00044\ \textcolor{preprocessor}{\#include\ "{}absl/utility/utility.h"{}}}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceabsl}{absl}}\ \{}
\DoxyCodeLine{00047\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2config_8h_a1426209ed359f780778edc8975b23f07}{ABSL\_NAMESPACE\_BEGIN}}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00050\ \textcolor{comment}{//\ Forward\ declaration\ of\ absl::Flag<T>\ public\ API.}}
\DoxyCodeLine{00051\ \textcolor{keyword}{namespace\ }flags\_internal\ \{}
\DoxyCodeLine{00052\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00053\ \textcolor{keyword}{class\ }\mbox{\hyperlink{namespaceabsl_adc2c59f0a1217899d876a9dc660ed53d}{Flag}};}
\DoxyCodeLine{00054\ \}\ \ \textcolor{comment}{//\ namespace\ flags\_internal}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00057\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceabsl_adc2c59f0a1217899d876a9dc660ed53d}{Flag}}\ =\ flags\_internal::Flag<T>;}
\DoxyCodeLine{00058\ }
\DoxyCodeLine{00059\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00060\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2attributes_8h_ad3388ffb9a4b2443a11d3ab2dee6ef4e}{ABSL\_MUST\_USE\_RESULT}}\ T\ \mbox{\hyperlink{namespaceabsl_aae3597bfadc2909a03baeeec50d0c24e}{GetFlag}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1Flag}{absl::Flag<T>}}\&\ flag);}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00063\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespaceabsl_a36197da0558ffb4e2c1b0177c3b441dd}{SetFlag}}(\mbox{\hyperlink{classabsl_1_1flags__internal_1_1Flag}{absl::Flag<T>}}*\ flag,\ \textcolor{keyword}{const}\ T\&\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9e3669d19b675bd57058fd4664205d2a}{v}});}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ V>}
\DoxyCodeLine{00066\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespaceabsl_a36197da0558ffb4e2c1b0177c3b441dd}{SetFlag}}(\mbox{\hyperlink{classabsl_1_1flags__internal_1_1Flag}{absl::Flag<T>}}*\ flag,\ \textcolor{keyword}{const}\ V\&\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9e3669d19b675bd57058fd4664205d2a}{v}});}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00069\ \textcolor{keyword}{const}\ CommandLineFlag\&\ \mbox{\hyperlink{namespaceabsl_ad69de6ce230058ffdfb2f3d2f991c093}{GetFlagReflectionHandle}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1Flag}{absl::Flag<U>}}\&\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca8fa14cdd754f91cc6554c9e71929cce7}{f}});}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00072\ \textcolor{comment}{//\ Flag\ value\ type\ operations,\ eg.,\ parsing,\ copying,\ etc.\ are\ provided}}
\DoxyCodeLine{00073\ \textcolor{comment}{//\ by\ function\ specific\ to\ that\ type\ with\ a\ signature\ matching\ FlagOpFn.}}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \textcolor{keyword}{namespace\ }flags\_internal\ \{}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \textcolor{keyword}{enum\ class}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20f}{FlagOp}}\ \{}
\DoxyCodeLine{00078\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20fa8bffcb3cd321adcf329efce8b61f1df9}{kAlloc}},}
\DoxyCodeLine{00079\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20faa075d0261593f6a884f416df38cb9696}{kDelete}},}
\DoxyCodeLine{00080\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20fa70055f8d83bee0a0075607b549829299}{kCopy}},}
\DoxyCodeLine{00081\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20fa10ff94a2f7bae806509230d5d09a8c40}{kCopyConstruct}},}
\DoxyCodeLine{00082\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20fa369da9be1a2625f2e8e91b84288a584f}{kSizeof}},}
\DoxyCodeLine{00083\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20fa8185b605a519dba4fc2254ae2d8743eb}{kFastTypeId}},}
\DoxyCodeLine{00084\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20faccacc25ed47caeab9d2efd02d432f2ac}{kRuntimeTypeId}},}
\DoxyCodeLine{00085\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20faf4266524e74570ef3c584c6488e19f8e}{kParse}},}
\DoxyCodeLine{00086\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20fac0510fbe3f44429a1a49e1908ecd9d9a}{kUnparse}},}
\DoxyCodeLine{00087\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20fac907ca76702e145675574ac776f5c430}{kValueOffset}},}
\DoxyCodeLine{00088\ \};}
\DoxyCodeLine{00089\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a79c0a52e12469d9f0fc439422d08984e}{FlagOpFn}}\ =\ \textcolor{keywordtype}{void}*\ (*)(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20f}{FlagOp}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*,\ \textcolor{keywordtype}{void}*,\ \textcolor{keywordtype}{void}*);}
\DoxyCodeLine{00090\ }
\DoxyCodeLine{00091\ \textcolor{comment}{//\ Forward\ declaration\ for\ Flag\ value\ specific\ operations.}}
\DoxyCodeLine{00092\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00093\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a2d74d831a12d19267ca3abe5447676bd}{FlagOps}}(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20f}{FlagOp}}\ op,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_ac3f9ff4294615df8b7e9684b7d6fddc7}{v1}},\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_aa517e2fff4a8c9cba11391ca12f91803}{v2}},\ \textcolor{keywordtype}{void}*\ v3);}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00095\ \textcolor{comment}{//\ Allocate\ aligned\ memory\ for\ a\ flag\ value.}}
\DoxyCodeLine{00096\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a9508d47890c353f9855dd9aa24e239ad}{Alloc}}(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a79c0a52e12469d9f0fc439422d08984e}{FlagOpFn}}\ op)\ \{}
\DoxyCodeLine{00097\ \ \ \textcolor{keywordflow}{return}\ op(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20fa8bffcb3cd321adcf329efce8b61f1df9}{FlagOp::kAlloc}},\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00098\ \}}
\DoxyCodeLine{00099\ \textcolor{comment}{//\ Deletes\ memory\ interpreting\ obj\ as\ flag\ value\ type\ pointer.}}
\DoxyCodeLine{00100\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_adfa24455ce145d8e23e0da36592b78ee}{Delete}}(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a79c0a52e12469d9f0fc439422d08984e}{FlagOpFn}}\ op,\ \textcolor{keywordtype}{void}*\ obj)\ \{}
\DoxyCodeLine{00101\ \ \ op(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20faa075d0261593f6a884f416df38cb9696}{FlagOp::kDelete}},\ \textcolor{keyword}{nullptr},\ obj,\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00102\ \}}
\DoxyCodeLine{00103\ \textcolor{comment}{//\ Copies\ src\ to\ dst\ interpreting\ as\ flag\ value\ type\ pointers.}}
\DoxyCodeLine{00104\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a7e56db669e98b0dc5ed7fa5e899e707e}{Copy}}(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a79c0a52e12469d9f0fc439422d08984e}{FlagOpFn}}\ op,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ src,\ \textcolor{keywordtype}{void}*\ dst)\ \{}
\DoxyCodeLine{00105\ \ \ op(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20fa70055f8d83bee0a0075607b549829299}{FlagOp::kCopy}},\ src,\ dst,\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00106\ \}}
\DoxyCodeLine{00107\ \textcolor{comment}{//\ Construct\ a\ copy\ of\ flag\ value\ in\ a\ location\ pointed\ by\ dst}}
\DoxyCodeLine{00108\ \textcolor{comment}{//\ based\ on\ src\ -\/\ pointer\ to\ the\ flag's\ value.}}
\DoxyCodeLine{00109\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_ab7eb8171b03502698a320d45bb65102a}{CopyConstruct}}(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a79c0a52e12469d9f0fc439422d08984e}{FlagOpFn}}\ op,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ src,\ \textcolor{keywordtype}{void}*\ dst)\ \{}
\DoxyCodeLine{00110\ \ \ op(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20fa10ff94a2f7bae806509230d5d09a8c40}{FlagOp::kCopyConstruct}},\ src,\ dst,\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00111\ \}}
\DoxyCodeLine{00112\ \textcolor{comment}{//\ Makes\ a\ copy\ of\ flag\ value\ pointed\ by\ obj.}}
\DoxyCodeLine{00113\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_aec2286396629a1a7570e689f220ead70}{Clone}}(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a79c0a52e12469d9f0fc439422d08984e}{FlagOpFn}}\ op,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ obj)\ \{}
\DoxyCodeLine{00114\ \ \ \textcolor{keywordtype}{void}*\ res\ =\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a9508d47890c353f9855dd9aa24e239ad}{flags\_internal::Alloc}}(op);}
\DoxyCodeLine{00115\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_ab7eb8171b03502698a320d45bb65102a}{flags\_internal::CopyConstruct}}(op,\ obj,\ res);}
\DoxyCodeLine{00116\ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00117\ \}}
\DoxyCodeLine{00118\ \textcolor{comment}{//\ Returns\ true\ if\ parsing\ of\ input\ text\ is\ successful.}}
\DoxyCodeLine{00119\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_ae1a874eb8d0823618d7e0febb046156f}{Parse}}(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a79c0a52e12469d9f0fc439422d08984e}{FlagOpFn}}\ op,\ \mbox{\hyperlink{classabsl_1_1string__view}{absl::string\_view}}\ text,\ \textcolor{keywordtype}{void}*\ dst,}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::string*\ error)\ \{}
\DoxyCodeLine{00121\ \ \ \textcolor{keywordflow}{return}\ op(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20faf4266524e74570ef3c584c6488e19f8e}{FlagOp::kParse}},\ \&text,\ dst,\ error)\ !=\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00122\ \}}
\DoxyCodeLine{00123\ \textcolor{comment}{//\ Returns\ string\ representing\ supplied\ value.}}
\DoxyCodeLine{00124\ \textcolor{keyword}{inline}\ std::string\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a57fec075be2e8b9ac75d107e5335d772}{Unparse}}(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a79c0a52e12469d9f0fc439422d08984e}{FlagOpFn}}\ op,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_aa0ccb5ee6d882ee3605ff47745c6467b}{val}})\ \{}
\DoxyCodeLine{00125\ \ \ std::string\ result;}
\DoxyCodeLine{00126\ \ \ op(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20fac0510fbe3f44429a1a49e1908ecd9d9a}{FlagOp::kUnparse}},\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_aa0ccb5ee6d882ee3605ff47745c6467b}{val}},\ \&result,\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00127\ \ \ \textcolor{keywordflow}{return}\ result;}
\DoxyCodeLine{00128\ \}}
\DoxyCodeLine{00129\ \textcolor{comment}{//\ Returns\ size\ of\ flag\ value\ type.}}
\DoxyCodeLine{00130\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a2fda29b0c5039c05588c27135d30f69b}{Sizeof}}(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a79c0a52e12469d9f0fc439422d08984e}{FlagOpFn}}\ op)\ \{}
\DoxyCodeLine{00131\ \ \ \textcolor{comment}{//\ This\ sequence\ of\ casts\ reverses\ the\ sequence\ from}}
\DoxyCodeLine{00132\ \ \ \textcolor{comment}{//\ \`{}flags\_internal::FlagOps()`}}
\DoxyCodeLine{00133\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(\textcolor{keyword}{reinterpret\_cast<}intptr\_t\textcolor{keyword}{>}(}
\DoxyCodeLine{00134\ \ \ \ \ \ \ op(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20fa369da9be1a2625f2e8e91b84288a584f}{FlagOp::kSizeof}},\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{nullptr})));}
\DoxyCodeLine{00135\ \}}
\DoxyCodeLine{00136\ \textcolor{comment}{//\ Returns\ fast\ type\ id\ corresponding\ to\ the\ value\ type.}}
\DoxyCodeLine{00137\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a1aa5c694de490ec4519c7faa21aedb78}{FlagFastTypeId}}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a740b6076860ed3714e0f0ee0dbfe60cd}{FastTypeId}}(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a79c0a52e12469d9f0fc439422d08984e}{FlagOpFn}}\ op)\ \{}
\DoxyCodeLine{00138\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a1aa5c694de490ec4519c7faa21aedb78}{FlagFastTypeId}}\textcolor{keyword}{>}(}
\DoxyCodeLine{00139\ \ \ \ \ \ \ op(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20fa8185b605a519dba4fc2254ae2d8743eb}{FlagOp::kFastTypeId}},\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{nullptr}));}
\DoxyCodeLine{00140\ \}}
\DoxyCodeLine{00141\ \textcolor{comment}{//\ Returns\ fast\ type\ id\ corresponding\ to\ the\ value\ type.}}
\DoxyCodeLine{00142\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ std::type\_info*\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a0f3b7298a4f576a602469523249a7c1b}{RuntimeTypeId}}(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a79c0a52e12469d9f0fc439422d08984e}{FlagOpFn}}\ op)\ \{}
\DoxyCodeLine{00143\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }std::type\_info*\textcolor{keyword}{>}(}
\DoxyCodeLine{00144\ \ \ \ \ \ \ op(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20faccacc25ed47caeab9d2efd02d432f2ac}{FlagOp::kRuntimeTypeId}},\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{nullptr}));}
\DoxyCodeLine{00145\ \}}
\DoxyCodeLine{00146\ \textcolor{comment}{//\ Returns\ offset\ of\ the\ field\ value\_\ from\ the\ field\ impl\_\ inside\ of}}
\DoxyCodeLine{00147\ \textcolor{comment}{//\ absl::Flag<T>\ data.\ Given\ FlagImpl\ pointer\ p\ you\ can\ get\ the}}
\DoxyCodeLine{00148\ \textcolor{comment}{//\ location\ of\ the\ corresponding\ value\ as:}}
\DoxyCodeLine{00149\ \textcolor{comment}{//\ \ \ \ \ \ reinterpret\_cast<char*>(p)\ +\ ValueOffset().}}
\DoxyCodeLine{00150\ \textcolor{keyword}{inline}\ ptrdiff\_t\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a53b6c5b7a7fbcd27e42dc6ead383eb50}{ValueOffset}}(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a79c0a52e12469d9f0fc439422d08984e}{FlagOpFn}}\ op)\ \{}
\DoxyCodeLine{00151\ \ \ \textcolor{comment}{//\ This\ sequence\ of\ casts\ reverses\ the\ sequence\ from}}
\DoxyCodeLine{00152\ \ \ \textcolor{comment}{//\ \`{}flags\_internal::FlagOps()`}}
\DoxyCodeLine{00153\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}ptrdiff\_t\textcolor{keyword}{>}(\textcolor{keyword}{reinterpret\_cast<}intptr\_t\textcolor{keyword}{>}(}
\DoxyCodeLine{00154\ \ \ \ \ \ \ op(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20fac907ca76702e145675574ac776f5c430}{FlagOp::kValueOffset}},\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{nullptr},\ \textcolor{keyword}{nullptr})));}
\DoxyCodeLine{00155\ \}}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \textcolor{comment}{//\ Returns\ an\ address\ of\ RTTI's\ typeid(T).}}
\DoxyCodeLine{00158\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00159\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ std::type\_info*\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_ac9a8e87db1947d35484081d89220b414}{GenRuntimeTypeId}}()\ \{}
\DoxyCodeLine{00160\ \textcolor{preprocessor}{\#ifdef\ ABSL\_INTERNAL\_HAS\_RTTI}}
\DoxyCodeLine{00161\ \ \ \textcolor{keywordflow}{return}\ \&\textcolor{keyword}{typeid}(T);}
\DoxyCodeLine{00162\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00163\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00164\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00165\ \}}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00168\ \textcolor{comment}{//\ Flag\ help\ auxiliary\ structs.}}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \textcolor{comment}{//\ This\ is\ help\ argument\ for\ absl::Flag\ encapsulating\ the\ string\ literal\ pointer}}
\DoxyCodeLine{00171\ \textcolor{comment}{//\ or\ pointer\ to\ function\ generating\ it\ as\ well\ as\ enum\ descriminating\ two}}
\DoxyCodeLine{00172\ \textcolor{comment}{//\ cases.}}
\DoxyCodeLine{00173\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a40c657d2db43009517a91a574a16a80b}{HelpGenFunc}}\ =\ std::string\ (*)();}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{00176\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1flags__internal_1_1FixedCharArray}{FixedCharArray}}\ \{}
\DoxyCodeLine{00177\ \ \ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FixedCharArray_ac965825cdef7f269d0e220fc80a60e36}{value}}[\mbox{\hyperlink{eigen_2unsupported_2Eigen_2CXX11_2src_2Tensor_2TensorIntDiv_8h_ab2b6b0c222cd1ce70d6a831f57241e59}{N}}];}
\DoxyCodeLine{00178\ }
\DoxyCodeLine{00179\ \ \ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{size\_t}...\ I>}
\DoxyCodeLine{00180\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FixedCharArray}{FixedCharArray<N>}}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FixedCharArray_a93756f616e4ab8c522aa37e0d267fe35}{FromLiteralString}}(}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \mbox{\hyperlink{classabsl_1_1string__view}{absl::string\_view}}\ str,\ absl::index\_sequence<I...>)\ \{}
\DoxyCodeLine{00182\ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{void})str,\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FixedCharArray}{FixedCharArray<N>}}(\{\{str[I]...,\ \textcolor{charliteral}{'\(\backslash\)0'}\}\});}
\DoxyCodeLine{00183\ \ \ \}}
\DoxyCodeLine{00184\ \};}
\DoxyCodeLine{00185\ }
\DoxyCodeLine{00186\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Gen,\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{eigen_2unsupported_2Eigen_2CXX11_2src_2Tensor_2TensorIntDiv_8h_ab2b6b0c222cd1ce70d6a831f57241e59}{N}}\ =\ Gen::Value().size()>}
\DoxyCodeLine{00187\ \textcolor{keyword}{constexpr}\ FixedCharArray<N\ +\ 1>\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_ae0920607c66e91a411e7bdd6e28e8bd9}{HelpStringAsArray}}(\textcolor{keywordtype}{int})\ \{}
\DoxyCodeLine{00188\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FixedCharArray_a93756f616e4ab8c522aa37e0d267fe35}{FixedCharArray<N\ +\ 1>::FromLiteralString}}(}
\DoxyCodeLine{00189\ \ \ \ \ \ \ Gen::Value(),\ absl::make\_index\_sequence<N>\{\});}
\DoxyCodeLine{00190\ \}}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Gen>}
\DoxyCodeLine{00193\ \textcolor{keyword}{constexpr}\ std::false\_type\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_ae0920607c66e91a411e7bdd6e28e8bd9}{HelpStringAsArray}}(\textcolor{keywordtype}{char})\ \{}
\DoxyCodeLine{00194\ \ \ \textcolor{keywordflow}{return}\ std::false\_type\{\};}
\DoxyCodeLine{00195\ \}}
\DoxyCodeLine{00196\ }
\DoxyCodeLine{00197\ \textcolor{keyword}{union\ }\mbox{\hyperlink{unionabsl_1_1flags__internal_1_1FlagHelpMsg}{FlagHelpMsg}}\ \{}
\DoxyCodeLine{00198\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{unionabsl_1_1flags__internal_1_1FlagHelpMsg_ae9b9fecc2d72f7b94ced098e8663b4a3}{FlagHelpMsg}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ help\_msg)\ :\ \mbox{\hyperlink{unionabsl_1_1flags__internal_1_1FlagHelpMsg_a7802647a11254864d59142bf1d74b286}{literal}}(help\_msg)\ \{\}}
\DoxyCodeLine{00199\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{unionabsl_1_1flags__internal_1_1FlagHelpMsg_a29381456c4ccb82342ce25d8d03e364d}{FlagHelpMsg}}(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a40c657d2db43009517a91a574a16a80b}{HelpGenFunc}}\ help\_gen)\ :\ \mbox{\hyperlink{unionabsl_1_1flags__internal_1_1FlagHelpMsg_a92911462b739a5ceb0b5d709302784f1}{gen\_func}}(help\_gen)\ \{\}}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{unionabsl_1_1flags__internal_1_1FlagHelpMsg_a7802647a11254864d59142bf1d74b286}{literal}};}
\DoxyCodeLine{00202\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a40c657d2db43009517a91a574a16a80b}{HelpGenFunc}}\ \mbox{\hyperlink{unionabsl_1_1flags__internal_1_1FlagHelpMsg_a92911462b739a5ceb0b5d709302784f1}{gen\_func}};}
\DoxyCodeLine{00203\ \};}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00205\ \textcolor{keyword}{enum\ class}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a523091df7abc8acd949449c548cc2b4a}{FlagHelpKind}}\ :\ uint8\_t\ \{\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a523091df7abc8acd949449c548cc2b4aa8ea55e02792f5ffa4fe35b025ec485c8}{kLiteral}}\ =\ 0,\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a523091df7abc8acd949449c548cc2b4aa3bbbbf4ceae5acf68132d63e76bd92bf}{kGenFunc}}\ =\ 1\ \};}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00207\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagHelpArg}{FlagHelpArg}}\ \{}
\DoxyCodeLine{00208\ \ \ \mbox{\hyperlink{unionabsl_1_1flags__internal_1_1FlagHelpMsg}{FlagHelpMsg}}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagHelpArg_aaadd1ec43af29c94ccbbdb7666ee2f49}{source}};}
\DoxyCodeLine{00209\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a523091df7abc8acd949449c548cc2b4a}{FlagHelpKind}}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagHelpArg_a323ed099878c298cc903903b25f2fd8f}{kind}};}
\DoxyCodeLine{00210\ \};}
\DoxyCodeLine{00211\ }
\DoxyCodeLine{00212\ \textcolor{keyword}{extern}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_adb2a849fb539f2a3e0eeee0c326bff7a}{kStrippedFlagHelp}}[];}
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ \textcolor{comment}{//\ These\ two\ HelpArg\ overloads\ allows\ us\ to\ select\ at\ compile\ time\ one\ of\ two}}
\DoxyCodeLine{00215\ \textcolor{comment}{//\ way\ to\ pass\ Help\ argument\ to\ absl::Flag.\ We'll\ be\ passing}}
\DoxyCodeLine{00216\ \textcolor{comment}{//\ AbslFlagHelpGenFor\#\#name\ as\ Gen\ and\ integer\ 0\ as\ a\ single\ argument\ to\ prefer}}
\DoxyCodeLine{00217\ \textcolor{comment}{//\ first\ overload\ if\ possible.\ If\ help\ message\ is\ evaluatable\ on\ constexpr}}
\DoxyCodeLine{00218\ \textcolor{comment}{//\ context\ We'll\ be\ able\ to\ make\ FixedCharArray\ out\ of\ it\ and\ we'll\ choose\ first}}
\DoxyCodeLine{00219\ \textcolor{comment}{//\ overload.\ In\ this\ case\ the\ help\ message\ expression\ is\ immediately\ evaluated}}
\DoxyCodeLine{00220\ \textcolor{comment}{//\ and\ is\ used\ to\ construct\ the\ absl::Flag.\ No\ additional\ code\ is\ generated\ by}}
\DoxyCodeLine{00221\ \textcolor{comment}{//\ ABSL\_FLAG\ Otherwise\ SFINAE\ kicks\ in\ and\ first\ overload\ is\ dropped\ from\ the}}
\DoxyCodeLine{00222\ \textcolor{comment}{//\ consideration,\ in\ which\ case\ the\ second\ overload\ will\ be\ used.\ The\ second}}
\DoxyCodeLine{00223\ \textcolor{comment}{//\ overload\ does\ not\ attempt\ to\ evaluate\ the\ help\ message\ expression}}
\DoxyCodeLine{00224\ \textcolor{comment}{//\ immediately\ and\ instead\ delays\ the\ evaluation\ by\ returning\ the\ function}}
\DoxyCodeLine{00225\ \textcolor{comment}{//\ pointer\ (\&T::NonConst)\ generating\ the\ help\ message\ when\ necessary.\ This\ is}}
\DoxyCodeLine{00226\ \textcolor{comment}{//\ evaluatable\ in\ constexpr\ context,\ but\ the\ cost\ is\ an\ extra\ function\ being}}
\DoxyCodeLine{00227\ \textcolor{comment}{//\ generated\ in\ the\ ABSL\_FLAG\ code.}}
\DoxyCodeLine{00228\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Gen,\ \textcolor{keywordtype}{size\_t}\ N>}
\DoxyCodeLine{00229\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagHelpArg}{FlagHelpArg}}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_ae7af9f4c522d3489e13b355facc87926}{HelpArg}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FixedCharArray}{FixedCharArray<N>}}\&\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_a54c2bae0f8aeed048a397b0618037252}{value}})\ \{}
\DoxyCodeLine{00230\ \ \ \textcolor{keywordflow}{return}\ \{\mbox{\hyperlink{unionabsl_1_1flags__internal_1_1FlagHelpMsg}{FlagHelpMsg}}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_a54c2bae0f8aeed048a397b0618037252}{value}}.value),\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a523091df7abc8acd949449c548cc2b4aa8ea55e02792f5ffa4fe35b025ec485c8}{FlagHelpKind::kLiteral}}\};}
\DoxyCodeLine{00231\ \}}
\DoxyCodeLine{00232\ }
\DoxyCodeLine{00233\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Gen>}
\DoxyCodeLine{00234\ \textcolor{keyword}{constexpr}\ FlagHelpArg\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_ae7af9f4c522d3489e13b355facc87926}{HelpArg}}(std::false\_type)\ \{}
\DoxyCodeLine{00235\ \ \ \textcolor{keywordflow}{return}\ \{FlagHelpMsg(\&Gen::NonConst),\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a523091df7abc8acd949449c548cc2b4aa3bbbbf4ceae5acf68132d63e76bd92bf}{FlagHelpKind::kGenFunc}}\};}
\DoxyCodeLine{00236\ \}}
\DoxyCodeLine{00237\ }
\DoxyCodeLine{00239\ \textcolor{comment}{//\ Flag\ default\ value\ auxiliary\ structs.}}
\DoxyCodeLine{00240\ }
\DoxyCodeLine{00241\ \textcolor{comment}{//\ Signature\ for\ the\ function\ generating\ the\ initial\ flag\ value\ (usually}}
\DoxyCodeLine{00242\ \textcolor{comment}{//\ based\ on\ default\ value\ supplied\ in\ flag's\ definition)}}
\DoxyCodeLine{00243\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a3b748a9bb59f503470f737fa515666e6}{FlagDfltGenFunc}}\ =\ void\ (*)(\textcolor{keywordtype}{void}*);}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00245\ \textcolor{keyword}{union\ }\mbox{\hyperlink{unionabsl_1_1flags__internal_1_1FlagDefaultSrc}{FlagDefaultSrc}}\ \{}
\DoxyCodeLine{00246\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{unionabsl_1_1flags__internal_1_1FlagDefaultSrc_a36faf961c8b4b46de330debdb202a535}{FlagDefaultSrc}}(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a3b748a9bb59f503470f737fa515666e6}{FlagDfltGenFunc}}\ gen\_func\_arg)}
\DoxyCodeLine{00247\ \ \ \ \ \ \ :\ \mbox{\hyperlink{unionabsl_1_1flags__internal_1_1FlagDefaultSrc_ad9b594892ff7ec95aebdccb49a5abd36}{gen\_func}}(gen\_func\_arg)\ \{\}}
\DoxyCodeLine{00248\ }
\DoxyCodeLine{00249\ \textcolor{preprocessor}{\#define\ ABSL\_FLAGS\_INTERNAL\_DFLT\_FOR\_TYPE(T,\ name)\ \(\backslash\)}}
\DoxyCodeLine{00250\ \textcolor{preprocessor}{\ \ T\ name\#\#\_value;\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \(\backslash\)}}
\DoxyCodeLine{00251\ \textcolor{preprocessor}{\ \ constexpr\ explicit\ FlagDefaultSrc(T\ value)\ :\ name\#\#\_value(value)\ \{\}\ \ }\textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00252\ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2flags_2config_8h_a2251571a9d44bf3856706b489beba710}{ABSL\_FLAGS\_INTERNAL\_BUILTIN\_TYPES}}(\mbox{\hyperlink{abseil-cpp_2absl_2flags_2internal_2flag_8h_aafb3cb14cd41495fe31ee3acd952a250}{ABSL\_FLAGS\_INTERNAL\_DFLT\_FOR\_TYPE}})}
\DoxyCodeLine{00253\ \textcolor{preprocessor}{\#undef\ ABSL\_FLAGS\_INTERNAL\_DFLT\_FOR\_TYPE}}
\DoxyCodeLine{00254\ }
\DoxyCodeLine{00255\ \ \ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{unionabsl_1_1flags__internal_1_1FlagDefaultSrc_ac06a56bd230d66c3e94f6f130380512d}{dynamic\_value}};}
\DoxyCodeLine{00256\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a3b748a9bb59f503470f737fa515666e6}{FlagDfltGenFunc}}\ \mbox{\hyperlink{unionabsl_1_1flags__internal_1_1FlagDefaultSrc_ad9b594892ff7ec95aebdccb49a5abd36}{gen\_func}};}
\DoxyCodeLine{00257\ \};}
\DoxyCodeLine{00258\ }
\DoxyCodeLine{00259\ \textcolor{keyword}{enum\ class}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a23dd0d25e49581f4eca78d0b9f5a00e4}{FlagDefaultKind}}\ :\ uint8\_t\ \{}
\DoxyCodeLine{00260\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a23dd0d25e49581f4eca78d0b9f5a00e4a2483471e4c15bff9fb71538b955a0a54}{kDynamicValue}}\ =\ 0,}
\DoxyCodeLine{00261\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a523091df7abc8acd949449c548cc2b4aa3bbbbf4ceae5acf68132d63e76bd92bf}{kGenFunc}}\ =\ 1,}
\DoxyCodeLine{00262\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a23dd0d25e49581f4eca78d0b9f5a00e4a4ac17659b690a5452e74ecb8535c63a2}{kOneWord}}\ =\ 2\ \ \textcolor{comment}{//\ for\ default\ values\ UP\ to\ one\ word\ in\ size}}
\DoxyCodeLine{00263\ \};}
\DoxyCodeLine{00264\ }
\DoxyCodeLine{00265\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagDefaultArg}{FlagDefaultArg}}\ \{}
\DoxyCodeLine{00266\ \ \ \mbox{\hyperlink{unionabsl_1_1flags__internal_1_1FlagDefaultSrc}{FlagDefaultSrc}}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagDefaultArg_a9818fa3daaebaff18c73a698dd2bdad3}{source}};}
\DoxyCodeLine{00267\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a23dd0d25e49581f4eca78d0b9f5a00e4}{FlagDefaultKind}}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagDefaultArg_aa4cb1adc02cbe719690a32b721590f47}{kind}};}
\DoxyCodeLine{00268\ \};}
\DoxyCodeLine{00269\ }
\DoxyCodeLine{00270\ \textcolor{comment}{//\ This\ struct\ and\ corresponding\ overload\ to\ InitDefaultValue\ are\ used\ to}}
\DoxyCodeLine{00271\ \textcolor{comment}{//\ facilitate\ usage\ of\ \{\}\ as\ default\ value\ in\ ABSL\_FLAG\ macro.}}
\DoxyCodeLine{00272\ \textcolor{comment}{//\ TODO(rogeeff):\ Fix\ handling\ types\ with\ explicit\ constructors.}}
\DoxyCodeLine{00273\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1flags__internal_1_1EmptyBraces}{EmptyBraces}}\ \{\};}
\DoxyCodeLine{00274\ }
\DoxyCodeLine{00275\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00276\ \textcolor{keyword}{constexpr}\ T\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a60782379140b8ebefc24b2fc25b86bd3}{InitDefaultValue}}(T\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81bae358efa489f58062f10dd7316b65649e}{t}})\ \{}
\DoxyCodeLine{00277\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81bae358efa489f58062f10dd7316b65649e}{t}};}
\DoxyCodeLine{00278\ \}}
\DoxyCodeLine{00279\ }
\DoxyCodeLine{00280\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00281\ \textcolor{keyword}{constexpr}\ T\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a60782379140b8ebefc24b2fc25b86bd3}{InitDefaultValue}}(EmptyBraces)\ \{}
\DoxyCodeLine{00282\ \ \ \textcolor{keywordflow}{return}\ T\{\};}
\DoxyCodeLine{00283\ \}}
\DoxyCodeLine{00284\ }
\DoxyCodeLine{00285\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ValueT,\ \textcolor{keyword}{typename}\ GenT,}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ std::enable\_if<std::is\_integral<ValueT>::value,\ \textcolor{keywordtype}{int}>::type\ =}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ((void)GenT\{\},\ 0)>}
\DoxyCodeLine{00288\ \textcolor{keyword}{constexpr}\ FlagDefaultArg\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_ae12f7778dd4d777bf1c13cc17e78bbdd}{DefaultArg}}(\textcolor{keywordtype}{int})\ \{}
\DoxyCodeLine{00289\ \ \ \textcolor{keywordflow}{return}\ \{FlagDefaultSrc(GenT\{\}.value),\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a23dd0d25e49581f4eca78d0b9f5a00e4a4ac17659b690a5452e74ecb8535c63a2}{FlagDefaultKind::kOneWord}}\};}
\DoxyCodeLine{00290\ \}}
\DoxyCodeLine{00291\ }
\DoxyCodeLine{00292\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ValueT,\ \textcolor{keyword}{typename}\ GenT>}
\DoxyCodeLine{00293\ \textcolor{keyword}{constexpr}\ FlagDefaultArg\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_ae12f7778dd4d777bf1c13cc17e78bbdd}{DefaultArg}}(\textcolor{keywordtype}{char})\ \{}
\DoxyCodeLine{00294\ \ \ \textcolor{keywordflow}{return}\ \{FlagDefaultSrc(\&GenT::Gen),\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a23dd0d25e49581f4eca78d0b9f5a00e4a3bbbbf4ceae5acf68132d63e76bd92bf}{FlagDefaultKind::kGenFunc}}\};}
\DoxyCodeLine{00295\ \}}
\DoxyCodeLine{00296\ }
\DoxyCodeLine{00298\ \textcolor{comment}{//\ Flag\ storage\ selector\ traits.\ Each\ trait\ indicates\ what\ kind\ of\ storage\ kind}}
\DoxyCodeLine{00299\ \textcolor{comment}{//\ to\ use\ for\ the\ flag\ value.}}
\DoxyCodeLine{00300\ }
\DoxyCodeLine{00301\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00302\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceabsl_1_1flags__internal_aea9be5425bdabbe5ac1e24806d60b40f}{FlagUseValueAndInitBitStorage}}\ =}
\DoxyCodeLine{00303\ \ \ \ \ std::integral\_constant<bool,\ std::is\_trivially\_copyable<T>::value\ \&\&}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_default\_constructible<T>::value\ \&\&}
\DoxyCodeLine{00305\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keyword}{sizeof}(T)\ <\ 8)>;}
\DoxyCodeLine{00306\ }
\DoxyCodeLine{00307\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00308\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceabsl_1_1flags__internal_af156782e11f5cbc9a3a40c0b6865445f}{FlagUseOneWordStorage}}\ =}
\DoxyCodeLine{00309\ \ \ \ \ std::integral\_constant<bool,\ std::is\_trivially\_copyable<T>::value\ \&\&}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keyword}{sizeof}(T)\ <=\ 8)>;}
\DoxyCodeLine{00311\ }
\DoxyCodeLine{00312\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}\ T>}
\DoxyCodeLine{00313\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceabsl_1_1flags__internal_aa0a90f6ca208a44793d18ddd3c908124}{FlagUseSequenceLockStorage}}\ =}
\DoxyCodeLine{00314\ \ \ \ \ std::integral\_constant<bool,\ std::is\_trivially\_copyable<T>::value\ \&\&}
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\textcolor{keyword}{sizeof}(T)\ >\ 8)>;}
\DoxyCodeLine{00316\ }
\DoxyCodeLine{00317\ \textcolor{keyword}{enum\ class}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a07283ad2beaaa4d1f18fa41a7dddb18a}{FlagValueStorageKind}}\ :\ uint8\_t\ \{}
\DoxyCodeLine{00318\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a07283ad2beaaa4d1f18fa41a7dddb18aaeeda6dbde399b2eaf378b9fe7ead52e1}{kValueAndInitBit}}\ =\ 0,}
\DoxyCodeLine{00319\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a07283ad2beaaa4d1f18fa41a7dddb18aa906414d255b13296f6c3180ba306c727}{kOneWordAtomic}}\ =\ 1,}
\DoxyCodeLine{00320\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a07283ad2beaaa4d1f18fa41a7dddb18aaf0fe8e52b98ced5e596e5d938521b1bb}{kSequenceLocked}}\ =\ 2,}
\DoxyCodeLine{00321\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a07283ad2beaaa4d1f18fa41a7dddb18aad232cea8f9e19c45706227b4df02cbd7}{kHeapAllocated}}\ =\ 3,}
\DoxyCodeLine{00322\ \};}
\DoxyCodeLine{00323\ }
\DoxyCodeLine{00324\ \textcolor{comment}{//\ This\ constexpr\ function\ returns\ the\ storage\ kind\ for\ the\ given\ flag\ value}}
\DoxyCodeLine{00325\ \textcolor{comment}{//\ type.}}
\DoxyCodeLine{00326\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00327\ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a07283ad2beaaa4d1f18fa41a7dddb18a}{FlagValueStorageKind}}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a4b7d8c885a82ab188ad00925805a31b0}{StorageKind}}()\ \{}
\DoxyCodeLine{00328\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_aea9be5425bdabbe5ac1e24806d60b40f}{FlagUseValueAndInitBitStorage<T>::value}}}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a07283ad2beaaa4d1f18fa41a7dddb18aaeeda6dbde399b2eaf378b9fe7ead52e1}{FlagValueStorageKind::kValueAndInitBit}}}
\DoxyCodeLine{00330\ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_af156782e11f5cbc9a3a40c0b6865445f}{FlagUseOneWordStorage<T>::value}}}
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a07283ad2beaaa4d1f18fa41a7dddb18aa906414d255b13296f6c3180ba306c727}{FlagValueStorageKind::kOneWordAtomic}}}
\DoxyCodeLine{00332\ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_aa0a90f6ca208a44793d18ddd3c908124}{FlagUseSequenceLockStorage<T>::value}}}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a07283ad2beaaa4d1f18fa41a7dddb18aaf0fe8e52b98ced5e596e5d938521b1bb}{FlagValueStorageKind::kSequenceLocked}}}
\DoxyCodeLine{00334\ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a07283ad2beaaa4d1f18fa41a7dddb18aad232cea8f9e19c45706227b4df02cbd7}{FlagValueStorageKind::kHeapAllocated}};}
\DoxyCodeLine{00335\ \}}
\DoxyCodeLine{00336\ }
\DoxyCodeLine{00337\ \textcolor{comment}{//\ This\ is\ a\ base\ class\ for\ the\ storage\ classes\ used\ by\ kOneWordAtomic\ and}}
\DoxyCodeLine{00338\ \textcolor{comment}{//\ kValueAndInitBit\ storage\ kinds.\ It\ literally\ just\ stores\ the\ one\ word\ value}}
\DoxyCodeLine{00339\ \textcolor{comment}{//\ as\ an\ atomic.\ By\ default,\ it\ is\ initialized\ to\ a\ magic\ value\ that\ is\ unlikely}}
\DoxyCodeLine{00340\ \textcolor{comment}{//\ a\ valid\ value\ for\ the\ flag\ value\ type.}}
\DoxyCodeLine{00341\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagOneWordValue}{FlagOneWordValue}}\ \{}
\DoxyCodeLine{00342\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{static}\ int64\_t\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagOneWordValue_aab45817573f1ec0d44f0300a45c0b9ed}{Uninitialized}}()\ \{}
\DoxyCodeLine{00343\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}int64\_t\textcolor{keyword}{>}(0xababababababababll);}
\DoxyCodeLine{00344\ \ \ \}}
\DoxyCodeLine{00345\ }
\DoxyCodeLine{00346\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagOneWordValue_a912495d00a29c506f6ffd4ab12e2a695}{FlagOneWordValue}}()\ :\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagOneWordValue_a945b597e0a8ad5768f082291a6cdebff}{value}}(\mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagOneWordValue_aab45817573f1ec0d44f0300a45c0b9ed}{Uninitialized}}())\ \{\}}
\DoxyCodeLine{00347\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagOneWordValue_aedceebcc9af4af0ac533f0f84228dbd2}{FlagOneWordValue}}(int64\_t\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9e3669d19b675bd57058fd4664205d2a}{v}})\ :\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagOneWordValue_a945b597e0a8ad5768f082291a6cdebff}{value}}(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9e3669d19b675bd57058fd4664205d2a}{v}})\ \{\}}
\DoxyCodeLine{00348\ \ \ std::atomic<int64\_t>\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagOneWordValue_a945b597e0a8ad5768f082291a6cdebff}{value}};}
\DoxyCodeLine{00349\ \};}
\DoxyCodeLine{00350\ }
\DoxyCodeLine{00351\ \textcolor{comment}{//\ This\ class\ represents\ a\ memory\ layout\ used\ by\ kValueAndInitBit\ storage\ kind.}}
\DoxyCodeLine{00352\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00353\ \textcolor{keyword}{struct\ }\textcolor{keyword}{alignas}(8)\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagValueAndInitBit}{FlagValueAndInitBit}}\ \{}
\DoxyCodeLine{00354\ \ \ T\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagValueAndInitBit_a3a4bd2e171ffdc091f7fe3ffcba32c79}{value}};}
\DoxyCodeLine{00355\ \ \ \textcolor{comment}{//\ Use\ an\ int\ instead\ of\ a\ bool\ to\ guarantee\ that\ a\ non-\/zero\ value\ has}}
\DoxyCodeLine{00356\ \ \ \textcolor{comment}{//\ a\ bit\ set.}}
\DoxyCodeLine{00357\ \ \ uint8\_t\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagValueAndInitBit_aa54094fd01ba18f631367febce367b79}{init}};}
\DoxyCodeLine{00358\ \};}
\DoxyCodeLine{00359\ }
\DoxyCodeLine{00360\ \textcolor{comment}{//\ This\ class\ implements\ an\ aligned\ pointer\ with\ two\ options\ stored\ via\ masks}}
\DoxyCodeLine{00361\ \textcolor{comment}{//\ in\ unused\ bits\ of\ the\ pointer\ value\ (due\ to\ alignment\ requirement).}}
\DoxyCodeLine{00362\ \textcolor{comment}{//\ \ -\/\ IsUnprotectedReadCandidate\ -\/\ indicates\ that\ the\ value\ can\ be\ switched\ to}}
\DoxyCodeLine{00363\ \textcolor{comment}{//\ \ \ \ unprotected\ read\ without\ a\ lock.}}
\DoxyCodeLine{00364\ \textcolor{comment}{//\ \ -\/\ HasBeenRead\ -\/\ indicates\ that\ the\ value\ has\ been\ read\ at\ least\ once.}}
\DoxyCodeLine{00365\ \textcolor{comment}{//\ \ -\/\ AllowsUnprotectedRead\ -\/\ combination\ of\ the\ two\ options\ above\ and\ indicates}}
\DoxyCodeLine{00366\ \textcolor{comment}{//\ \ \ \ that\ the\ value\ can\ now\ be\ read\ without\ a\ lock.}}
\DoxyCodeLine{00367\ \textcolor{comment}{//\ Further\ details\ of\ these\ options\ and\ their\ use\ is\ covered\ in\ the\ description}}
\DoxyCodeLine{00368\ \textcolor{comment}{//\ of\ the\ FlagValue<T,\ FlagValueStorageKind::kHeapAllocated>\ specialization.}}
\DoxyCodeLine{00369\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer}{MaskedPointer}}\ \{}
\DoxyCodeLine{00370\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00371\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_a2d1a730706066fbe0989330b84d4c7cc}{mask\_t}}\ =\ uintptr\_t;}
\DoxyCodeLine{00372\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_a4c1405bfd8e278c3364ffc9fabc8ef0a}{ptr\_t}}\ =\ \textcolor{keywordtype}{void}*;}
\DoxyCodeLine{00373\ }
\DoxyCodeLine{00374\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_aff661c2940d0634771ae41a740f07dae}{RequiredAlignment}}()\ \{\ \textcolor{keywordflow}{return}\ 4;\ \}}
\DoxyCodeLine{00375\ }
\DoxyCodeLine{00376\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_afa82a3103ed1ccabe14eb24f5acc3e25}{MaskedPointer}}()\ :\ ptr\_(nullptr)\ \{\}}
\DoxyCodeLine{00377\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_acc9ed8a86aaa0bdafb62e54bb78b7487}{MaskedPointer}}(\mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_a4c1405bfd8e278c3364ffc9fabc8ef0a}{ptr\_t}}\ rhs)\ :\ ptr\_(rhs)\ \{\}}
\DoxyCodeLine{00378\ \ \ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_a26358dd2c5153e67241b24e245af85f5}{MaskedPointer}}(\mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_a4c1405bfd8e278c3364ffc9fabc8ef0a}{ptr\_t}}\ rhs,\ \textcolor{keywordtype}{bool}\ is\_candidate);}
\DoxyCodeLine{00379\ }
\DoxyCodeLine{00380\ \ \ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_ab82882876fa2796f11b8a2d46e0ebc33}{MaskedPointer}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer}{MaskedPointer}}\&\ rhs)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00381\ \ \ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer}{MaskedPointer}}\&\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_a336fe71f8e36109c10a24e84310cadcc}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer}{MaskedPointer}}\&\ rhs)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00382\ }
\DoxyCodeLine{00383\ \ \ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_aa954a7b28d525676b6380223e90d14bb}{Ptr}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00384\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_a2d1a730706066fbe0989330b84d4c7cc}{mask\_t}}\textcolor{keyword}{>}(ptr\_)\ \&}
\DoxyCodeLine{00385\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ kPtrValueMask);}
\DoxyCodeLine{00386\ \ \ \}}
\DoxyCodeLine{00387\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_a95e461c8e4f91fa51055ba1932fdb0be}{AllowsUnprotectedRead}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00388\ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_a2d1a730706066fbe0989330b84d4c7cc}{mask\_t}}\textcolor{keyword}{>}(ptr\_)\ \&\ kAllowsUnprotectedRead)\ ==}
\DoxyCodeLine{00389\ \ \ \ \ \ \ \ \ \ \ \ kAllowsUnprotectedRead;}
\DoxyCodeLine{00390\ \ \ \}}
\DoxyCodeLine{00391\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_a98b6cd2edd3679f09f2ee542c366a37a}{IsUnprotectedReadCandidate}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00392\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_a9a866ca83254c7a3b61f8faf267709bc}{HasBeenRead}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00393\ }
\DoxyCodeLine{00394\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_ab9d23f06ff4946f45d4b0965da449ec2}{Set}}(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a79c0a52e12469d9f0fc439422d08984e}{FlagOpFn}}\ op,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ src,\ \textcolor{keywordtype}{bool}\ is\_candidate);}
\DoxyCodeLine{00395\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_ac781704cc8e745c9cc8922e2f0b89b00}{MarkAsRead}}();}
\DoxyCodeLine{00396\ }
\DoxyCodeLine{00397\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00398\ \ \ \textcolor{comment}{//\ Masks}}
\DoxyCodeLine{00399\ \ \ \textcolor{comment}{//\ Indicates\ that\ the\ flag\ value\ either\ default\ or\ originated\ from\ command}}
\DoxyCodeLine{00400\ \ \ \textcolor{comment}{//\ line.}}
\DoxyCodeLine{00401\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_a2d1a730706066fbe0989330b84d4c7cc}{mask\_t}}\ kUnprotectedReadCandidate\ =\ 0x1u;}
\DoxyCodeLine{00402\ \ \ \textcolor{comment}{//\ Indicates\ that\ flag\ has\ been\ read.}}
\DoxyCodeLine{00403\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_a2d1a730706066fbe0989330b84d4c7cc}{mask\_t}}\ kHasBeenRead\ =\ 0x2u;}
\DoxyCodeLine{00404\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_a2d1a730706066fbe0989330b84d4c7cc}{mask\_t}}\ kAllowsUnprotectedRead\ =}
\DoxyCodeLine{00405\ \ \ \ \ \ \ kUnprotectedReadCandidate\ |\ kHasBeenRead;}
\DoxyCodeLine{00406\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_a2d1a730706066fbe0989330b84d4c7cc}{mask\_t}}\ kPtrValueMask\ =\ \string~kAllowsUnprotectedRead;}
\DoxyCodeLine{00407\ }
\DoxyCodeLine{00408\ \ \ \textcolor{keywordtype}{void}\ ApplyMask(\mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_a2d1a730706066fbe0989330b84d4c7cc}{mask\_t}}\ mask);}
\DoxyCodeLine{00409\ \ \ \textcolor{keywordtype}{bool}\ CheckMask(\mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_a2d1a730706066fbe0989330b84d4c7cc}{mask\_t}}\ mask)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00410\ }
\DoxyCodeLine{00411\ \ \ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_a4c1405bfd8e278c3364ffc9fabc8ef0a}{ptr\_t}}\ ptr\_;}
\DoxyCodeLine{00412\ \};}
\DoxyCodeLine{00413\ }
\DoxyCodeLine{00414\ \textcolor{comment}{//\ This\ class\ implements\ a\ type\ erased\ storage\ of\ the\ heap\ allocated\ flag\ value.}}
\DoxyCodeLine{00415\ \textcolor{comment}{//\ It\ is\ used\ as\ a\ base\ class\ for\ the\ storage\ class\ for\ kHeapAllocated\ storage}}
\DoxyCodeLine{00416\ \textcolor{comment}{//\ kind.\ The\ initial\_buffer\ is\ expected\ to\ have\ an\ alignment\ of\ at\ least}}
\DoxyCodeLine{00417\ \textcolor{comment}{//\ MaskedPointer::RequiredAlignment(),\ so\ that\ the\ bits\ used\ by\ the}}
\DoxyCodeLine{00418\ \textcolor{comment}{//\ MaskedPointer\ to\ store\ masks\ are\ set\ to\ 0.\ This\ guarantees\ that\ value\ starts}}
\DoxyCodeLine{00419\ \textcolor{comment}{//\ in\ an\ uninitialized\ state.}}
\DoxyCodeLine{00420\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagMaskedPointerValue}{FlagMaskedPointerValue}}\ \{}
\DoxyCodeLine{00421\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagMaskedPointerValue_afa4b687ced509e36ad33689ed054da59}{FlagMaskedPointerValue}}(\mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_a4c1405bfd8e278c3364ffc9fabc8ef0a}{MaskedPointer::ptr\_t}}\ initial\_buffer)}
\DoxyCodeLine{00422\ \ \ \ \ \ \ :\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagMaskedPointerValue_adbd11b954c3e98667e44768e09448670}{value}}(\mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer}{MaskedPointer}}(initial\_buffer))\ \{\}}
\DoxyCodeLine{00423\ }
\DoxyCodeLine{00424\ \ \ std::atomic<MaskedPointer>\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagMaskedPointerValue_adbd11b954c3e98667e44768e09448670}{value}};}
\DoxyCodeLine{00425\ \};}
\DoxyCodeLine{00426\ }
\DoxyCodeLine{00427\ \textcolor{comment}{//\ This\ is\ the\ forward\ declaration\ for\ the\ template\ that\ represents\ a\ storage}}
\DoxyCodeLine{00428\ \textcolor{comment}{//\ for\ the\ flag\ values.\ This\ template\ is\ expected\ to\ be\ explicitly\ specialized}}
\DoxyCodeLine{00429\ \textcolor{comment}{//\ for\ each\ storage\ kind\ and\ it\ does\ not\ have\ a\ generic\ default}}
\DoxyCodeLine{00430\ \textcolor{comment}{//\ implementation.}}
\DoxyCodeLine{00431\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{00432\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a07283ad2beaaa4d1f18fa41a7dddb18a}{FlagValueStorageKind}}\ Kind\ =\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a4b7d8c885a82ab188ad00925805a31b0}{flags\_internal::StorageKind<T>}}()>}
\DoxyCodeLine{00433\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagValue}{FlagValue}};}
\DoxyCodeLine{00434\ }
\DoxyCodeLine{00435\ \textcolor{comment}{//\ This\ specialization\ represents\ the\ storage\ of\ flag\ values\ types\ with\ the}}
\DoxyCodeLine{00436\ \textcolor{comment}{//\ kValueAndInitBit\ storage\ kind.\ It\ is\ based\ on\ the\ FlagOneWordValue\ class}}
\DoxyCodeLine{00437\ \textcolor{comment}{//\ and\ relies\ on\ memory\ layout\ in\ FlagValueAndInitBit<T>\ to\ indicate\ that\ the}}
\DoxyCodeLine{00438\ \textcolor{comment}{//\ value\ has\ been\ initialized\ or\ not.}}
\DoxyCodeLine{00439\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00440\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagValue}{FlagValue}}<T,\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a07283ad2beaaa4d1f18fa41a7dddb18a}{FlagValueStorageKind}}::\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a07283ad2beaaa4d1f18fa41a7dddb18aaeeda6dbde399b2eaf378b9fe7ead52e1}{kValueAndInitBit}}>\ :\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagOneWordValue}{FlagOneWordValue}}\ \{}
\DoxyCodeLine{00441\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagValue_3_01T_00_01FlagValueStorageKind_1_1kValueAndInitBit_01_4_a12641010affbb27264c2bb3b06991587}{FlagValue}}()\ :\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagOneWordValue}{FlagOneWordValue}}(0)\ \{\}}
\DoxyCodeLine{00442\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagValue_3_01T_00_01FlagValueStorageKind_1_1kValueAndInitBit_01_4_ae333d52846885e0a6d7875536df3f6fd}{Get}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1SequenceLock}{SequenceLock}}\&,\ T\&\ dst)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00443\ \ \ \ \ int64\_t\ storage\ =\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_a54c2bae0f8aeed048a397b0618037252}{value}}.load(std::memory\_order\_acquire);}
\DoxyCodeLine{00444\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{abseil-cpp_2absl_2base_2optimization_8h_a7de82b630fc76606a15c23483680a6a1}{ABSL\_PREDICT\_FALSE}}(storage\ ==\ 0))\ \{}
\DoxyCodeLine{00445\ \ \ \ \ \ \ \textcolor{comment}{//\ This\ assert\ is\ to\ ensure\ that\ the\ initialization\ inside\ FlagImpl::Init}}
\DoxyCodeLine{00446\ \ \ \ \ \ \ \textcolor{comment}{//\ is\ able\ to\ set\ init\ member\ correctly.}}
\DoxyCodeLine{00447\ \ \ \ \ \ \ \textcolor{keyword}{static\_assert}(offsetof(\mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagValueAndInitBit}{FlagValueAndInitBit<T>}},\ init)\ ==\ \textcolor{keyword}{sizeof}(T),}
\DoxyCodeLine{00448\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Unexpected\ memory\ layout\ of\ FlagValueAndInitBit"{}});}
\DoxyCodeLine{00449\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00450\ \ \ \ \ \}}
\DoxyCodeLine{00451\ \ \ \ \ dst\ =\ \mbox{\hyperlink{namespaceabsl_ad685e40f13dd5dbd3afc5847ea4b6375}{absl::bit\_cast<FlagValueAndInitBit<T>}}>(storage).\mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_a54c2bae0f8aeed048a397b0618037252}{value}};}
\DoxyCodeLine{00452\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00453\ \ \ \}}
\DoxyCodeLine{00454\ \};}
\DoxyCodeLine{00455\ }
\DoxyCodeLine{00456\ \textcolor{comment}{//\ This\ specialization\ represents\ the\ storage\ of\ flag\ values\ types\ with\ the}}
\DoxyCodeLine{00457\ \textcolor{comment}{//\ kOneWordAtomic\ storage\ kind.\ It\ is\ based\ on\ the\ FlagOneWordValue\ class}}
\DoxyCodeLine{00458\ \textcolor{comment}{//\ and\ relies\ on\ the\ magic\ uninitialized\ state\ of\ default\ constructed\ instead\ of}}
\DoxyCodeLine{00459\ \textcolor{comment}{//\ FlagOneWordValue\ to\ indicate\ that\ the\ value\ has\ been\ initialized\ or\ not.}}
\DoxyCodeLine{00460\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00461\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagValue}{FlagValue}}<T,\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a07283ad2beaaa4d1f18fa41a7dddb18a}{FlagValueStorageKind}}::\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a07283ad2beaaa4d1f18fa41a7dddb18aa906414d255b13296f6c3180ba306c727}{kOneWordAtomic}}>\ :\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagOneWordValue}{FlagOneWordValue}}\ \{}
\DoxyCodeLine{00462\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagValue_3_01T_00_01FlagValueStorageKind_1_1kOneWordAtomic_01_4_a188fbacebb51de3f521f058e59b73d48}{FlagValue}}()\ :\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagOneWordValue}{FlagOneWordValue}}()\ \{\}}
\DoxyCodeLine{00463\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagValue_3_01T_00_01FlagValueStorageKind_1_1kOneWordAtomic_01_4_a81e143e563b3c2f6a963220bf8a923c1}{Get}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1SequenceLock}{SequenceLock}}\&,\ T\&\ dst)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00464\ \ \ \ \ int64\_t\ one\_word\_val\ =\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_a54c2bae0f8aeed048a397b0618037252}{value}}.load(std::memory\_order\_acquire);}
\DoxyCodeLine{00465\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{abseil-cpp_2absl_2base_2optimization_8h_a7de82b630fc76606a15c23483680a6a1}{ABSL\_PREDICT\_FALSE}}(one\_word\_val\ ==\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagOneWordValue_aab45817573f1ec0d44f0300a45c0b9ed}{FlagOneWordValue::Uninitialized}}()))\ \{}
\DoxyCodeLine{00466\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00467\ \ \ \ \ \}}
\DoxyCodeLine{00468\ \ \ \ \ std::memcpy(\&dst,\ \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(\&one\_word\_val),\ \textcolor{keyword}{sizeof}(T));}
\DoxyCodeLine{00469\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00470\ \ \ \}}
\DoxyCodeLine{00471\ \};}
\DoxyCodeLine{00472\ }
\DoxyCodeLine{00473\ \textcolor{comment}{//\ This\ specialization\ represents\ the\ storage\ of\ flag\ values\ types\ with\ the}}
\DoxyCodeLine{00474\ \textcolor{comment}{//\ kSequenceLocked\ storage\ kind.\ This\ storage\ is\ used\ by\ trivially\ copyable}}
\DoxyCodeLine{00475\ \textcolor{comment}{//\ types\ with\ size\ greater\ than\ 8\ bytes.\ This\ storage\ relies\ on\ uninitialized}}
\DoxyCodeLine{00476\ \textcolor{comment}{//\ state\ of\ the\ SequenceLock\ to\ indicate\ that\ the\ value\ has\ been\ initialized\ or}}
\DoxyCodeLine{00477\ \textcolor{comment}{//\ not.\ This\ storage\ also\ provides\ lock-\/free\ read\ access\ to\ the\ underlying}}
\DoxyCodeLine{00478\ \textcolor{comment}{//\ value\ once\ it\ is\ initialized.}}
\DoxyCodeLine{00479\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00480\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagValue}{FlagValue}}<T,\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a07283ad2beaaa4d1f18fa41a7dddb18a}{FlagValueStorageKind}}::\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a07283ad2beaaa4d1f18fa41a7dddb18aaf0fe8e52b98ced5e596e5d938521b1bb}{kSequenceLocked}}>\ \{}
\DoxyCodeLine{00481\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagValue_3_01T_00_01FlagValueStorageKind_1_1kSequenceLocked_01_4_a5065a7c87f80c92288079c5dafaf6b30}{Get}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1SequenceLock}{SequenceLock}}\&\ lock,\ T\&\ dst)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00482\ \ \ \ \ \textcolor{keywordflow}{return}\ lock.\mbox{\hyperlink{classabsl_1_1flags__internal_1_1SequenceLock_adbec3498a773c8b6ceb2659b10005c55}{TryRead}}(\&dst,\ value\_words,\ \textcolor{keyword}{sizeof}(T));}
\DoxyCodeLine{00483\ \ \ \}}
\DoxyCodeLine{00484\ }
\DoxyCodeLine{00485\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kNumWords\ =}
\DoxyCodeLine{00486\ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a124eec910596509ed2b398a00a4082fc}{flags\_internal::AlignUp}}(\textcolor{keyword}{sizeof}(T),\ \textcolor{keyword}{sizeof}(uint64\_t))\ /\ \textcolor{keyword}{sizeof}(uint64\_t);}
\DoxyCodeLine{00487\ }
\DoxyCodeLine{00488\ \ \ \textcolor{keyword}{alignas}(T)\ \textcolor{keyword}{alignas}(}
\DoxyCodeLine{00489\ \ \ \ \ \ \ std::atomic<uint64\_t>)\ std::atomic<uint64\_t>\ value\_words[kNumWords];}
\DoxyCodeLine{00490\ \};}
\DoxyCodeLine{00491\ }
\DoxyCodeLine{00492\ \textcolor{comment}{//\ This\ specialization\ represents\ the\ storage\ of\ flag\ values\ types\ with\ the}}
\DoxyCodeLine{00493\ \textcolor{comment}{//\ kHeapAllocated\ storage\ kind.\ This\ is\ a\ storage\ of\ last\ resort\ and\ is\ used}}
\DoxyCodeLine{00494\ \textcolor{comment}{//\ if\ none\ of\ other\ storage\ kinds\ are\ applicable.}}
\DoxyCodeLine{00495\ \textcolor{comment}{//}}
\DoxyCodeLine{00496\ \textcolor{comment}{//\ Generally\ speaking\ the\ values\ with\ this\ storage\ kind\ can't\ be\ accessed}}
\DoxyCodeLine{00497\ \textcolor{comment}{//\ atomically\ and\ thus\ can't\ be\ read\ without\ holding\ a\ lock.\ If\ we\ would\ ever}}
\DoxyCodeLine{00498\ \textcolor{comment}{//\ want\ to\ avoid\ the\ lock,\ we'd\ need\ to\ leak\ the\ old\ value\ every\ time\ new\ flag}}
\DoxyCodeLine{00499\ \textcolor{comment}{//\ value\ is\ being\ set\ (since\ we\ are\ in\ danger\ of\ having\ a\ race\ condition}}
\DoxyCodeLine{00500\ \textcolor{comment}{//\ otherwise).}}
\DoxyCodeLine{00501\ \textcolor{comment}{//}}
\DoxyCodeLine{00502\ \textcolor{comment}{//\ Instead\ of\ doing\ that,\ this\ implementation\ attempts\ to\ cater\ to\ some\ common}}
\DoxyCodeLine{00503\ \textcolor{comment}{//\ use\ cases\ by\ allowing\ at\ most\ 2\ values\ to\ be\ leaked\ -\/\ default\ value\ and}}
\DoxyCodeLine{00504\ \textcolor{comment}{//\ value\ set\ from\ the\ command\ line.}}
\DoxyCodeLine{00505\ \textcolor{comment}{//}}
\DoxyCodeLine{00506\ \textcolor{comment}{//\ This\ specialization\ provides\ an\ initial\ buffer\ for\ the\ first\ flag\ value.\ This}}
\DoxyCodeLine{00507\ \textcolor{comment}{//\ is\ where\ the\ default\ value\ is\ going\ to\ be\ stored.\ We\ attempt\ to\ reuse\ this}}
\DoxyCodeLine{00508\ \textcolor{comment}{//\ buffer\ if\ possible,\ including\ storing\ the\ value\ set\ from\ the\ command\ line}}
\DoxyCodeLine{00509\ \textcolor{comment}{//\ there.}}
\DoxyCodeLine{00510\ \textcolor{comment}{//}}
\DoxyCodeLine{00511\ \textcolor{comment}{//\ As\ long\ as\ we\ only\ read\ this\ value,\ we\ can\ access\ it\ without\ a\ lock\ (in}}
\DoxyCodeLine{00512\ \textcolor{comment}{//\ practice\ we\ still\ use\ the\ lock\ for\ the\ very\ first\ read\ to\ be\ able\ set}}
\DoxyCodeLine{00513\ \textcolor{comment}{//\ "{}has\ been\ read"{}\ option\ on\ this\ flag).}}
\DoxyCodeLine{00514\ \textcolor{comment}{//}}
\DoxyCodeLine{00515\ \textcolor{comment}{//\ If\ flag\ is\ specified\ on\ the\ command\ line\ we\ store\ the\ parsed\ value\ either}}
\DoxyCodeLine{00516\ \textcolor{comment}{//\ in\ the\ internal\ buffer\ (if\ the\ default\ value\ never\ been\ read)\ or\ we\ leak\ the}}
\DoxyCodeLine{00517\ \textcolor{comment}{//\ default\ value\ and\ allocate\ the\ new\ storage\ for\ the\ parse\ value.\ This\ value\ is}}
\DoxyCodeLine{00518\ \textcolor{comment}{//\ also\ a\ candidate\ for\ an\ unprotected\ read.\ If\ flag\ is\ set\ programmatically}}
\DoxyCodeLine{00519\ \textcolor{comment}{//\ after\ the\ command\ line\ is\ parsed,\ the\ storage\ for\ this\ value\ is\ going\ to\ be}}
\DoxyCodeLine{00520\ \textcolor{comment}{//\ leaked.\ Note\ that\ in\ both\ scenarios\ we\ are\ not\ going\ to\ have\ a\ real\ leak.}}
\DoxyCodeLine{00521\ \textcolor{comment}{//\ Instead\ we'll\ store\ the\ leaked\ value\ pointers\ in\ the\ internal\ freelist\ to}}
\DoxyCodeLine{00522\ \textcolor{comment}{//\ avoid\ triggering\ the\ memory\ leak\ checker\ complains.}}
\DoxyCodeLine{00523\ \textcolor{comment}{//}}
\DoxyCodeLine{00524\ \textcolor{comment}{//\ If\ the\ flag\ is\ ever\ set\ programmatically,\ it\ stops\ being\ the\ candidate\ for\ an}}
\DoxyCodeLine{00525\ \textcolor{comment}{//\ unprotected\ read,\ and\ any\ follow\ up\ access\ to\ the\ flag\ value\ requires\ a\ lock.}}
\DoxyCodeLine{00526\ \textcolor{comment}{//\ Note\ that\ if\ the\ value\ if\ set\ programmatically\ before\ the\ command\ line\ is}}
\DoxyCodeLine{00527\ \textcolor{comment}{//\ parsed,\ we\ can\ switch\ back\ to\ enabling\ unprotected\ reads\ for\ that\ value.}}
\DoxyCodeLine{00528\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00529\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagValue}{FlagValue}}<T,\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a07283ad2beaaa4d1f18fa41a7dddb18a}{FlagValueStorageKind}}::\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a07283ad2beaaa4d1f18fa41a7dddb18aad232cea8f9e19c45706227b4df02cbd7}{kHeapAllocated}}>}
\DoxyCodeLine{00530\ \ \ \ \ :\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagMaskedPointerValue}{FlagMaskedPointerValue}}\ \{}
\DoxyCodeLine{00531\ \ \ \textcolor{comment}{//\ We\ const\ initialize\ the\ value\ with\ unmasked\ pointer\ to\ the\ internal\ buffer,}}
\DoxyCodeLine{00532\ \ \ \textcolor{comment}{//\ making\ sure\ it\ is\ not\ a\ candidate\ for\ unprotected\ read.\ This\ way\ we\ can}}
\DoxyCodeLine{00533\ \ \ \textcolor{comment}{//\ ensure\ Init\ is\ done\ before\ any\ access\ to\ the\ flag\ value.}}
\DoxyCodeLine{00534\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagValue_3_01T_00_01FlagValueStorageKind_1_1kHeapAllocated_01_4_a0d2fa437fb8d949badf005063b523f4d}{FlagValue}}()\ :\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagMaskedPointerValue}{FlagMaskedPointerValue}}(\&buffer[0])\ \{\}}
\DoxyCodeLine{00535\ }
\DoxyCodeLine{00536\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagValue_3_01T_00_01FlagValueStorageKind_1_1kHeapAllocated_01_4_a5dfc1f0f604e8944908e10fd3117ccaa}{Get}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1SequenceLock}{SequenceLock}}\&,\ T\&\ dst)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00537\ \ \ \ \ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer}{MaskedPointer}}\ ptr\_value\ =\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_a54c2bae0f8aeed048a397b0618037252}{value}}.load(std::memory\_order\_acquire);}
\DoxyCodeLine{00538\ }
\DoxyCodeLine{00539\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{abseil-cpp_2absl_2base_2optimization_8h_ae4445fb0c40ea7cc8e1c30647069d1a5}{ABSL\_PREDICT\_TRUE}}(ptr\_value.\mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_a95e461c8e4f91fa51055ba1932fdb0be}{AllowsUnprotectedRead}}()))\ \{}
\DoxyCodeLine{00540\ \ \ \ \ \ \ ::new\ (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(\&dst))\ T(*\textcolor{keyword}{static\_cast<}T*\textcolor{keyword}{>}(ptr\_value.\mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_aa954a7b28d525676b6380223e90d14bb}{Ptr}}()));}
\DoxyCodeLine{00541\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00542\ \ \ \ \ \}}
\DoxyCodeLine{00543\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00544\ \ \ \}}
\DoxyCodeLine{00545\ }
\DoxyCodeLine{00546\ \ \ \textcolor{keyword}{alignas}(\mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer_aff661c2940d0634771ae41a740f07dae}{MaskedPointer::RequiredAlignment}}())\ \textcolor{keyword}{alignas}(}
\DoxyCodeLine{00547\ \ \ \ \ \ \ T)\ \textcolor{keywordtype}{char}\ buffer[\textcolor{keyword}{sizeof}(T)]\{\};}
\DoxyCodeLine{00548\ \};}
\DoxyCodeLine{00549\ }
\DoxyCodeLine{00551\ \textcolor{comment}{//\ Flag\ callback\ auxiliary\ structs.}}
\DoxyCodeLine{00552\ }
\DoxyCodeLine{00553\ \textcolor{comment}{//\ Signature\ for\ the\ mutation\ callback\ used\ by\ watched\ Flags}}
\DoxyCodeLine{00554\ \textcolor{comment}{//\ The\ callback\ is\ noexcept.}}
\DoxyCodeLine{00555\ \textcolor{comment}{//\ TODO(rogeeff):\ add\ noexcept\ after\ C++17\ support\ is\ added.}}
\DoxyCodeLine{00556\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceabsl_1_1flags__internal_aa78b929f8b88218008429bb64954d440}{FlagCallbackFunc}}\ =\ void\ (*)();}
\DoxyCodeLine{00557\ }
\DoxyCodeLine{00558\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagCallback}{FlagCallback}}\ \{}
\DoxyCodeLine{00559\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_aa78b929f8b88218008429bb64954d440}{FlagCallbackFunc}}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagCallback_a2ccd3f00cfda5e19bda7027b26ce182e}{func}};}
\DoxyCodeLine{00560\ \ \ \mbox{\hyperlink{classabsl_1_1Mutex}{absl::Mutex}}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagCallback_ad31d09191bd7f541290ee0afd962e561}{guard}};\ \ \textcolor{comment}{//\ Guard\ for\ concurrent\ callback\ invocations.}}
\DoxyCodeLine{00561\ \};}
\DoxyCodeLine{00562\ }
\DoxyCodeLine{00564\ \textcolor{comment}{//\ Flag\ implementation,\ which\ does\ not\ depend\ on\ flag\ value\ type.}}
\DoxyCodeLine{00565\ \textcolor{comment}{//\ The\ class\ encapsulates\ the\ Flag's\ data\ and\ access\ to\ it.}}
\DoxyCodeLine{00566\ }
\DoxyCodeLine{00567\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1flags__internal_1_1DynValueDeleter}{DynValueDeleter}}\ \{}
\DoxyCodeLine{00568\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1DynValueDeleter_a862356f5095c794302db738a275e6ea0}{DynValueDeleter}}(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a79c0a52e12469d9f0fc439422d08984e}{FlagOpFn}}\ op\_arg\ =\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00569\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1DynValueDeleter_a3945918cc8ee88e51c5ba1bb224ee0a3}{operator()}}(\textcolor{keywordtype}{void}*\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc__test_8cc_a935adc2e417a61d7eb6f04efb18ba031}{ptr}})\ \textcolor{keyword}{const};}
\DoxyCodeLine{00570\ }
\DoxyCodeLine{00571\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a79c0a52e12469d9f0fc439422d08984e}{FlagOpFn}}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1DynValueDeleter_adb34fc6a17575d3d574ecf4d6673801f}{op}};}
\DoxyCodeLine{00572\ \};}
\DoxyCodeLine{00573\ }
\DoxyCodeLine{00574\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagState}{FlagState}};}
\DoxyCodeLine{00575\ }
\DoxyCodeLine{00576\ \textcolor{comment}{//\ These\ are\ only\ used\ as\ constexpr\ global\ objects.}}
\DoxyCodeLine{00577\ \textcolor{comment}{//\ They\ do\ not\ use\ a\ virtual\ destructor\ to\ simplify\ their\ implementation.}}
\DoxyCodeLine{00578\ \textcolor{comment}{//\ They\ are\ not\ destroyed\ except\ at\ program\ exit,\ so\ leaks\ do\ not\ matter.}}
\DoxyCodeLine{00579\ \textcolor{preprocessor}{\#if\ defined(\_\_GNUC\_\_)\ \&\&\ !defined(\_\_clang\_\_)}}
\DoxyCodeLine{00580\ \textcolor{preprocessor}{\#pragma\ GCC\ diagnostic\ push}}
\DoxyCodeLine{00581\ \textcolor{preprocessor}{\#pragma\ GCC\ diagnostic\ ignored\ "{}-\/Wnon-\/virtual-\/dtor"{}}}
\DoxyCodeLine{00582\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00583\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagImpl}{FlagImpl}}\ final\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classabsl_1_1CommandLineFlag}{CommandLineFlag}}\ \{}
\DoxyCodeLine{00584\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00585\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagImpl_a5a8e09ea12242c0fae0b96a2305ab49e}{FlagImpl}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{abseil-cpp_2absl_2synchronization_2mutex_8cc_ac8b44a387cf3da062c4a32316b43962c}{name}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ filename,\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a79c0a52e12469d9f0fc439422d08984e}{FlagOpFn}}\ op,}
\DoxyCodeLine{00586\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagHelpArg}{FlagHelpArg}}\ help,\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a07283ad2beaaa4d1f18fa41a7dddb18a}{FlagValueStorageKind}}\ value\_kind,}
\DoxyCodeLine{00587\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagDefaultArg}{FlagDefaultArg}}\ default\_arg)}
\DoxyCodeLine{00588\ \ \ \ \ \ \ :\ name\_(\mbox{\hyperlink{abseil-cpp_2absl_2synchronization_2mutex_8cc_ac8b44a387cf3da062c4a32316b43962c}{name}}),}
\DoxyCodeLine{00589\ \ \ \ \ \ \ \ \ filename\_(filename),}
\DoxyCodeLine{00590\ \ \ \ \ \ \ \ \ op\_(op),}
\DoxyCodeLine{00591\ \ \ \ \ \ \ \ \ help\_(help.source),}
\DoxyCodeLine{00592\ \ \ \ \ \ \ \ \ help\_source\_kind\_(static\_cast<uint8\_t>(help.kind)),}
\DoxyCodeLine{00593\ \ \ \ \ \ \ \ \ value\_storage\_kind\_(static\_cast<uint8\_t>(value\_kind)),}
\DoxyCodeLine{00594\ \ \ \ \ \ \ \ \ def\_kind\_(static\_cast<uint8\_t>(default\_arg.kind)),}
\DoxyCodeLine{00595\ \ \ \ \ \ \ \ \ modified\_(false),}
\DoxyCodeLine{00596\ \ \ \ \ \ \ \ \ on\_command\_line\_(false),}
\DoxyCodeLine{00597\ \ \ \ \ \ \ \ \ callback\_(nullptr),}
\DoxyCodeLine{00598\ \ \ \ \ \ \ \ \ default\_value\_(default\_arg.source),}
\DoxyCodeLine{00599\ \ \ \ \ \ \ \ \ data\_guard\_\{\}\ \{\}}
\DoxyCodeLine{00600\ }
\DoxyCodeLine{00601\ \ \ \textcolor{comment}{//\ Constant\ access\ methods}}
\DoxyCodeLine{00602\ \ \ int64\_t\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagImpl_a55a9be75dcad0ff46153209344f28d31}{ReadOneWord}}()\ const\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2thread__annotations_8h_a774d28b29036a5a1afc23cf4da3c8ced}{ABSL\_LOCKS\_EXCLUDED}}(*DataGuard());}
\DoxyCodeLine{00603\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagImpl_ad422501cf97e047227ce009c339f0918}{ReadOneBool}}()\ const\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2thread__annotations_8h_a774d28b29036a5a1afc23cf4da3c8ced}{ABSL\_LOCKS\_EXCLUDED}}(*DataGuard());}
\DoxyCodeLine{00604\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagImpl_ad2ef25c1baa2bc9132ed1db0e1500592}{Read}}(\textcolor{keywordtype}{void}*\ dst)\ const\ override\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2thread__annotations_8h_a774d28b29036a5a1afc23cf4da3c8ced}{ABSL\_LOCKS\_EXCLUDED}}(*DataGuard());}
\DoxyCodeLine{00605\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagImpl_ad2ef25c1baa2bc9132ed1db0e1500592}{Read}}(\textcolor{keywordtype}{bool}*\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_a54c2bae0f8aeed048a397b0618037252}{value}})\ const\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2thread__annotations_8h_a774d28b29036a5a1afc23cf4da3c8ced}{ABSL\_LOCKS\_EXCLUDED}}(*DataGuard())\ \{}
\DoxyCodeLine{00606\ \ \ \ \ *\mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_a54c2bae0f8aeed048a397b0618037252}{value}}\ =\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagImpl_ad422501cf97e047227ce009c339f0918}{ReadOneBool}}();}
\DoxyCodeLine{00607\ \ \ \}}
\DoxyCodeLine{00608\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{00609\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_a059ea7c8c3122cd36d4e270733757ff9}{absl::enable\_if\_t<flags\_internal::StorageKind<T>}}()\ ==}
\DoxyCodeLine{00610\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a07283ad2beaaa4d1f18fa41a7dddb18aa906414d255b13296f6c3180ba306c727}{FlagValueStorageKind::kOneWordAtomic}},}
\DoxyCodeLine{00611\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}>\ =\ 0>}
\DoxyCodeLine{00612\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagImpl_a394902c132852a29ccc1076dd994d704}{Read}}(T*\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_a54c2bae0f8aeed048a397b0618037252}{value}})\ \textcolor{keyword}{const}\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2thread__annotations_8h_a774d28b29036a5a1afc23cf4da3c8ced}{ABSL\_LOCKS\_EXCLUDED}}(*DataGuard())\ \{}
\DoxyCodeLine{00613\ \ \ \ \ int64\_t\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9e3669d19b675bd57058fd4664205d2a}{v}}\ =\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagImpl_a55a9be75dcad0ff46153209344f28d31}{ReadOneWord}}();}
\DoxyCodeLine{00614\ \ \ \ \ std::memcpy(\mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_a54c2bae0f8aeed048a397b0618037252}{value}},\ \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const\ }\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(\&\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9e3669d19b675bd57058fd4664205d2a}{v}}),\ \textcolor{keyword}{sizeof}(T));}
\DoxyCodeLine{00615\ \ \ \}}
\DoxyCodeLine{00616\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{00617\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ std::enable\_if<flags\_internal::StorageKind<T>()\ ==}
\DoxyCodeLine{00618\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a07283ad2beaaa4d1f18fa41a7dddb18aaeeda6dbde399b2eaf378b9fe7ead52e1}{FlagValueStorageKind::kValueAndInitBit}},}
\DoxyCodeLine{00619\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}>::type\ =\ 0>}
\DoxyCodeLine{00620\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagImpl_a394902c132852a29ccc1076dd994d704}{Read}}(T*\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_a54c2bae0f8aeed048a397b0618037252}{value}})\ \textcolor{keyword}{const}\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2thread__annotations_8h_a774d28b29036a5a1afc23cf4da3c8ced}{ABSL\_LOCKS\_EXCLUDED}}(*DataGuard())\ \{}
\DoxyCodeLine{00621\ \ \ \ \ *\mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_a54c2bae0f8aeed048a397b0618037252}{value}}\ =\ \mbox{\hyperlink{namespaceabsl_ad685e40f13dd5dbd3afc5847ea4b6375}{absl::bit\_cast<FlagValueAndInitBit<T>}}>(\mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagImpl_a55a9be75dcad0ff46153209344f28d31}{ReadOneWord}}()).\mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_a54c2bae0f8aeed048a397b0618037252}{value}};}
\DoxyCodeLine{00622\ \ \ \}}
\DoxyCodeLine{00623\ }
\DoxyCodeLine{00624\ \ \ \textcolor{comment}{//\ Mutating\ access\ methods}}
\DoxyCodeLine{00625\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagImpl_a722cfaa47171fb8313bd41abf66faffe}{Write}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ src)\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2thread__annotations_8h_a774d28b29036a5a1afc23cf4da3c8ced}{ABSL\_LOCKS\_EXCLUDED}}(*DataGuard());}
\DoxyCodeLine{00626\ }
\DoxyCodeLine{00627\ \ \ \textcolor{comment}{//\ Interfaces\ to\ operate\ on\ callbacks.}}
\DoxyCodeLine{00628\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagImpl_a91f4b916a611db8b61cd8380478418b8}{SetCallback}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_aa78b929f8b88218008429bb64954d440}{FlagCallbackFunc}}\ mutation\_callback)}
\DoxyCodeLine{00629\ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2base_2thread__annotations_8h_a774d28b29036a5a1afc23cf4da3c8ced}{ABSL\_LOCKS\_EXCLUDED}}(*DataGuard());}
\DoxyCodeLine{00630\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagImpl_a0d7f23bc56bb185c9f6eb98023aebe90}{InvokeCallback}}()\ const\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2thread__annotations_8h_a13508dba116715784486cd4149128855}{ABSL\_EXCLUSIVE\_LOCKS\_REQUIRED}}(*DataGuard());}
\DoxyCodeLine{00631\ }
\DoxyCodeLine{00632\ \ \ \textcolor{comment}{//\ Used\ in\ read/write\ operations\ to\ validate\ source/target\ has\ correct\ type.}}
\DoxyCodeLine{00633\ \ \ \textcolor{comment}{//\ For\ example\ if\ flag\ is\ declared\ as\ absl::Flag<int>\ FLAGS\_foo,\ a\ call\ to}}
\DoxyCodeLine{00634\ \ \ \textcolor{comment}{//\ absl::GetFlag(FLAGS\_foo)\ validates\ that\ the\ type\ of\ FLAGS\_foo\ is\ indeed}}
\DoxyCodeLine{00635\ \ \ \textcolor{comment}{//\ int.\ To\ do\ that\ we\ pass\ the\ assumed\ type\ id\ (which\ is\ deduced\ from\ type}}
\DoxyCodeLine{00636\ \ \ \textcolor{comment}{//\ int)\ as\ an\ argument\ \`{}type\_id`,\ which\ is\ in\ turn\ is\ validated\ against\ the}}
\DoxyCodeLine{00637\ \ \ \textcolor{comment}{//\ type\ id\ stored\ in\ flag\ object\ by\ flag\ definition\ statement.}}
\DoxyCodeLine{00638\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagImpl_a743c61ae13e492278f5218b1e0c17acd}{AssertValidType}}(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a1aa5c694de490ec4519c7faa21aedb78}{FlagFastTypeId}}\ type\_id,}
\DoxyCodeLine{00639\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ const\ \mbox{\hyperlink{namespacestd}{std}}::type\_info*\ (*gen\_rtti)())\ const;}
\DoxyCodeLine{00640\ }
\DoxyCodeLine{00641\ \ private:}
\DoxyCodeLine{00642\ \ \ template\ <typename\ T>}
\DoxyCodeLine{00643\ \ \ friend\ class\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1Flag}{Flag}};}
\DoxyCodeLine{00644\ \ \ friend\ class\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagState}{FlagState}};}
\DoxyCodeLine{00645\ }
\DoxyCodeLine{00646\ \ \ \textcolor{comment}{//\ Ensures\ that\ \`{}data\_guard\_`\ is\ initialized\ and\ returns\ it.}}
\DoxyCodeLine{00647\ \ \ \mbox{\hyperlink{namespaceabsl}{absl}}::\mbox{\hyperlink{classabsl_1_1Mutex}{Mutex}}*\ DataGuard()\ const}
\DoxyCodeLine{00648\ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2base_2thread__annotations_8h_a035c2507424ba72b858b47aedd16241b}{ABSL\_LOCK\_RETURNED}}(reinterpret\_cast<\mbox{\hyperlink{namespaceabsl}{absl}}::\mbox{\hyperlink{classabsl_1_1Mutex}{Mutex}}*>(data\_guard\_));}
\DoxyCodeLine{00649\ \ \ \textcolor{comment}{//\ Returns\ heap\ allocated\ value\ of\ type\ T\ initialized\ with\ default\ value.}}
\DoxyCodeLine{00650\ \ \ \mbox{\hyperlink{namespacestd}{std}}::unique\_ptr<\textcolor{keywordtype}{void},\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1DynValueDeleter}{DynValueDeleter}}>\ MakeInitValue()\ const}
\DoxyCodeLine{00651\ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2base_2thread__annotations_8h_a13508dba116715784486cd4149128855}{ABSL\_EXCLUSIVE\_LOCKS\_REQUIRED}}(*DataGuard());}
\DoxyCodeLine{00652\ \ \ \textcolor{comment}{//\ Flag\ initialization\ called\ via\ absl::call\_once.}}
\DoxyCodeLine{00653\ \ \ \textcolor{keywordtype}{void}\ Init();}
\DoxyCodeLine{00654\ }
\DoxyCodeLine{00655\ \ \ \textcolor{comment}{//\ Offset\ value\ access\ methods.\ One\ per\ storage\ kind.\ These\ methods\ to\ not}}
\DoxyCodeLine{00656\ \ \ \textcolor{comment}{//\ respect\ const\ correctness,\ so\ be\ very\ careful\ using\ them.}}
\DoxyCodeLine{00657\ }
\DoxyCodeLine{00658\ \ \ \textcolor{comment}{//\ This\ is\ a\ shared\ helper\ routine\ which\ encapsulates\ most\ of\ the\ magic.\ Since}}
\DoxyCodeLine{00659\ \ \ \textcolor{comment}{//\ it\ is\ only\ used\ inside\ the\ three\ routines\ below,\ which\ are\ defined\ in}}
\DoxyCodeLine{00660\ \ \ \textcolor{comment}{//\ flag.cc,\ we\ can\ define\ it\ in\ that\ file\ as\ well.}}
\DoxyCodeLine{00661\ \ \ template\ <typename\ StorageT>}
\DoxyCodeLine{00662\ \ \ StorageT*\ OffsetValue()\ const;}
\DoxyCodeLine{00663\ }
\DoxyCodeLine{00664\ \ \ \textcolor{comment}{//\ The\ same\ as\ above,\ but\ used\ for\ sequencelock-\/protected\ storage.}}
\DoxyCodeLine{00665\ \ \ \mbox{\hyperlink{namespacestd}{std}}::atomic<uint64\_t>*\ AtomicBufferValue()\ const;}
\DoxyCodeLine{00666\ }
\DoxyCodeLine{00667\ \ \ \textcolor{comment}{//\ This\ is\ an\ accessor\ for\ a\ value\ stored\ as\ one\ word\ atomic.\ Returns\ a}}
\DoxyCodeLine{00668\ \ \ \textcolor{comment}{//\ mutable\ reference\ to\ an\ atomic\ value.}}
\DoxyCodeLine{00669\ \ \ \mbox{\hyperlink{namespacestd}{std}}::atomic<int64\_t>\&\ OneWordValue()\ const;}
\DoxyCodeLine{00670\ }
\DoxyCodeLine{00671\ \ \ \mbox{\hyperlink{namespacestd}{std}}::atomic<\mbox{\hyperlink{classabsl_1_1flags__internal_1_1MaskedPointer}{MaskedPointer}}>\&\ PtrStorage()\ const;}
\DoxyCodeLine{00672\ }
\DoxyCodeLine{00673\ \ \ \textcolor{comment}{//\ Attempts\ to\ parse\ supplied\ \`{}value`\ string.\ If\ parsing\ is\ successful,}}
\DoxyCodeLine{00674\ \ \ \textcolor{comment}{//\ returns\ new\ value.\ Otherwise\ returns\ nullptr.}}
\DoxyCodeLine{00675\ \ \ \mbox{\hyperlink{namespacestd}{std}}::unique\_ptr<\textcolor{keywordtype}{void},\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1DynValueDeleter}{DynValueDeleter}}>\ TryParse(\mbox{\hyperlink{namespaceabsl}{absl}}::\mbox{\hyperlink{classabsl_1_1string__view}{string\_view}}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_a54c2bae0f8aeed048a397b0618037252}{value}},}
\DoxyCodeLine{00676\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespacestd}{std}}::\textcolor{keywordtype}{string}\&\ err)\ const}
\DoxyCodeLine{00677\ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2base_2thread__annotations_8h_a13508dba116715784486cd4149128855}{ABSL\_EXCLUSIVE\_LOCKS\_REQUIRED}}(*DataGuard());}
\DoxyCodeLine{00678\ \ \ \textcolor{comment}{//\ Stores\ the\ flag\ value\ based\ on\ the\ pointer\ to\ the\ source.}}
\DoxyCodeLine{00679\ \ \ \textcolor{keywordtype}{void}\ StoreValue(const\ \textcolor{keywordtype}{void}*\ src,\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a120d81090a8dec4cc2c8a47072e139ba}{ValueSource}}\ source)}
\DoxyCodeLine{00680\ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2base_2thread__annotations_8h_a13508dba116715784486cd4149128855}{ABSL\_EXCLUSIVE\_LOCKS\_REQUIRED}}(*DataGuard());}
\DoxyCodeLine{00681\ }
\DoxyCodeLine{00682\ \ \ \textcolor{comment}{//\ Copy\ the\ flag\ data,\ protected\ by\ \`{}seq\_lock\_`\ into\ \`{}dst`.}}
\DoxyCodeLine{00683\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00684\ \ \ \textcolor{comment}{//\ REQUIRES:\ ValueStorageKind()\ ==\ kSequenceLocked.}}
\DoxyCodeLine{00685\ \ \ \textcolor{keywordtype}{void}\ ReadSequenceLockedData(\textcolor{keywordtype}{void}*\ dst)\ const}
\DoxyCodeLine{00686\ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2base_2thread__annotations_8h_a774d28b29036a5a1afc23cf4da3c8ced}{ABSL\_LOCKS\_EXCLUDED}}(*DataGuard());}
\DoxyCodeLine{00687\ }
\DoxyCodeLine{00688\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a523091df7abc8acd949449c548cc2b4a}{FlagHelpKind}}\ HelpSourceKind()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00689\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a523091df7abc8acd949449c548cc2b4a}{FlagHelpKind}}\textcolor{keyword}{>}(help\_source\_kind\_);}
\DoxyCodeLine{00690\ \ \ \}}
\DoxyCodeLine{00691\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a07283ad2beaaa4d1f18fa41a7dddb18a}{FlagValueStorageKind}}\ ValueStorageKind()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00692\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a07283ad2beaaa4d1f18fa41a7dddb18a}{FlagValueStorageKind}}\textcolor{keyword}{>}(value\_storage\_kind\_);}
\DoxyCodeLine{00693\ \ \ \}}
\DoxyCodeLine{00694\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a23dd0d25e49581f4eca78d0b9f5a00e4}{FlagDefaultKind}}\ DefaultKind()\ const}
\DoxyCodeLine{00695\ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2base_2thread__annotations_8h_a13508dba116715784486cd4149128855}{ABSL\_EXCLUSIVE\_LOCKS\_REQUIRED}}(*DataGuard())\ \{}
\DoxyCodeLine{00696\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a23dd0d25e49581f4eca78d0b9f5a00e4}{FlagDefaultKind}}\textcolor{keyword}{>}(def\_kind\_);}
\DoxyCodeLine{00697\ \ \ \}}
\DoxyCodeLine{00698\ }
\DoxyCodeLine{00699\ \ \ \textcolor{comment}{//\ CommandLineFlag\ interface\ implementation}}
\DoxyCodeLine{00700\ \ \ \mbox{\hyperlink{classabsl_1_1string__view}{absl::string\_view}}\ Name()\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00701\ \ \ std::string\ Filename()\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00702\ \ \ std::string\ Help()\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00703\ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a1aa5c694de490ec4519c7faa21aedb78}{FlagFastTypeId}}\ TypeId()\ \textcolor{keyword}{const\ override};}
\DoxyCodeLine{00704\ \ \ \textcolor{keywordtype}{bool}\ IsSpecifiedOnCommandLine()\ const\ override}
\DoxyCodeLine{00705\ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2base_2thread__annotations_8h_a774d28b29036a5a1afc23cf4da3c8ced}{ABSL\_LOCKS\_EXCLUDED}}(*DataGuard());}
\DoxyCodeLine{00706\ \ \ \mbox{\hyperlink{namespacestd}{std}}::\textcolor{keywordtype}{string}\ DefaultValue()\ const\ override\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2thread__annotations_8h_a774d28b29036a5a1afc23cf4da3c8ced}{ABSL\_LOCKS\_EXCLUDED}}(*DataGuard());}
\DoxyCodeLine{00707\ \ \ \mbox{\hyperlink{namespacestd}{std}}::\textcolor{keywordtype}{string}\ CurrentValue()\ const\ override\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2thread__annotations_8h_a774d28b29036a5a1afc23cf4da3c8ced}{ABSL\_LOCKS\_EXCLUDED}}(*DataGuard());}
\DoxyCodeLine{00708\ \ \ \textcolor{keywordtype}{bool}\ ValidateInputValue(\mbox{\hyperlink{namespaceabsl}{absl}}::string\_view\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_a54c2bae0f8aeed048a397b0618037252}{value}})\ const\ override}
\DoxyCodeLine{00709\ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2base_2thread__annotations_8h_a774d28b29036a5a1afc23cf4da3c8ced}{ABSL\_LOCKS\_EXCLUDED}}(*DataGuard());}
\DoxyCodeLine{00710\ \ \ \textcolor{keywordtype}{void}\ CheckDefaultValueParsingRoundtrip()\ const\ override}
\DoxyCodeLine{00711\ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2base_2thread__annotations_8h_a774d28b29036a5a1afc23cf4da3c8ced}{ABSL\_LOCKS\_EXCLUDED}}(*DataGuard());}
\DoxyCodeLine{00712\ }
\DoxyCodeLine{00713\ \ \ int64\_t\ ModificationCount()\ const\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2thread__annotations_8h_a13508dba116715784486cd4149128855}{ABSL\_EXCLUSIVE\_LOCKS\_REQUIRED}}(*DataGuard());}
\DoxyCodeLine{00714\ }
\DoxyCodeLine{00715\ \ \ \textcolor{comment}{//\ Interfaces\ to\ save\ and\ restore\ flags\ to/from\ persistent\ state.}}
\DoxyCodeLine{00716\ \ \ \textcolor{comment}{//\ Returns\ current\ flag\ state\ or\ nullptr\ if\ flag\ does\ not\ support}}
\DoxyCodeLine{00717\ \ \ \textcolor{comment}{//\ saving\ and\ restoring\ a\ state.}}
\DoxyCodeLine{00718\ \ \ \mbox{\hyperlink{namespacestd}{std}}::unique\_ptr<FlagStateInterface>\ SaveState()\ override}
\DoxyCodeLine{00719\ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2base_2thread__annotations_8h_a774d28b29036a5a1afc23cf4da3c8ced}{ABSL\_LOCKS\_EXCLUDED}}(*DataGuard());}
\DoxyCodeLine{00720\ }
\DoxyCodeLine{00721\ \ \ \textcolor{comment}{//\ Restores\ the\ flag\ state\ to\ the\ supplied\ state\ object.\ If\ there\ is}}
\DoxyCodeLine{00722\ \ \ \textcolor{comment}{//\ nothing\ to\ restore\ returns\ false.\ Otherwise\ returns\ true.}}
\DoxyCodeLine{00723\ \ \ \textcolor{keywordtype}{bool}\ RestoreState(const\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagImpl_acd4d4db6e96b6c1b0749660de4bfc8c7}{FlagState}}\&\ flag\_state)}
\DoxyCodeLine{00724\ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2base_2thread__annotations_8h_a774d28b29036a5a1afc23cf4da3c8ced}{ABSL\_LOCKS\_EXCLUDED}}(*DataGuard());}
\DoxyCodeLine{00725\ }
\DoxyCodeLine{00726\ \ \ \textcolor{keywordtype}{bool}\ ParseFrom(\mbox{\hyperlink{namespaceabsl}{absl}}::string\_view\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_a54c2bae0f8aeed048a397b0618037252}{value}},\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a4abacd30238c591349f7e2c4e78a205c}{FlagSettingMode}}\ set\_mode,}
\DoxyCodeLine{00727\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a120d81090a8dec4cc2c8a47072e139ba}{ValueSource}}\ source,\ \mbox{\hyperlink{namespacestd}{std}}::\textcolor{keywordtype}{string}\&\ error)\ override}
\DoxyCodeLine{00728\ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2base_2thread__annotations_8h_a774d28b29036a5a1afc23cf4da3c8ced}{ABSL\_LOCKS\_EXCLUDED}}(*DataGuard());}
\DoxyCodeLine{00729\ }
\DoxyCodeLine{00730\ \ \ \textcolor{comment}{//\ Immutable\ flag's\ state.}}
\DoxyCodeLine{00731\ }
\DoxyCodeLine{00732\ \ \ \textcolor{comment}{//\ Flags\ name\ passed\ to\ ABSL\_FLAG\ as\ second\ arg.}}
\DoxyCodeLine{00733\ \ \ const\ \textcolor{keywordtype}{char}*\ const\ name\_;}
\DoxyCodeLine{00734\ \ \ \textcolor{comment}{//\ The\ file\ name\ where\ ABSL\_FLAG\ resides.}}
\DoxyCodeLine{00735\ \ \ const\ \textcolor{keywordtype}{char}*\ const\ filename\_;}
\DoxyCodeLine{00736\ \ \ \textcolor{comment}{//\ Type-\/specific\ operations\ vtable.}}
\DoxyCodeLine{00737\ \ \ const\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a79c0a52e12469d9f0fc439422d08984e}{FlagOpFn}}\ op\_;}
\DoxyCodeLine{00738\ \ \ \textcolor{comment}{//\ Help\ message\ literal\ or\ function\ to\ generate\ it.}}
\DoxyCodeLine{00739\ \ \ const\ FlagHelpMsg\ help\_;}
\DoxyCodeLine{00740\ \ \ \textcolor{comment}{//\ Indicates\ if\ help\ message\ was\ supplied\ as\ literal\ or\ generator\ func.}}
\DoxyCodeLine{00741\ \ \ const\ uint8\_t\ help\_source\_kind\_\ :\ 1;}
\DoxyCodeLine{00742\ \ \ \textcolor{comment}{//\ Kind\ of\ storage\ this\ flag\ is\ using\ for\ the\ flag's\ value.}}
\DoxyCodeLine{00743\ \ \ const\ uint8\_t\ value\_storage\_kind\_\ :\ 2;}
\DoxyCodeLine{00744\ }
\DoxyCodeLine{00745\ \ \ uint8\_t\ :\ 0;\ \ \textcolor{comment}{//\ The\ bytes\ containing\ the\ const\ bitfields\ must\ not\ be}}
\DoxyCodeLine{00746\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ shared\ with\ bytes\ containing\ the\ mutable\ bitfields.}}
\DoxyCodeLine{00747\ }
\DoxyCodeLine{00748\ \ \ \textcolor{comment}{//\ Mutable\ flag's\ state\ (guarded\ by\ \`{}data\_guard\_`).}}
\DoxyCodeLine{00749\ }
\DoxyCodeLine{00750\ \ \ \textcolor{comment}{//\ def\_kind\_\ is\ not\ guard\ by\ DataGuard()\ since\ it\ is\ accessed\ in\ Init\ without}}
\DoxyCodeLine{00751\ \ \ \textcolor{comment}{//\ locks.}}
\DoxyCodeLine{00752\ \ \ uint8\_t\ def\_kind\_\ :\ 2;}
\DoxyCodeLine{00753\ \ \ \textcolor{comment}{//\ Has\ this\ flag's\ value\ been\ modified?}}
\DoxyCodeLine{00754\ \ \ \textcolor{keywordtype}{bool}\ modified\_\ :\ 1\ \mbox{\hyperlink{namespaceabsl_aeded9ba309a6d56e3d4016f8e566abcc}{ABSL\_GUARDED\_BY}}(*DataGuard());}
\DoxyCodeLine{00755\ \ \ \textcolor{comment}{//\ Has\ this\ flag\ been\ specified\ on\ command\ line.}}
\DoxyCodeLine{00756\ \ \ \textcolor{keywordtype}{bool}\ on\_command\_line\_\ :\ 1\ \mbox{\hyperlink{namespaceabsl_aeded9ba309a6d56e3d4016f8e566abcc}{ABSL\_GUARDED\_BY}}(*DataGuard());}
\DoxyCodeLine{00757\ }
\DoxyCodeLine{00758\ \ \ \textcolor{comment}{//\ Unique\ tag\ for\ absl::call\_once\ call\ to\ initialize\ this\ flag.}}
\DoxyCodeLine{00759\ \ \ \mbox{\hyperlink{namespaceabsl}{absl}}::once\_flag\ init\_control\_;}
\DoxyCodeLine{00760\ }
\DoxyCodeLine{00761\ \ \ \textcolor{comment}{//\ Sequence\ lock\ /\ mutation\ counter.}}
\DoxyCodeLine{00762\ \ \ flags\_internal::SequenceLock\ seq\_lock\_;}
\DoxyCodeLine{00763\ }
\DoxyCodeLine{00764\ \ \ \textcolor{comment}{//\ Optional\ flag's\ callback\ and\ absl::Mutex\ to\ guard\ the\ invocations.}}
\DoxyCodeLine{00765\ \ \ FlagCallback*\ callback\_\ \mbox{\hyperlink{namespaceabsl_aeded9ba309a6d56e3d4016f8e566abcc}{ABSL\_GUARDED\_BY}}(*DataGuard());}
\DoxyCodeLine{00766\ \ \ \textcolor{comment}{//\ Either\ a\ pointer\ to\ the\ function\ generating\ the\ default\ value\ based\ on\ the}}
\DoxyCodeLine{00767\ \ \ \textcolor{comment}{//\ value\ specified\ in\ ABSL\_FLAG\ or\ pointer\ to\ the\ dynamically\ set\ default}}
\DoxyCodeLine{00768\ \ \ \textcolor{comment}{//\ value\ via\ SetCommandLineOptionWithMode.\ def\_kind\_\ is\ used\ to\ distinguish}}
\DoxyCodeLine{00769\ \ \ \textcolor{comment}{//\ these\ two\ cases.}}
\DoxyCodeLine{00770\ \ \ FlagDefaultSrc\ default\_value\_;}
\DoxyCodeLine{00771\ }
\DoxyCodeLine{00772\ \ \ \textcolor{comment}{//\ This\ is\ reserved\ space\ for\ an\ absl::Mutex\ to\ guard\ flag\ data.\ It\ will\ be}}
\DoxyCodeLine{00773\ \ \ \textcolor{comment}{//\ initialized\ in\ FlagImpl::Init\ via\ placement\ new.}}
\DoxyCodeLine{00774\ \ \ \textcolor{comment}{//\ We\ can't\ use\ "{}absl::Mutex\ data\_guard\_"{},\ since\ this\ class\ is\ not\ literal.}}
\DoxyCodeLine{00775\ \ \ \textcolor{comment}{//\ We\ do\ not\ want\ to\ use\ "{}absl::Mutex*\ data\_guard\_"{},\ since\ this\ would\ require}}
\DoxyCodeLine{00776\ \ \ \textcolor{comment}{//\ heap\ allocation\ during\ initialization,\ which\ is\ both\ slows\ program\ startup}}
\DoxyCodeLine{00777\ \ \ \textcolor{comment}{//\ and\ can\ fail.\ Using\ reserved\ space\ +\ placement\ new\ allows\ us\ to\ avoid\ both}}
\DoxyCodeLine{00778\ \ \ \textcolor{comment}{//\ problems.}}
\DoxyCodeLine{00779\ \ \ alignas(\mbox{\hyperlink{namespaceabsl}{absl}}::Mutex)\ mutable\ \textcolor{keywordtype}{char}\ data\_guard\_[sizeof(\mbox{\hyperlink{namespaceabsl}{absl}}::Mutex)];}
\DoxyCodeLine{00780\ \};}
\DoxyCodeLine{00781\ \textcolor{preprocessor}{\#if\ defined(\_\_GNUC\_\_)\ \&\&\ !defined(\_\_clang\_\_)}}
\DoxyCodeLine{00782\ \textcolor{preprocessor}{\#pragma\ GCC\ diagnostic\ pop}}
\DoxyCodeLine{00783\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00784\ }
\DoxyCodeLine{00786\ \textcolor{comment}{//\ The\ Flag\ object\ parameterized\ by\ the\ flag's\ value\ type.\ This\ class\ implements}}
\DoxyCodeLine{00787\ \textcolor{comment}{//\ flag\ reflection\ handle\ interface.}}
\DoxyCodeLine{00788\ }
\DoxyCodeLine{00789\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00790\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1flags__internal_1_1Flag}{Flag}}\ \{}
\DoxyCodeLine{00791\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00792\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1Flag_a83da1747c4e0a3a0c0d3aa375bdce521}{Flag}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{abseil-cpp_2absl_2synchronization_2mutex_8cc_ac8b44a387cf3da062c4a32316b43962c}{name}},\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ filename,\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagHelpArg}{FlagHelpArg}}\ help,}
\DoxyCodeLine{00793\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagDefaultArg}{FlagDefaultArg}}\ default\_arg)}
\DoxyCodeLine{00794\ \ \ \ \ \ \ :\ impl\_(\mbox{\hyperlink{abseil-cpp_2absl_2synchronization_2mutex_8cc_ac8b44a387cf3da062c4a32316b43962c}{name}},\ filename,\ \&\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a2d74d831a12d19267ca3abe5447676bd}{FlagOps}}<T>,\ help,}
\DoxyCodeLine{00795\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ flags\_internal::\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a4b7d8c885a82ab188ad00925805a31b0}{StorageKind}}<T>(),\ default\_arg),}
\DoxyCodeLine{00796\ \ \ \ \ \ \ \ \ value\_()\ \{\}}
\DoxyCodeLine{00797\ }
\DoxyCodeLine{00798\ \ \ \textcolor{comment}{//\ CommandLineFlag\ interface}}
\DoxyCodeLine{00799\ \ \ \mbox{\hyperlink{classabsl_1_1string__view}{absl::string\_view}}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1Flag_a83e768a83e04746a18c51a378cb1938a}{Name}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ impl\_.Name();\ \}}
\DoxyCodeLine{00800\ \ \ std::string\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1Flag_aaa426baad40171170cb836d43b62a477}{Filename}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ impl\_.Filename();\ \}}
\DoxyCodeLine{00801\ \ \ std::string\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1Flag_af324f6eccaf21abe420549e05b62ad1e}{Help}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ impl\_.Help();\ \}}
\DoxyCodeLine{00802\ \ \ \textcolor{comment}{//\ Do\ not\ use.\ To\ be\ removed.}}
\DoxyCodeLine{00803\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1Flag_aa5504f1845c730a6720acbb5490a7f76}{IsSpecifiedOnCommandLine}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00804\ \ \ \ \ \textcolor{keywordflow}{return}\ impl\_.IsSpecifiedOnCommandLine();}
\DoxyCodeLine{00805\ \ \ \}}
\DoxyCodeLine{00806\ \ \ std::string\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1Flag_aec3cea4320f59ad1a87e111d167a2270}{DefaultValue}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ impl\_.DefaultValue();\ \}}
\DoxyCodeLine{00807\ \ \ std::string\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1Flag_ab204fb270e6600c19cce82cef5dfce1b}{CurrentValue}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ impl\_.CurrentValue();\ \}}
\DoxyCodeLine{00808\ }
\DoxyCodeLine{00809\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00810\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename},\ \textcolor{keywordtype}{bool}>}
\DoxyCodeLine{00811\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagRegistrar}{FlagRegistrar}};}
\DoxyCodeLine{00812\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagImplPeer}{FlagImplPeer}};}
\DoxyCodeLine{00813\ }
\DoxyCodeLine{00814\ \ \ T\ Get()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00815\ \ \ \ \ \textcolor{comment}{//\ See\ implementation\ notes\ in\ CommandLineFlag::Get().}}
\DoxyCodeLine{00816\ \ \ \ \ \textcolor{keyword}{union\ }U\ \{}
\DoxyCodeLine{00817\ \ \ \ \ \ \ T\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_a54c2bae0f8aeed048a397b0618037252}{value}};}
\DoxyCodeLine{00818\ \ \ \ \ \ \ U()\ \{\}}
\DoxyCodeLine{00819\ \ \ \ \ \ \ \string~U()\ \{\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_a54c2bae0f8aeed048a397b0618037252}{value}}.\string~T();\ \}}
\DoxyCodeLine{00820\ \ \ \ \ \};}
\DoxyCodeLine{00821\ \ \ \ \ U\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b774effe4a349c6dd82ad4f4f21d34c}{u}};}
\DoxyCodeLine{00822\ }
\DoxyCodeLine{00823\ \textcolor{preprocessor}{\#if\ !defined(NDEBUG)}}
\DoxyCodeLine{00824\ \ \ \ \ impl\_.AssertValidType(\mbox{\hyperlink{namespaceabsl_1_1base__internal_a6f0b25e9ed9706a67b201247d2697ec3}{base\_internal::FastTypeId<T>}}(),\ \&\mbox{\hyperlink{namespaceabsl_1_1flags__internal_ac9a8e87db1947d35484081d89220b414}{GenRuntimeTypeId<T>}});}
\DoxyCodeLine{00825\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00826\ }
\DoxyCodeLine{00827\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{abseil-cpp_2absl_2base_2optimization_8h_a7de82b630fc76606a15c23483680a6a1}{ABSL\_PREDICT\_FALSE}}(!value\_.Get(impl\_.seq\_lock\_,\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b774effe4a349c6dd82ad4f4f21d34c}{u}}.value)))\ \{}
\DoxyCodeLine{00828\ \ \ \ \ \ \ impl\_.Read(\&\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b774effe4a349c6dd82ad4f4f21d34c}{u}}.value);}
\DoxyCodeLine{00829\ \ \ \ \ \}}
\DoxyCodeLine{00830\ \ \ \ \ \textcolor{keywordflow}{return}\ std::move(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b774effe4a349c6dd82ad4f4f21d34c}{u}}.value);}
\DoxyCodeLine{00831\ \ \ \}}
\DoxyCodeLine{00832\ \ \ \textcolor{keywordtype}{void}\ Set(\textcolor{keyword}{const}\ T\&\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9e3669d19b675bd57058fd4664205d2a}{v}})\ \{}
\DoxyCodeLine{00833\ \ \ \ \ impl\_.AssertValidType(\mbox{\hyperlink{namespaceabsl_1_1base__internal_a6f0b25e9ed9706a67b201247d2697ec3}{base\_internal::FastTypeId<T>}}(),\ \&\mbox{\hyperlink{namespaceabsl_1_1flags__internal_ac9a8e87db1947d35484081d89220b414}{GenRuntimeTypeId<T>}});}
\DoxyCodeLine{00834\ \ \ \ \ impl\_.Write(\&\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9e3669d19b675bd57058fd4664205d2a}{v}});}
\DoxyCodeLine{00835\ \ \ \}}
\DoxyCodeLine{00836\ }
\DoxyCodeLine{00837\ \ \ \textcolor{comment}{//\ Access\ to\ the\ reflection.}}
\DoxyCodeLine{00838\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1CommandLineFlag_a95b26afaa75f258060e29a744972cda5}{CommandLineFlag}}\&\ Reflect()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ impl\_;\ \}}
\DoxyCodeLine{00839\ }
\DoxyCodeLine{00840\ \ \ \textcolor{comment}{//\ Flag's\ data}}
\DoxyCodeLine{00841\ \ \ \textcolor{comment}{//\ The\ implementation\ depends\ on\ value\_\ field\ to\ be\ placed\ exactly\ after\ the}}
\DoxyCodeLine{00842\ \ \ \textcolor{comment}{//\ impl\_\ field,\ so\ that\ impl\_\ can\ figure\ out\ the\ offset\ to\ the\ value\ and}}
\DoxyCodeLine{00843\ \ \ \textcolor{comment}{//\ access\ it.}}
\DoxyCodeLine{00844\ \ \ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagImpl_a5a8e09ea12242c0fae0b96a2305ab49e}{FlagImpl}}\ impl\_;}
\DoxyCodeLine{00845\ \ \ FlagValue<T>\ value\_;}
\DoxyCodeLine{00846\ \};}
\DoxyCodeLine{00847\ }
\DoxyCodeLine{00849\ \textcolor{comment}{//\ Trampoline\ for\ friend\ access}}
\DoxyCodeLine{00850\ }
\DoxyCodeLine{00851\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagImplPeer}{FlagImplPeer}}\ \{}
\DoxyCodeLine{00852\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00853\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ FlagType>}
\DoxyCodeLine{00854\ \ \ \textcolor{keyword}{static}\ T\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagImplPeer_a4c1ff5415415156dae3faaaa9be9b48f}{InvokeGet}}(\textcolor{keyword}{const}\ FlagType\&\ flag)\ \{}
\DoxyCodeLine{00855\ \ \ \ \ \textcolor{keywordflow}{return}\ flag.Get();}
\DoxyCodeLine{00856\ \ \ \}}
\DoxyCodeLine{00857\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FlagType,\ \textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00858\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagImplPeer_a979eb1ae44da76ee542c40482337a2b5}{InvokeSet}}(FlagType\&\ flag,\ \textcolor{keyword}{const}\ T\&\ v)\ \{}
\DoxyCodeLine{00859\ \ \ \ \ flag.Set(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9e3669d19b675bd57058fd4664205d2a}{v}});}
\DoxyCodeLine{00860\ \ \ \}}
\DoxyCodeLine{00861\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FlagType>}
\DoxyCodeLine{00862\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1CommandLineFlag}{CommandLineFlag}}\&\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagImplPeer_aaf369de45368ada2eca00129c7e205e1}{InvokeReflect}}(\textcolor{keyword}{const}\ FlagType\&\ f)\ \{}
\DoxyCodeLine{00863\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca8fa14cdd754f91cc6554c9e71929cce7}{f}}.Reflect();}
\DoxyCodeLine{00864\ \ \ \}}
\DoxyCodeLine{00865\ \};}
\DoxyCodeLine{00866\ }
\DoxyCodeLine{00868\ \textcolor{comment}{//\ Implementation\ of\ Flag\ value\ specific\ operations\ routine.}}
\DoxyCodeLine{00869\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00870\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a2d74d831a12d19267ca3abe5447676bd}{FlagOps}}(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20f}{FlagOp}}\ op,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_ac3f9ff4294615df8b7e9684b7d6fddc7}{v1}},\ \textcolor{keywordtype}{void}*\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_aa517e2fff4a8c9cba11391ca12f91803}{v2}},\ \textcolor{keywordtype}{void}*\ v3)\ \{}
\DoxyCodeLine{00871\ \ \ \textcolor{keyword}{struct\ }AlignedSpace\ \{}
\DoxyCodeLine{00872\ \ \ \ \ \textcolor{keyword}{alignas}(MaskedPointer::RequiredAlignment())\ \textcolor{keyword}{alignas}(T)\ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{abseil-cpp_2absl_2synchronization_2mutex_8cc_a1742b90b063c37fd462e8943e3d312d6}{buf}}[\textcolor{keyword}{sizeof}(T)];}
\DoxyCodeLine{00873\ \ \ \};}
\DoxyCodeLine{00874\ \ \ \textcolor{keyword}{using\ }Allocator\ =\ std::allocator<AlignedSpace>;}
\DoxyCodeLine{00875\ \ \ \textcolor{keywordflow}{switch}\ (op)\ \{}
\DoxyCodeLine{00876\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20fa8bffcb3cd321adcf329efce8b61f1df9}{FlagOp::kAlloc}}:\ \{}
\DoxyCodeLine{00877\ \ \ \ \ \ \ Allocator\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_a58bc91864ce9643c9ce65eeebdf8d5f1}{alloc}};}
\DoxyCodeLine{00878\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::allocator\_traits<Allocator>::allocate(\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_a58bc91864ce9643c9ce65eeebdf8d5f1}{alloc}},\ 1);}
\DoxyCodeLine{00879\ \ \ \ \ \}}
\DoxyCodeLine{00880\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20faa075d0261593f6a884f416df38cb9696}{FlagOp::kDelete}}:\ \{}
\DoxyCodeLine{00881\ \ \ \ \ \ \ T*\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca83878c91171338902e0fe0fb97a8c47a}{p}}\ =\ \textcolor{keyword}{static\_cast<}T*\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_aa517e2fff4a8c9cba11391ca12f91803}{v2}});}
\DoxyCodeLine{00882\ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca83878c91171338902e0fe0fb97a8c47a}{p}}-\/>\string~T();}
\DoxyCodeLine{00883\ \ \ \ \ \ \ Allocator\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_a58bc91864ce9643c9ce65eeebdf8d5f1}{alloc}};}
\DoxyCodeLine{00884\ \ \ \ \ \ \ std::allocator\_traits<Allocator>::deallocate(}
\DoxyCodeLine{00885\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_a58bc91864ce9643c9ce65eeebdf8d5f1}{alloc}},\ \textcolor{keyword}{reinterpret\_cast<}AlignedSpace*\textcolor{keyword}{>}(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca83878c91171338902e0fe0fb97a8c47a}{p}}),\ 1);}
\DoxyCodeLine{00886\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00887\ \ \ \ \ \}}
\DoxyCodeLine{00888\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20fa70055f8d83bee0a0075607b549829299}{FlagOp::kCopy}}:}
\DoxyCodeLine{00889\ \ \ \ \ \ \ *\textcolor{keyword}{static\_cast<}T*\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_aa517e2fff4a8c9cba11391ca12f91803}{v2}})\ =\ *\textcolor{keyword}{static\_cast<}\textcolor{keyword}{const\ }T*\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_ac3f9ff4294615df8b7e9684b7d6fddc7}{v1}});}
\DoxyCodeLine{00890\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00891\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20fa10ff94a2f7bae806509230d5d09a8c40}{FlagOp::kCopyConstruct}}:}
\DoxyCodeLine{00892\ \ \ \ \ \ \ \textcolor{keyword}{new}\ (\mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_aa517e2fff4a8c9cba11391ca12f91803}{v2}})\ T(*\textcolor{keyword}{static\_cast<}\textcolor{keyword}{const\ }T*\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_ac3f9ff4294615df8b7e9684b7d6fddc7}{v1}}));}
\DoxyCodeLine{00893\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00894\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20fa369da9be1a2625f2e8e91b84288a584f}{FlagOp::kSizeof}}:}
\DoxyCodeLine{00895\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(\textcolor{keyword}{static\_cast<}uintptr\_t\textcolor{keyword}{>}(\textcolor{keyword}{sizeof}(T)));}
\DoxyCodeLine{00896\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20fa8185b605a519dba4fc2254ae2d8743eb}{FlagOp::kFastTypeId}}:}
\DoxyCodeLine{00897\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{const\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(\mbox{\hyperlink{namespaceabsl_1_1base__internal_a6f0b25e9ed9706a67b201247d2697ec3}{base\_internal::FastTypeId<T>}}());}
\DoxyCodeLine{00898\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20faccacc25ed47caeab9d2efd02d432f2ac}{FlagOp::kRuntimeTypeId}}:}
\DoxyCodeLine{00899\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{const\_cast<}std::type\_info*\textcolor{keyword}{>}(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_ac9a8e87db1947d35484081d89220b414}{GenRuntimeTypeId<T>}}());}
\DoxyCodeLine{00900\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20faf4266524e74570ef3c584c6488e19f8e}{FlagOp::kParse}}:\ \{}
\DoxyCodeLine{00901\ \ \ \ \ \ \ \textcolor{comment}{//\ Initialize\ the\ temporary\ instance\ of\ type\ T\ based\ on\ current\ value\ in}}
\DoxyCodeLine{00902\ \ \ \ \ \ \ \textcolor{comment}{//\ destination\ (which\ is\ going\ to\ be\ flag's\ default\ value).}}
\DoxyCodeLine{00903\ \ \ \ \ \ \ T\ temp(*\textcolor{keyword}{static\_cast<}T*\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_aa517e2fff4a8c9cba11391ca12f91803}{v2}}));}
\DoxyCodeLine{00904\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{namespaceabsl_ab43132d43fb04922e0dfa929e5fa75ee}{absl::ParseFlag<T>}}(*\textcolor{keyword}{static\_cast<}\textcolor{keyword}{const\ }\mbox{\hyperlink{classabsl_1_1string__view}{absl::string\_view}}*\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_ac3f9ff4294615df8b7e9684b7d6fddc7}{v1}}),\ \&temp,}
\DoxyCodeLine{00905\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}std::string*\textcolor{keyword}{>}(v3)))\ \{}
\DoxyCodeLine{00906\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00907\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00908\ \ \ \ \ \ \ *\textcolor{keyword}{static\_cast<}T*\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_aa517e2fff4a8c9cba11391ca12f91803}{v2}})\ =\ std::move(temp);}
\DoxyCodeLine{00909\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_aa517e2fff4a8c9cba11391ca12f91803}{v2}};}
\DoxyCodeLine{00910\ \ \ \ \ \}}
\DoxyCodeLine{00911\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20fac0510fbe3f44429a1a49e1908ecd9d9a}{FlagOp::kUnparse}}:}
\DoxyCodeLine{00912\ \ \ \ \ \ \ *\textcolor{keyword}{static\_cast<}std::string*\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_aa517e2fff4a8c9cba11391ca12f91803}{v2}})\ =}
\DoxyCodeLine{00913\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_aa63925fff8b40f15aaeeb8962c13cf5c}{absl::UnparseFlag<T>}}(*\textcolor{keyword}{static\_cast<}\textcolor{keyword}{const\ }T*\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_ac3f9ff4294615df8b7e9684b7d6fddc7}{v1}}));}
\DoxyCodeLine{00914\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00915\ \ \ \ \ \textcolor{keywordflow}{case}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_a28126b2f1c6ccdbeb0be1a0765b4e20fac907ca76702e145675574ac776f5c430}{FlagOp::kValueOffset}}:\ \{}
\DoxyCodeLine{00916\ \ \ \ \ \ \ \textcolor{comment}{//\ Round\ sizeof(FlagImp)\ to\ a\ multiple\ of\ alignof(FlagValue<T>)\ to\ get\ the}}
\DoxyCodeLine{00917\ \ \ \ \ \ \ \textcolor{comment}{//\ offset\ of\ the\ data.}}
\DoxyCodeLine{00918\ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ round\_to\ =\ \textcolor{keyword}{alignof}(FlagValue<T>);}
\DoxyCodeLine{00919\ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ offset\ =\ (\textcolor{keyword}{sizeof}(\mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagImpl_a5a8e09ea12242c0fae0b96a2305ab49e}{FlagImpl}})\ +\ round\_to\ -\/\ 1)\ /\ round\_to\ *\ round\_to;}
\DoxyCodeLine{00920\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(offset);}
\DoxyCodeLine{00921\ \ \ \ \ \}}
\DoxyCodeLine{00922\ \ \ \}}
\DoxyCodeLine{00923\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00924\ \}}
\DoxyCodeLine{00925\ }
\DoxyCodeLine{00927\ \textcolor{comment}{//\ This\ class\ facilitates\ Flag\ object\ registration\ and\ tail\ expression-\/based}}
\DoxyCodeLine{00928\ \textcolor{comment}{//\ flag\ definition,\ for\ example:}}
\DoxyCodeLine{00929\ \textcolor{comment}{//\ ABSL\_FLAG(int,\ foo,\ 42,\ "{}Foo\ help"{}).OnUpdate(NotifyFooWatcher);}}
\DoxyCodeLine{00930\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagRegistrarEmpty}{FlagRegistrarEmpty}}\ \{\};}
\DoxyCodeLine{00931\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keywordtype}{bool}\ do\_register>}
\DoxyCodeLine{00932\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagRegistrar}{FlagRegistrar}}\ \{}
\DoxyCodeLine{00933\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00934\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagRegistrar_a3bfd8a18f8d9333f6e4baeda55e5bdda}{FlagRegistrar}}(\mbox{\hyperlink{classabsl_1_1flags__internal_1_1Flag}{Flag<T>}}\&\ flag,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ filename)}
\DoxyCodeLine{00935\ \ \ \ \ \ \ :\ flag\_(flag)\ \{}
\DoxyCodeLine{00936\ \ \ \ \ \textcolor{keywordflow}{if}\ (do\_register)}
\DoxyCodeLine{00937\ \ \ \ \ \ \ flags\_internal::RegisterCommandLineFlag(flag\_.impl\_,\ filename);}
\DoxyCodeLine{00938\ \ \ \}}
\DoxyCodeLine{00939\ }
\DoxyCodeLine{00940\ \ \ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagRegistrar}{FlagRegistrar}}\ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1FlagRegistrar_a43941cc372c2a3b249908b1820ba226f}{OnUpdate}}(\mbox{\hyperlink{namespaceabsl_1_1flags__internal_aa78b929f8b88218008429bb64954d440}{FlagCallbackFunc}}\ cb)\ \&\&\ \{}
\DoxyCodeLine{00941\ \ \ \ \ flag\_.impl\_.SetCallback(cb);}
\DoxyCodeLine{00942\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00943\ \ \ \}}
\DoxyCodeLine{00944\ }
\DoxyCodeLine{00945\ \ \ \textcolor{comment}{//\ Makes\ the\ registrar\ die\ gracefully\ as\ an\ empty\ struct\ on\ a\ line\ where}}
\DoxyCodeLine{00946\ \ \ \textcolor{comment}{//\ registration\ happens.\ Registrar\ objects\ are\ intended\ to\ live\ only\ as}}
\DoxyCodeLine{00947\ \ \ \textcolor{comment}{//\ temporary.}}
\DoxyCodeLine{00948\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{operator}\ \mbox{\hyperlink{structabsl_1_1flags__internal_1_1FlagRegistrarEmpty}{FlagRegistrarEmpty}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \{\};\ \}\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00949\ }
\DoxyCodeLine{00950\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00951\ \ \ \mbox{\hyperlink{classabsl_1_1flags__internal_1_1Flag}{Flag<T>}}\&\ flag\_;\ \ \textcolor{comment}{//\ Flag\ being\ registered\ (not\ owned).}}
\DoxyCodeLine{00952\ \};}
\DoxyCodeLine{00953\ }
\DoxyCodeLine{00955\ \textcolor{comment}{//\ Test\ only\ API}}
\DoxyCodeLine{00956\ uint64\_t\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal_aacb0ec3cdd76ca53b85dbfe85648b692}{NumLeakedFlagValues}}();}
\DoxyCodeLine{00957\ }
\DoxyCodeLine{00958\ \}\ \ \textcolor{comment}{//\ namespace\ flags\_internal}}
\DoxyCodeLine{00959\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2config_8h_a49c6cd9be2b7205d48557c9fa90ec5a6}{ABSL\_NAMESPACE\_END}}}
\DoxyCodeLine{00960\ \}\ \ \textcolor{comment}{//\ namespace\ absl}}
\DoxyCodeLine{00961\ }
\DoxyCodeLine{00962\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ ABSL\_FLAGS\_INTERNAL\_FLAG\_H\_}}

\end{DoxyCode}
