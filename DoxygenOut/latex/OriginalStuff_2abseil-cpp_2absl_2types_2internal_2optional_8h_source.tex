\doxysection{optional.\+h}
\hypertarget{OriginalStuff_2abseil-cpp_2absl_2types_2internal_2optional_8h_source}{}\label{OriginalStuff_2abseil-cpp_2absl_2types_2internal_2optional_8h_source}\index{OriginalStuff/abseil-\/cpp/absl/types/internal/optional.h@{OriginalStuff/abseil-\/cpp/absl/types/internal/optional.h}}
\mbox{\hyperlink{OriginalStuff_2abseil-cpp_2absl_2types_2internal_2optional_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ 2017\ The\ Abseil\ Authors.}}
\DoxyCodeLine{00002\ \textcolor{comment}{//}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00006\ \textcolor{comment}{//}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ \ \ \ \ \ https://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00010\ \textcolor{comment}{//\ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ limitations\ under\ the\ License.}}
\DoxyCodeLine{00014\ \textcolor{comment}{//}}
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#ifndef\ ABSL\_TYPES\_INTERNAL\_OPTIONAL\_H\_}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#define\ ABSL\_TYPES\_INTERNAL\_OPTIONAL\_H\_}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ <functional>}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ <new>}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ <utility>}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}absl/base/internal/inline\_variable.h"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}absl/memory/memory.h"{}}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}absl/meta/type\_traits.h"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}absl/utility/utility.h"{}}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceabsl}{absl}}\ \{}
\DoxyCodeLine{00029\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2config_8h_a1426209ed359f780778edc8975b23f07}{ABSL\_NAMESPACE\_BEGIN}}}
\DoxyCodeLine{00030\ }
\DoxyCodeLine{00031\ \textcolor{comment}{//\ Forward\ declaration}}
\DoxyCodeLine{00032\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00033\ \textcolor{keyword}{class\ }optional;}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \textcolor{keyword}{namespace\ }optional\_internal\ \{}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \textcolor{comment}{//\ This\ tag\ type\ is\ used\ as\ a\ constructor\ parameter\ type\ for\ \`{}nullopt\_t`.}}
\DoxyCodeLine{00038\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1optional__internal_1_1init__t}{init\_t}}\ \{}
\DoxyCodeLine{00039\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{structabsl_1_1optional__internal_1_1init__t_aadd77c373cbe4546e222832126d50933}{init\_t}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00040\ \};}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1optional__internal_1_1empty__struct}{empty\_struct}}\ \{\};}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \textcolor{comment}{//\ This\ class\ stores\ the\ data\ in\ optional<T>.}}
\DoxyCodeLine{00045\ \textcolor{comment}{//\ It\ is\ specialized\ based\ on\ whether\ T\ is\ trivially\ destructible.}}
\DoxyCodeLine{00046\ \textcolor{comment}{//\ This\ is\ the\ specialization\ for\ non\ trivially\ destructible\ type.}}
\DoxyCodeLine{00047\ template\ <typename\ T,\ bool\ unused\ =\ std::is\_trivially\_destructible<T>::value>}
\DoxyCodeLine{00048\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base}{optional\_data\_dtor\_base}}\ \{}
\DoxyCodeLine{00049\ \ \ \textcolor{keyword}{struct\ }dummy\_type\ \{}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(T)\ \%\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structabsl_1_1optional__internal_1_1empty__struct}{empty\_struct}})\ ==\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{comment}{//\ Use\ an\ array\ to\ avoid\ GCC\ 6\ placement-\/new\ warning.}}
\DoxyCodeLine{00052\ \ \ \ \ \mbox{\hyperlink{structabsl_1_1optional__internal_1_1empty__struct}{empty\_struct}}\ data[\textcolor{keyword}{sizeof}(T)\ /\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structabsl_1_1optional__internal_1_1empty__struct}{empty\_struct}})];}
\DoxyCodeLine{00053\ \ \ \};}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00056\ \ \ \textcolor{comment}{//\ Whether\ there\ is\ data\ or\ not.}}
\DoxyCodeLine{00057\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_ad982d2c70d1e5afc98e06c2fe8d88e19}{engaged\_}};}
\DoxyCodeLine{00058\ \ \ \textcolor{comment}{//\ Data\ storage}}
\DoxyCodeLine{00059\ \ \ \textcolor{keyword}{union\ }\{}
\DoxyCodeLine{00060\ \ \ \ \ T\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_afb42e3393ab01b9ee294c2772960405b}{data\_}};}
\DoxyCodeLine{00061\ \ \ \ \ dummy\_type\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_aee2765fbe2b6c699dcabf861b7f11d97}{dummy\_}};}
\DoxyCodeLine{00062\ \ \ \};}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_a1e24bd5053a03f060e2d79a0787efd4c}{destruct}}()\ noexcept\ \{}
\DoxyCodeLine{00065\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_ad982d2c70d1e5afc98e06c2fe8d88e19}{engaged\_}})\ \{}
\DoxyCodeLine{00066\ \ \ \ \ \ \ \textcolor{comment}{//\ \`{}data\_`\ must\ be\ initialized\ if\ \`{}engaged\_`\ is\ true.}}
\DoxyCodeLine{00067\ \textcolor{preprocessor}{\#if\ ABSL\_INTERNAL\_HAVE\_MIN\_GNUC\_VERSION(12,\ 0)}}
\DoxyCodeLine{00068\ \textcolor{preprocessor}{\#pragma\ GCC\ diagnostic\ push}}
\DoxyCodeLine{00069\ \textcolor{preprocessor}{\#pragma\ GCC\ diagnostic\ ignored\ "{}-\/Wmaybe-\/uninitialized"{}}}
\DoxyCodeLine{00070\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_afb42e3393ab01b9ee294c2772960405b}{data\_}}.\string~T();}
\DoxyCodeLine{00072\ \textcolor{preprocessor}{\#if\ ABSL\_INTERNAL\_HAVE\_MIN\_GNUC\_VERSION(12,\ 0)}}
\DoxyCodeLine{00073\ \textcolor{preprocessor}{\#pragma\ GCC\ diagnostic\ pop}}
\DoxyCodeLine{00074\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_ad982d2c70d1e5afc98e06c2fe8d88e19}{engaged\_}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00076\ \ \ \ \ \}}
\DoxyCodeLine{00077\ \ \ \}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \textcolor{comment}{//\ dummy\_\ must\ be\ initialized\ for\ constexpr\ constructor.}}
\DoxyCodeLine{00080\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_ada04f2a6c8fb5b88d8bd1cb428431346}{optional\_data\_dtor\_base}}()\ noexcept\ :\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_ad982d2c70d1e5afc98e06c2fe8d88e19}{engaged\_}}(false),\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_aee2765fbe2b6c699dcabf861b7f11d97}{dummy\_}}\{\{\}\}\ \{\}}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{00083\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_a17e9ac1b0ea78e18a1ce0a41b726c8aa}{optional\_data\_dtor\_base}}(\mbox{\hyperlink{structabsl_1_1in__place__t}{in\_place\_t}},\ Args\&\&...\ args)}
\DoxyCodeLine{00084\ \ \ \ \ \ \ :\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_ad982d2c70d1e5afc98e06c2fe8d88e19}{engaged\_}}(true),\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_afb42e3393ab01b9ee294c2772960405b}{data\_}}(\mbox{\hyperlink{namespacestd}{std}}::forward<Args>(args)...)\ \{\}}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_a9ce811b87e55aac78af7aa673d4cd019}{\string~optional\_data\_dtor\_base}}()\ \{\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_a1e24bd5053a03f060e2d79a0787efd4c}{destruct}}();\ \}}
\DoxyCodeLine{00087\ \};}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \textcolor{comment}{//\ Specialization\ for\ trivially\ destructible\ type.}}
\DoxyCodeLine{00090\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00091\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base}{optional\_data\_dtor\_base}}<T,\ true>\ \{}
\DoxyCodeLine{00092\ \ \ \textcolor{keyword}{struct\ }dummy\_type\ \{}
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(T)\ \%\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structabsl_1_1optional__internal_1_1empty__struct}{empty\_struct}})\ ==\ 0,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{comment}{//\ Use\ array\ to\ avoid\ GCC\ 6\ placement-\/new\ warning.}}
\DoxyCodeLine{00095\ \ \ \ \ \mbox{\hyperlink{structabsl_1_1optional__internal_1_1empty__struct}{empty\_struct}}\ data[\textcolor{keyword}{sizeof}(T)\ /\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structabsl_1_1optional__internal_1_1empty__struct}{empty\_struct}})];}
\DoxyCodeLine{00096\ \ \ \};}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00099\ \ \ \textcolor{comment}{//\ Whether\ there\ is\ data\ or\ not.}}
\DoxyCodeLine{00100\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_ad982d2c70d1e5afc98e06c2fe8d88e19}{engaged\_}};}
\DoxyCodeLine{00101\ \ \ \textcolor{comment}{//\ Data\ storage}}
\DoxyCodeLine{00102\ \ \ \textcolor{keyword}{union\ }\{}
\DoxyCodeLine{00103\ \ \ \ \ T\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_afb42e3393ab01b9ee294c2772960405b}{data\_}};}
\DoxyCodeLine{00104\ \ \ \ \ dummy\_type\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_aee2765fbe2b6c699dcabf861b7f11d97}{dummy\_}};}
\DoxyCodeLine{00105\ \ \ \};}
\DoxyCodeLine{00106\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_3_01T_00_01true_01_4_a6c74d6db2fc9e77d2eb6288f5d571662}{destruct}}()\ noexcept\ \{\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_ad982d2c70d1e5afc98e06c2fe8d88e19}{engaged\_}}\ =\ \textcolor{keyword}{false};\ \}}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \ \ \textcolor{comment}{//\ dummy\_\ must\ be\ initialized\ for\ constexpr\ constructor.}}
\DoxyCodeLine{00109\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_3_01T_00_01true_01_4_a025ea3525b4752d4412a31537eedacee}{optional\_data\_dtor\_base}}()\ noexcept\ :\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_ad982d2c70d1e5afc98e06c2fe8d88e19}{engaged\_}}(false),\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_aee2765fbe2b6c699dcabf861b7f11d97}{dummy\_}}\{\{\}\}\ \{\}}
\DoxyCodeLine{00110\ }
\DoxyCodeLine{00111\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{00112\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_3_01T_00_01true_01_4_a94acdf175c316638207f4baf2c7684a6}{optional\_data\_dtor\_base}}(\mbox{\hyperlink{structabsl_1_1in__place__t}{in\_place\_t}},\ Args\&\&...\ args)}
\DoxyCodeLine{00113\ \ \ \ \ \ \ :\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_ad982d2c70d1e5afc98e06c2fe8d88e19}{engaged\_}}(true),\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_afb42e3393ab01b9ee294c2772960405b}{data\_}}(\mbox{\hyperlink{namespacestd}{std}}::forward<Args>(args)...)\ \{\}}
\DoxyCodeLine{00114\ \};}
\DoxyCodeLine{00115\ }
\DoxyCodeLine{00116\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00117\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__base}{optional\_data\_base}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base}{optional\_data\_dtor\_base}}<T>\ \{}
\DoxyCodeLine{00118\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00119\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base}{base}}\ =\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base}{optional\_data\_dtor\_base<T>}};}
\DoxyCodeLine{00120\ \ \ \textcolor{keyword}{using\ }base::base;}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{00123\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__base_a0781b48870e74bfa22782f7873cf1d72}{construct}}(Args\&\&...\ args)\ \{}
\DoxyCodeLine{00124\ \ \ \ \ \textcolor{comment}{//\ Use\ dummy\_'s\ address\ to\ work\ around\ casting\ cv-\/qualified\ T*\ to\ void*.}}
\DoxyCodeLine{00125\ \ \ \ \ ::new\ (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(\&this-\/>\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_aee2765fbe2b6c699dcabf861b7f11d97}{dummy\_}}))\ T(std::forward<Args>(args)...);}
\DoxyCodeLine{00126\ \ \ \ \ this-\/>\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_ad982d2c70d1e5afc98e06c2fe8d88e19}{engaged\_}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00127\ \ \ \}}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00130\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__base_a6f949adb67b40c040db3799e2d2c65be}{assign}}(U\&\&\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b774effe4a349c6dd82ad4f4f21d34c}{u}})\ \{}
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_ad982d2c70d1e5afc98e06c2fe8d88e19}{engaged\_}})\ \{}
\DoxyCodeLine{00132\ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__dtor__base_afb42e3393ab01b9ee294c2772960405b}{data\_}}\ =\ std::forward<U>(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b774effe4a349c6dd82ad4f4f21d34c}{u}});}
\DoxyCodeLine{00133\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_a659a71be083733c8da4a9e61289ac45d}{construct}}(std::forward<U>(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b774effe4a349c6dd82ad4f4f21d34c}{u}}));}
\DoxyCodeLine{00135\ \ \ \ \ \}}
\DoxyCodeLine{00136\ \ \ \}}
\DoxyCodeLine{00137\ \};}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \textcolor{comment}{//\ TODO(absl-\/team):\ Add\ another\ class\ using}}
\DoxyCodeLine{00140\ \textcolor{comment}{//\ std::is\_trivially\_move\_constructible\ trait\ when\ available\ to\ match}}
\DoxyCodeLine{00141\ \textcolor{comment}{//\ http://cplusplus.github.io/LWG/lwg-\/defects.html\#2900,\ for\ types\ that}}
\DoxyCodeLine{00142\ \textcolor{comment}{//\ have\ trivial\ move\ but\ nontrivial\ copy.}}
\DoxyCodeLine{00143\ \textcolor{comment}{//\ Also,\ we\ should\ be\ checking\ is\_trivially\_copyable\ here,\ which\ is\ not}}
\DoxyCodeLine{00144\ \textcolor{comment}{//\ supported\ now,\ so\ we\ use\ is\_trivially\_*\ traits\ instead.}}
\DoxyCodeLine{00145\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ unused\ =\ absl::is\_trivially\_copy\_constructible<T>::value\&\&}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ absl::is\_trivially\_copy\_assignable<\textcolor{keyword}{typename}\ std::remove\_cv<}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ T>::type>\mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_a54c2bae0f8aeed048a397b0618037252}{::value}}\&\&\ std::is\_trivially\_destructible<T>::value>}
\DoxyCodeLine{00149\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data}{optional\_data}};}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \textcolor{comment}{//\ Trivially\ copyable\ types}}
\DoxyCodeLine{00152\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00153\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data}{optional\_data}}<T,\ true>\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__base}{optional\_data\_base}}<T>\ \{}
\DoxyCodeLine{00154\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00155\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__base}{optional\_data\_base}}<T>::optional\_data\_base;}
\DoxyCodeLine{00156\ \};}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00159\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data}{optional\_data}}<T,\ false>\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__base}{optional\_data\_base}}<T>\ \{}
\DoxyCodeLine{00160\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00161\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__base}{optional\_data\_base}}<T>::optional\_data\_base;}
\DoxyCodeLine{00162\ }
\DoxyCodeLine{00163\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data_3_01T_00_01false_01_4_a46d6b84666a28627a50836541245209b}{optional\_data}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00164\ }
\DoxyCodeLine{00165\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data_3_01T_00_01false_01_4_a03d1bf5ad1fa4f9799d0f412441a25e0}{optional\_data}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data}{optional\_data}}\&\ rhs)\ :\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__base}{optional\_data\_base}}<T>()\ \{}
\DoxyCodeLine{00166\ \ \ \ \ \textcolor{keywordflow}{if}\ (rhs.engaged\_)\ \{}
\DoxyCodeLine{00167\ \ \ \ \ \ \ this-\/>construct(rhs.data\_);}
\DoxyCodeLine{00168\ \ \ \ \ \}}
\DoxyCodeLine{00169\ \ \ \}}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00171\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data_3_01T_00_01false_01_4_ae5bba0f282170148a6e0507ff29295ee}{optional\_data}}(\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data}{optional\_data}}\&\&\ rhs)\ \textcolor{keyword}{noexcept}(}
\DoxyCodeLine{00172\ \ \ \ \ \ \ absl::default\_allocator\_is\_nothrow::value\ ||}
\DoxyCodeLine{00173\ \ \ \ \ \ \ std::is\_nothrow\_move\_constructible<T>::value)}
\DoxyCodeLine{00174\ \ \ \ \ \ \ :\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data__base}{optional\_data\_base}}<T>()\ \{}
\DoxyCodeLine{00175\ \ \ \ \ \textcolor{keywordflow}{if}\ (rhs.engaged\_)\ \{}
\DoxyCodeLine{00176\ \ \ \ \ \ \ this-\/>construct(std::move(rhs.data\_));}
\DoxyCodeLine{00177\ \ \ \ \ \}}
\DoxyCodeLine{00178\ \ \ \}}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data}{optional\_data}}\&\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data_3_01T_00_01false_01_4_aec01c1a80a52126354897c0f647af7c3}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data}{optional\_data}}\&\ rhs)\ \{}
\DoxyCodeLine{00181\ \ \ \ \ \textcolor{keywordflow}{if}\ (rhs.engaged\_)\ \{}
\DoxyCodeLine{00182\ \ \ \ \ \ \ this-\/>assign(rhs.data\_);}
\DoxyCodeLine{00183\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00184\ \ \ \ \ \ \ this-\/>destruct();}
\DoxyCodeLine{00185\ \ \ \ \ \}}
\DoxyCodeLine{00186\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00187\ \ \ \}}
\DoxyCodeLine{00188\ }
\DoxyCodeLine{00189\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data}{optional\_data}}\&\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data_3_01T_00_01false_01_4_a5b0893a1142eba2cdb2b2382a12c31b5}{operator=}}(\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__data}{optional\_data}}\&\&\ rhs)\ \textcolor{keyword}{noexcept}(}
\DoxyCodeLine{00190\ \ \ \ \ \ \ std::is\_nothrow\_move\_assignable<T>::value\&\&}
\DoxyCodeLine{00191\ \ \ \ \ \ \ \ \ \ \ std::is\_nothrow\_move\_constructible<T>::value)\ \{}
\DoxyCodeLine{00192\ \ \ \ \ \textcolor{keywordflow}{if}\ (rhs.engaged\_)\ \{}
\DoxyCodeLine{00193\ \ \ \ \ \ \ this-\/>assign(std::move(rhs.data\_));}
\DoxyCodeLine{00194\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00195\ \ \ \ \ \ \ this-\/>destruct();}
\DoxyCodeLine{00196\ \ \ \ \ \}}
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00198\ \ \ \}}
\DoxyCodeLine{00199\ \};}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \textcolor{comment}{//\ Ordered\ by\ level\ of\ restriction,\ from\ low\ to\ high.}}
\DoxyCodeLine{00202\ \textcolor{comment}{//\ Copyable\ implies\ movable.}}
\DoxyCodeLine{00203\ \textcolor{keyword}{enum\ class}\ \mbox{\hyperlink{namespaceabsl_1_1optional__internal_a239888afd9358f38f08074701fb1e592}{copy\_traits}}\ \{\ \mbox{\hyperlink{namespaceabsl_1_1optional__internal_a239888afd9358f38f08074701fb1e592a283e9ab6badb76002d4ed4be1277b021}{copyable}}\ =\ 0,\ \mbox{\hyperlink{namespaceabsl_1_1optional__internal_a239888afd9358f38f08074701fb1e592ac0c533e3d1aeb147118582b44ed5cf71}{movable}}\ =\ 1,\ \mbox{\hyperlink{namespaceabsl_1_1optional__internal_a239888afd9358f38f08074701fb1e592a3ca79c7682a0308d699249f460ade1f5}{non\_movable}}\ =\ 2\ \};}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00205\ \textcolor{comment}{//\ Base\ class\ for\ enabling/disabling\ copy/move\ constructor.}}
\DoxyCodeLine{00206\ \textcolor{keyword}{template}\ <copy\_traits>}
\DoxyCodeLine{00207\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base}{optional\_ctor\_base}};}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00210\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base}{optional\_ctor\_base}}<\mbox{\hyperlink{namespaceabsl_1_1optional__internal_a239888afd9358f38f08074701fb1e592}{copy\_traits}}::\mbox{\hyperlink{namespaceabsl_1_1optional__internal_a239888afd9358f38f08074701fb1e592a283e9ab6badb76002d4ed4be1277b021}{copyable}}>\ \{}
\DoxyCodeLine{00211\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00212\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base_3_01copy__traits_1_1copyable_01_4_aab7df53be92283314806285a15234bc3}{optional\_ctor\_base}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00213\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base_3_01copy__traits_1_1copyable_01_4_a6927d3af4364cbabfa555ac8e25e7fbb}{optional\_ctor\_base}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base}{optional\_ctor\_base}}\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00214\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base_3_01copy__traits_1_1copyable_01_4_a4022fc138cc435977e91ddaf040a4b05}{optional\_ctor\_base}}(\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base}{optional\_ctor\_base}}\&\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00215\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base}{optional\_ctor\_base}}\&\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base_3_01copy__traits_1_1copyable_01_4_abcd04c21db86ca76bd1b34e8a3400334}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base}{optional\_ctor\_base}}\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00216\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base}{optional\_ctor\_base}}\&\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base_3_01copy__traits_1_1copyable_01_4_a22c717df65ff44c759664308007c4f15}{operator=}}(\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base}{optional\_ctor\_base}}\&\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00217\ \};}
\DoxyCodeLine{00218\ }
\DoxyCodeLine{00219\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00220\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base}{optional\_ctor\_base}}<\mbox{\hyperlink{namespaceabsl_1_1optional__internal_a239888afd9358f38f08074701fb1e592}{copy\_traits}}::\mbox{\hyperlink{namespaceabsl_1_1optional__internal_a239888afd9358f38f08074701fb1e592ac0c533e3d1aeb147118582b44ed5cf71}{movable}}>\ \{}
\DoxyCodeLine{00221\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00222\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base_3_01copy__traits_1_1movable_01_4_ae5486fc589bbf898f5d390b8ee95f356}{optional\_ctor\_base}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00223\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base_3_01copy__traits_1_1movable_01_4_a7be8be257c551e22a54a97dce1745c95}{optional\_ctor\_base}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base}{optional\_ctor\_base}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00224\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base_3_01copy__traits_1_1movable_01_4_a96fc5ad34676d231958545c4ed49fbfa}{optional\_ctor\_base}}(\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base}{optional\_ctor\_base}}\&\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00225\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base}{optional\_ctor\_base}}\&\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base_3_01copy__traits_1_1movable_01_4_a4b1078548438e3f93f8f0d99508269c7}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base}{optional\_ctor\_base}}\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00226\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base}{optional\_ctor\_base}}\&\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base_3_01copy__traits_1_1movable_01_4_adfddb0870ea2e4de064d4bd71ded8849}{operator=}}(\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base}{optional\_ctor\_base}}\&\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00227\ \};}
\DoxyCodeLine{00228\ }
\DoxyCodeLine{00229\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00230\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base}{optional\_ctor\_base}}<\mbox{\hyperlink{namespaceabsl_1_1optional__internal_a239888afd9358f38f08074701fb1e592}{copy\_traits}}::\mbox{\hyperlink{namespaceabsl_1_1optional__internal_a239888afd9358f38f08074701fb1e592a3ca79c7682a0308d699249f460ade1f5}{non\_movable}}>\ \{}
\DoxyCodeLine{00231\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00232\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base_3_01copy__traits_1_1non__movable_01_4_a1cbef40e94a5faed3e27b78901ded220}{optional\_ctor\_base}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00233\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base_3_01copy__traits_1_1non__movable_01_4_a1f80dd04900e23197d687d59f3b9599f}{optional\_ctor\_base}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base}{optional\_ctor\_base}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00234\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base_3_01copy__traits_1_1non__movable_01_4_af67549affcfb06c061625d35fed66d86}{optional\_ctor\_base}}(\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base}{optional\_ctor\_base}}\&\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00235\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base}{optional\_ctor\_base}}\&\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base_3_01copy__traits_1_1non__movable_01_4_ad1aecf6fc721db39c01b1a2a8b0c39e4}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base}{optional\_ctor\_base}}\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00236\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base}{optional\_ctor\_base}}\&\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base_3_01copy__traits_1_1non__movable_01_4_a05ce2864288f40a229cc9f4c827258b7}{operator=}}(\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__ctor__base}{optional\_ctor\_base}}\&\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00237\ \};}
\DoxyCodeLine{00238\ }
\DoxyCodeLine{00239\ \textcolor{comment}{//\ Base\ class\ for\ enabling/disabling\ copy/move\ assignment.}}
\DoxyCodeLine{00240\ \textcolor{keyword}{template}\ <copy\_traits>}
\DoxyCodeLine{00241\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base}{optional\_assign\_base}};}
\DoxyCodeLine{00242\ }
\DoxyCodeLine{00243\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00244\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base}{optional\_assign\_base}}<\mbox{\hyperlink{namespaceabsl_1_1optional__internal_a239888afd9358f38f08074701fb1e592}{copy\_traits}}::\mbox{\hyperlink{namespaceabsl_1_1optional__internal_a239888afd9358f38f08074701fb1e592a283e9ab6badb76002d4ed4be1277b021}{copyable}}>\ \{}
\DoxyCodeLine{00245\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00246\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base_3_01copy__traits_1_1copyable_01_4_a16d721264a0795877941d5aeee2965d5}{optional\_assign\_base}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00247\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base_3_01copy__traits_1_1copyable_01_4_a9cf8c4b2f3daf50e909b77fc9617096f}{optional\_assign\_base}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base}{optional\_assign\_base}}\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00248\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base_3_01copy__traits_1_1copyable_01_4_a9db8b557965868997c5a6cff7b8af9eb}{optional\_assign\_base}}(\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base}{optional\_assign\_base}}\&\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00249\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base}{optional\_assign\_base}}\&\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base_3_01copy__traits_1_1copyable_01_4_a4da18e776a9abff1c00ae409ad7868d2}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base}{optional\_assign\_base}}\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00250\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base}{optional\_assign\_base}}\&\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base_3_01copy__traits_1_1copyable_01_4_aa3bbed49b63ba2d1271e9550014c6beb}{operator=}}(\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base}{optional\_assign\_base}}\&\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00251\ \};}
\DoxyCodeLine{00252\ }
\DoxyCodeLine{00253\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00254\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base}{optional\_assign\_base}}<\mbox{\hyperlink{namespaceabsl_1_1optional__internal_a239888afd9358f38f08074701fb1e592}{copy\_traits}}::\mbox{\hyperlink{namespaceabsl_1_1optional__internal_a239888afd9358f38f08074701fb1e592ac0c533e3d1aeb147118582b44ed5cf71}{movable}}>\ \{}
\DoxyCodeLine{00255\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00256\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base_3_01copy__traits_1_1movable_01_4_ae4a1423b324bcaae77233235e45bdc79}{optional\_assign\_base}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00257\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base_3_01copy__traits_1_1movable_01_4_a6d4f6d600cdda41f08a19e005da4267e}{optional\_assign\_base}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base}{optional\_assign\_base}}\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00258\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base_3_01copy__traits_1_1movable_01_4_a9bfc3cf4503ea868cd4e0677a7bd718a}{optional\_assign\_base}}(\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base}{optional\_assign\_base}}\&\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00259\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base}{optional\_assign\_base}}\&\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base_3_01copy__traits_1_1movable_01_4_a8b017914613fa60d811ee1eb1ad170d6}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base}{optional\_assign\_base}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00260\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base}{optional\_assign\_base}}\&\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base_3_01copy__traits_1_1movable_01_4_aecc8b41f18ae98d3e2c1d96e52c8f4ba}{operator=}}(\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base}{optional\_assign\_base}}\&\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00261\ \};}
\DoxyCodeLine{00262\ }
\DoxyCodeLine{00263\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00264\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base}{optional\_assign\_base}}<\mbox{\hyperlink{namespaceabsl_1_1optional__internal_a239888afd9358f38f08074701fb1e592}{copy\_traits}}::\mbox{\hyperlink{namespaceabsl_1_1optional__internal_a239888afd9358f38f08074701fb1e592a3ca79c7682a0308d699249f460ade1f5}{non\_movable}}>\ \{}
\DoxyCodeLine{00265\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00266\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base_3_01copy__traits_1_1non__movable_01_4_aa1f45d4e670e409f26d9ece6bdad0a2a}{optional\_assign\_base}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00267\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base_3_01copy__traits_1_1non__movable_01_4_a564ab02b8b985b9822faead24b3c8d6b}{optional\_assign\_base}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base}{optional\_assign\_base}}\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00268\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base_3_01copy__traits_1_1non__movable_01_4_abd9f4084ca4d91f46935a1dbfb99169c}{optional\_assign\_base}}(\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base}{optional\_assign\_base}}\&\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00269\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base}{optional\_assign\_base}}\&\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base_3_01copy__traits_1_1non__movable_01_4_a779058ea0bd3d14869738ad3dd7ca55f}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base}{optional\_assign\_base}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00270\ \ \ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base}{optional\_assign\_base}}\&\ \mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base_3_01copy__traits_1_1non__movable_01_4_ab5965543f764a3039aefffec1f652d5b}{operator=}}(\mbox{\hyperlink{classabsl_1_1optional__internal_1_1optional__assign__base}{optional\_assign\_base}}\&\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00271\ \};}
\DoxyCodeLine{00272\ }
\DoxyCodeLine{00273\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00274\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1optional__internal_1_1ctor__copy__traits}{ctor\_copy\_traits}}\ \{}
\DoxyCodeLine{00275\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespaceabsl_1_1optional__internal_a239888afd9358f38f08074701fb1e592}{copy\_traits}}\ \mbox{\hyperlink{structabsl_1_1optional__internal_1_1ctor__copy__traits_a224a1cae31b87118533ed2d887e8b8b1}{traits}}\ =}
\DoxyCodeLine{00276\ \ \ \ \ \ \ std::is\_copy\_constructible<T>::value}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ \ \ ?\ \mbox{\hyperlink{namespaceabsl_1_1optional__internal_a239888afd9358f38f08074701fb1e592a283e9ab6badb76002d4ed4be1277b021}{copy\_traits::copyable}}}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \ \ :\ std::is\_move\_constructible<T>::value\ ?\ \mbox{\hyperlink{namespaceabsl_1_1optional__internal_a239888afd9358f38f08074701fb1e592ac0c533e3d1aeb147118582b44ed5cf71}{copy\_traits::movable}}}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{namespaceabsl_1_1optional__internal_a239888afd9358f38f08074701fb1e592a3ca79c7682a0308d699249f460ade1f5}{copy\_traits::non\_movable}};}
\DoxyCodeLine{00280\ \};}
\DoxyCodeLine{00281\ }
\DoxyCodeLine{00282\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00283\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1optional__internal_1_1assign__copy__traits}{assign\_copy\_traits}}\ \{}
\DoxyCodeLine{00284\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespaceabsl_1_1optional__internal_a239888afd9358f38f08074701fb1e592}{copy\_traits}}\ \mbox{\hyperlink{structabsl_1_1optional__internal_1_1assign__copy__traits_a5511522e5af4dc90878a3000ed67a937}{traits}}\ =}
\DoxyCodeLine{00285\ \ \ \ \ \ \ absl::is\_copy\_assignable<T>::value\ \&\&\ std::is\_copy\_constructible<T>::value}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \ \ ?\ \mbox{\hyperlink{namespaceabsl_1_1optional__internal_a239888afd9358f38f08074701fb1e592a283e9ab6badb76002d4ed4be1277b021}{copy\_traits::copyable}}}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \ \ :\ absl::is\_move\_assignable<T>::value\ \&\&}
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_move\_constructible<T>::value}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ \mbox{\hyperlink{namespaceabsl_1_1optional__internal_a239888afd9358f38f08074701fb1e592ac0c533e3d1aeb147118582b44ed5cf71}{copy\_traits::movable}}}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{namespaceabsl_1_1optional__internal_a239888afd9358f38f08074701fb1e592a3ca79c7682a0308d699249f460ade1f5}{copy\_traits::non\_movable}};}
\DoxyCodeLine{00291\ \};}
\DoxyCodeLine{00292\ }
\DoxyCodeLine{00293\ \textcolor{comment}{//\ Whether\ T\ is\ constructible\ or\ convertible\ from\ optional<U>.}}
\DoxyCodeLine{00294\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00295\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1optional__internal_1_1is__constructible__convertible__from__optional}{is\_constructible\_convertible\_from\_optional}}}
\DoxyCodeLine{00296\ \ \ \ \ :\ std::integral\_constant<}
\DoxyCodeLine{00297\ \ \ \ \ \ \ \ \ \ \ bool,\ std::is\_constructible<T,\ optional<U>\&>::value\ ||}
\DoxyCodeLine{00298\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_constructible<T,\ optional<U>\&\&>::value\ ||}
\DoxyCodeLine{00299\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_constructible<T,\ const\ optional<U>\&>::value\ ||}
\DoxyCodeLine{00300\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_constructible<T,\ const\ optional<U>\&\&>::value\ ||}
\DoxyCodeLine{00301\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_convertible<optional<U>\&,\ T>::value\ ||}
\DoxyCodeLine{00302\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_convertible<optional<U>\&\&,\ T>::value\ ||}
\DoxyCodeLine{00303\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_convertible<const\ optional<U>\&,\ T>::value\ ||}
\DoxyCodeLine{00304\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_convertible<const\ optional<U>\&\&,\ T>::value>\ \{\};}
\DoxyCodeLine{00305\ }
\DoxyCodeLine{00306\ \textcolor{comment}{//\ Whether\ T\ is\ constructible\ or\ convertible\ or\ assignable\ from\ optional<U>.}}
\DoxyCodeLine{00307\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00308\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1optional__internal_1_1is__constructible__convertible__assignable__from__optional}{is\_constructible\_convertible\_assignable\_from\_optional}}}
\DoxyCodeLine{00309\ \ \ \ \ :\ std::integral\_constant<}
\DoxyCodeLine{00310\ \ \ \ \ \ \ \ \ \ \ bool,\ is\_constructible\_convertible\_from\_optional<T,\ U>::value\ ||}
\DoxyCodeLine{00311\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_assignable<T\&,\ optional<U>\&>::value\ ||}
\DoxyCodeLine{00312\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_assignable<T\&,\ optional<U>\&\&>::value\ ||}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_assignable<T\&,\ const\ optional<U>\&>::value\ ||}
\DoxyCodeLine{00314\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::is\_assignable<T\&,\ const\ optional<U>\&\&>::value>\ \{\};}
\DoxyCodeLine{00315\ }
\DoxyCodeLine{00316\ \textcolor{comment}{//\ Helper\ function\ used\ by\ [optional.relops],\ [optional.comp\_with\_t],}}
\DoxyCodeLine{00317\ \textcolor{comment}{//\ for\ checking\ whether\ an\ expression\ is\ convertible\ to\ bool.}}
\DoxyCodeLine{00318\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespaceabsl_1_1optional__internal_ab123d83ecaffd1eb658921460bfa115c}{convertible\_to\_bool}}(\textcolor{keywordtype}{bool});}
\DoxyCodeLine{00319\ }
\DoxyCodeLine{00320\ \textcolor{comment}{//\ Base\ class\ for\ std::hash<absl::optional<T>>:}}
\DoxyCodeLine{00321\ \textcolor{comment}{//\ If\ std::hash<std::remove\_const\_t<T>>\ is\ enabled,\ it\ provides\ operator()\ to}}
\DoxyCodeLine{00322\ \textcolor{comment}{//\ compute\ the\ hash;\ Otherwise,\ it\ is\ disabled.}}
\DoxyCodeLine{00323\ \textcolor{comment}{//\ Reference\ N4659\ 23.14.15\ [unord.hash].}}
\DoxyCodeLine{00324\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ =\ \textcolor{keywordtype}{size\_t}>}
\DoxyCodeLine{00325\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1optional__internal_1_1optional__hash__base}{optional\_hash\_base}}\ \{}
\DoxyCodeLine{00326\ \ \ \mbox{\hyperlink{structabsl_1_1optional__internal_1_1optional__hash__base_a6bdc3d57bbfc95de890754e3e8d4fcdc}{optional\_hash\_base}}()\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00327\ \ \ \mbox{\hyperlink{structabsl_1_1optional__internal_1_1optional__hash__base_aa6c90aecc13587a3f57ff0d3f0006bd4}{optional\_hash\_base}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structabsl_1_1optional__internal_1_1optional__hash__base}{optional\_hash\_base}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00328\ \ \ \mbox{\hyperlink{structabsl_1_1optional__internal_1_1optional__hash__base_af20fc9d318375b8a6bae4be9117d2781}{optional\_hash\_base}}(\mbox{\hyperlink{structabsl_1_1optional__internal_1_1optional__hash__base}{optional\_hash\_base}}\&\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00329\ \ \ \mbox{\hyperlink{structabsl_1_1optional__internal_1_1optional__hash__base}{optional\_hash\_base}}\&\ \mbox{\hyperlink{structabsl_1_1optional__internal_1_1optional__hash__base_a112de004b9a7a363351e78594c74c0bc}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structabsl_1_1optional__internal_1_1optional__hash__base}{optional\_hash\_base}}\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00330\ \ \ \mbox{\hyperlink{structabsl_1_1optional__internal_1_1optional__hash__base}{optional\_hash\_base}}\&\ \mbox{\hyperlink{structabsl_1_1optional__internal_1_1optional__hash__base_a3e75e4dba9d4241062bbfb227f8a496d}{operator=}}(\mbox{\hyperlink{structabsl_1_1optional__internal_1_1optional__hash__base}{optional\_hash\_base}}\&\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00331\ \};}
\DoxyCodeLine{00332\ }
\DoxyCodeLine{00333\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00334\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1optional__internal_1_1optional__hash__base}{optional\_hash\_base}}<T,\ decltype(\mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2hash__function__defaults__test_8cc_ae77f29aca59793a0cd8df5ad02220b8b}{hash}}<absl::remove\_const\_t<T>\ >()(}
\DoxyCodeLine{00335\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::declval<absl::remove\_const\_t<T>\ >()))>\ \{}
\DoxyCodeLine{00336\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classabsl_1_1optional}{argument\_type}}\ =\ \mbox{\hyperlink{classabsl_1_1optional}{absl::optional<T>}};}
\DoxyCodeLine{00337\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{structabsl_1_1optional__internal_1_1optional__hash__base_3_01T_00_01decltype_07std_1_1hash_3_01acf7fa6643d4b57c0d98b2984e95a891e_adde2d3fc601e3e479b6aad970259153d}{result\_type}}\ =\ size\_t;}
\DoxyCodeLine{00338\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structabsl_1_1optional__internal_1_1optional__hash__base_3_01T_00_01decltype_07std_1_1hash_3_01acf7fa6643d4b57c0d98b2984e95a891e_aff922632dd0372c8c04744a0c8b4cc71}{operator()}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1optional}{absl::optional<T>}}\&\ opt)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00339\ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1type__traits__internal_abc1b6770e2b815276649fb39aea320cb}{absl::type\_traits\_internal::AssertHashEnabled<absl::remove\_const\_t<T>}}>();}
\DoxyCodeLine{00340\ \ \ \ \ \textcolor{keywordflow}{if}\ (opt)\ \{}
\DoxyCodeLine{00341\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ std::hash<absl::remove\_const\_t<T>\ >()(*opt);}
\DoxyCodeLine{00342\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00343\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(0x297814aaad196e6dULL);}
\DoxyCodeLine{00344\ \ \ \ \ \}}
\DoxyCodeLine{00345\ \ \ \}}
\DoxyCodeLine{00346\ \};}
\DoxyCodeLine{00347\ }
\DoxyCodeLine{00348\ \}\ \ \textcolor{comment}{//\ namespace\ optional\_internal}}
\DoxyCodeLine{00349\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2config_8h_a49c6cd9be2b7205d48557c9fa90ec5a6}{ABSL\_NAMESPACE\_END}}}
\DoxyCodeLine{00350\ \}\ \ \textcolor{comment}{//\ namespace\ absl}}
\DoxyCodeLine{00351\ }
\DoxyCodeLine{00352\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ ABSL\_TYPES\_INTERNAL\_OPTIONAL\_H\_}}

\end{DoxyCode}
