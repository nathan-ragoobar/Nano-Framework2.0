\doxysection{exception\+\_\+safety\+\_\+testing.\+h}
\hypertarget{OriginalStuff_2abseil-cpp_2absl_2base_2internal_2exception__safety__testing_8h_source}{}\label{OriginalStuff_2abseil-cpp_2absl_2base_2internal_2exception__safety__testing_8h_source}\index{OriginalStuff/abseil-\/cpp/absl/base/internal/exception\_safety\_testing.h@{OriginalStuff/abseil-\/cpp/absl/base/internal/exception\_safety\_testing.h}}
\mbox{\hyperlink{OriginalStuff_2abseil-cpp_2absl_2base_2internal_2exception__safety__testing_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ 2017\ The\ Abseil\ Authors.}}
\DoxyCodeLine{00002\ \textcolor{comment}{//}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00006\ \textcolor{comment}{//}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ \ \ \ \ \ https://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00010\ \textcolor{comment}{//\ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ limitations\ under\ the\ License.}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{comment}{//\ Utilities\ for\ testing\ exception-\/safety}}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{preprocessor}{\#ifndef\ ABSL\_BASE\_INTERNAL\_EXCEPTION\_SAFETY\_TESTING\_H\_}}
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#define\ ABSL\_BASE\_INTERNAL\_EXCEPTION\_SAFETY\_TESTING\_H\_}}
\DoxyCodeLine{00019\ }
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ "{}absl/base/config.h"{}}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#ifdef\ ABSL\_HAVE\_EXCEPTIONS}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ <cstddef>}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ <cstdint>}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ <functional>}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ <initializer\_list>}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ <iosfwd>}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ <string>}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#include\ <tuple>}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#include\ <unordered\_map>}}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#include\ "{}gtest/gtest.h"{}}}
\DoxyCodeLine{00034\ \textcolor{preprocessor}{\#include\ "{}absl/base/internal/pretty\_function.h"{}}}
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\#include\ "{}absl/memory/memory.h"{}}}
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\#include\ "{}absl/meta/type\_traits.h"{}}}
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\#include\ "{}absl/strings/string\_view.h"{}}}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#include\ "{}absl/strings/substitute.h"{}}}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#include\ "{}absl/utility/utility.h"{}}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \textcolor{keyword}{namespace\ }testing\ \{}
\DoxyCodeLine{00042\ }
\DoxyCodeLine{00043\ \textcolor{keyword}{enum\ class}\ TypeSpec;}
\DoxyCodeLine{00044\ \textcolor{keyword}{enum\ class}\ AllocSpec;}
\DoxyCodeLine{00045\ }
\DoxyCodeLine{00046\ \textcolor{keyword}{constexpr}\ TypeSpec\ \mbox{\hyperlink{namespaceabsl_aaab4f93bd370d4e51d2468dee7a9a8f5}{operator|}}(TypeSpec\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_aa4c2a5552e9bc49b1816ff532f558c74}{a}},\ TypeSpec\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}})\ \{}
\DoxyCodeLine{00047\ \ \ \textcolor{keyword}{using\ }T\ =\ \mbox{\hyperlink{namespaceabsl_aea3d3341fbf6caa9e266558a12a7611f}{absl::underlying\_type\_t<TypeSpec>}};}
\DoxyCodeLine{00048\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}TypeSpec\textcolor{keyword}{>}(\textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_aa4c2a5552e9bc49b1816ff532f558c74}{a}})\ |\ \textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}}));}
\DoxyCodeLine{00049\ \}}
\DoxyCodeLine{00050\ }
\DoxyCodeLine{00051\ \textcolor{keyword}{constexpr}\ TypeSpec\ \mbox{\hyperlink{namespaceabsl_a9f7e71f36c876a54d5b4ea5d226171ac}{operator\&}}(TypeSpec\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_aa4c2a5552e9bc49b1816ff532f558c74}{a}},\ TypeSpec\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}})\ \{}
\DoxyCodeLine{00052\ \ \ \textcolor{keyword}{using\ }T\ =\ \mbox{\hyperlink{namespaceabsl_aea3d3341fbf6caa9e266558a12a7611f}{absl::underlying\_type\_t<TypeSpec>}};}
\DoxyCodeLine{00053\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}TypeSpec\textcolor{keyword}{>}(\textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_aa4c2a5552e9bc49b1816ff532f558c74}{a}})\ \&\ \textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}}));}
\DoxyCodeLine{00054\ \}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \textcolor{keyword}{constexpr}\ AllocSpec\ \mbox{\hyperlink{namespaceabsl_aaab4f93bd370d4e51d2468dee7a9a8f5}{operator|}}(AllocSpec\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_aa4c2a5552e9bc49b1816ff532f558c74}{a}},\ AllocSpec\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}})\ \{}
\DoxyCodeLine{00057\ \ \ \textcolor{keyword}{using\ }T\ =\ \mbox{\hyperlink{namespaceabsl_aea3d3341fbf6caa9e266558a12a7611f}{absl::underlying\_type\_t<AllocSpec>}};}
\DoxyCodeLine{00058\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}AllocSpec\textcolor{keyword}{>}(\textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_aa4c2a5552e9bc49b1816ff532f558c74}{a}})\ |\ \textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}}));}
\DoxyCodeLine{00059\ \}}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \textcolor{keyword}{constexpr}\ AllocSpec\ \mbox{\hyperlink{namespaceabsl_a9f7e71f36c876a54d5b4ea5d226171ac}{operator\&}}(AllocSpec\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_aa4c2a5552e9bc49b1816ff532f558c74}{a}},\ AllocSpec\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}})\ \{}
\DoxyCodeLine{00062\ \ \ \textcolor{keyword}{using\ }T\ =\ \mbox{\hyperlink{namespaceabsl_aea3d3341fbf6caa9e266558a12a7611f}{absl::underlying\_type\_t<AllocSpec>}};}
\DoxyCodeLine{00063\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}AllocSpec\textcolor{keyword}{>}(\textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_aa4c2a5552e9bc49b1816ff532f558c74}{a}})\ \&\ \textcolor{keyword}{static\_cast<}T\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}}));}
\DoxyCodeLine{00064\ \}}
\DoxyCodeLine{00065\ }
\DoxyCodeLine{00066\ \textcolor{keyword}{namespace\ }exceptions\_internal\ \{}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ std::string\ GetSpecString(TypeSpec);}
\DoxyCodeLine{00069\ std::string\ GetSpecString(AllocSpec);}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \textcolor{keyword}{struct\ }NoThrowTag\ \{\};}
\DoxyCodeLine{00072\ \textcolor{keyword}{struct\ }StrongGuaranteeTagType\ \{\};}
\DoxyCodeLine{00073\ }
\DoxyCodeLine{00074\ \textcolor{comment}{//\ A\ simple\ exception\ class.\ \ We\ throw\ this\ so\ that\ test\ code\ can\ catch}}
\DoxyCodeLine{00075\ \textcolor{comment}{//\ exceptions\ specifically\ thrown\ by\ ThrowingValue.}}
\DoxyCodeLine{00076\ \textcolor{keyword}{class\ }TestException\ \{}
\DoxyCodeLine{00077\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00078\ \ \ \textcolor{keyword}{explicit}\ TestException(\mbox{\hyperlink{classabsl_1_1string__view}{absl::string\_view}}\ msg)\ :\ msg\_(\mbox{\hyperlink{namespaceabsl_a447da94df3ec00fdf05b8dd3c95973f3}{msg}})\ \{\}}
\DoxyCodeLine{00079\ \ \ \textcolor{keyword}{virtual}\ \string~TestException()\ \{\}}
\DoxyCodeLine{00080\ \ \ \textcolor{keyword}{virtual}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ what()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ msg\_.c\_str();\ \}}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00083\ \ \ std::string\ msg\_;}
\DoxyCodeLine{00084\ \};}
\DoxyCodeLine{00085\ }
\DoxyCodeLine{00086\ \textcolor{comment}{//\ TestBadAllocException\ exists\ because\ allocation\ functions\ must\ throw\ an}}
\DoxyCodeLine{00087\ \textcolor{comment}{//\ exception\ which\ can\ be\ caught\ by\ a\ handler\ of\ std::bad\_alloc.\ \ We\ use\ a\ child}}
\DoxyCodeLine{00088\ \textcolor{comment}{//\ class\ of\ std::bad\_alloc\ so\ we\ can\ customise\ the\ error\ message,\ and\ also}}
\DoxyCodeLine{00089\ \textcolor{comment}{//\ derive\ from\ TestException\ so\ we\ don't\ accidentally\ end\ up\ catching\ an\ actual}}
\DoxyCodeLine{00090\ \textcolor{comment}{//\ bad\_alloc\ exception\ in\ TestExceptionSafety.}}
\DoxyCodeLine{00091\ \textcolor{keyword}{class\ }TestBadAllocException\ :\ \textcolor{keyword}{public}\ std::bad\_alloc,\ \textcolor{keyword}{public}\ TestException\ \{}
\DoxyCodeLine{00092\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00093\ \ \ \textcolor{keyword}{explicit}\ TestBadAllocException(\mbox{\hyperlink{classabsl_1_1string__view}{absl::string\_view}}\ msg)\ :\ TestException(\mbox{\hyperlink{namespaceabsl_a447da94df3ec00fdf05b8dd3c95973f3}{msg}})\ \{\}}
\DoxyCodeLine{00094\ \ \ \textcolor{keyword}{using\ }TestException::what;}
\DoxyCodeLine{00095\ \};}
\DoxyCodeLine{00096\ }
\DoxyCodeLine{00097\ \textcolor{keyword}{extern}\ \textcolor{keywordtype}{int}\ countdown;}
\DoxyCodeLine{00098\ }
\DoxyCodeLine{00099\ \textcolor{comment}{//\ Allows\ the\ countdown\ variable\ to\ be\ set\ manually\ (defaulting\ to\ the\ initial}}
\DoxyCodeLine{00100\ \textcolor{comment}{//\ value\ of\ 0)}}
\DoxyCodeLine{00101\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ SetCountdown(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ =\ 0)\ \{\ countdown\ =\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}};\ \}}
\DoxyCodeLine{00102\ \textcolor{comment}{//\ Sets\ the\ countdown\ to\ the\ terminal\ value\ -\/1}}
\DoxyCodeLine{00103\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ UnsetCountdown()\ \{\ SetCountdown(-\/1);\ \}}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \textcolor{keywordtype}{void}\ MaybeThrow(\mbox{\hyperlink{classabsl_1_1string__view}{absl::string\_view}}\ msg,\ \textcolor{keywordtype}{bool}\ throw\_bad\_alloc\ =\ \textcolor{keyword}{false});}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ testing::AssertionResult\ FailureMessage(\textcolor{keyword}{const}\ TestException\&\ e,}
\DoxyCodeLine{00108\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ countdown)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \textcolor{keyword}{struct\ }TrackedAddress\ \{}
\DoxyCodeLine{00111\ \ \ \textcolor{keywordtype}{bool}\ is\_alive;}
\DoxyCodeLine{00112\ \ \ std::string\ description;}
\DoxyCodeLine{00113\ \};}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \textcolor{comment}{//\ Inspects\ the\ constructions\ and\ destructions\ of\ anything\ inheriting\ from}}
\DoxyCodeLine{00116\ \textcolor{comment}{//\ TrackedObject.\ This\ allows\ us\ to\ safely\ "{}leak"{}\ TrackedObjects,\ as}}
\DoxyCodeLine{00117\ \textcolor{comment}{//\ ConstructorTracker\ will\ destroy\ everything\ left\ over\ in\ its\ destructor.}}
\DoxyCodeLine{00118\ \textcolor{keyword}{class\ }ConstructorTracker\ \{}
\DoxyCodeLine{00119\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00120\ \ \ \textcolor{keyword}{explicit}\ ConstructorTracker(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_ad43c3812e6d13e0518d9f8b8f463ffcf}{count}})\ :\ countdown\_(\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_ad43c3812e6d13e0518d9f8b8f463ffcf}{count}})\ \{}
\DoxyCodeLine{00121\ \ \ \ \ assert(current\_tracker\_instance\_\ ==\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00122\ \ \ \ \ current\_tracker\_instance\_\ =\ \textcolor{keyword}{this};}
\DoxyCodeLine{00123\ \ \ \}}
\DoxyCodeLine{00124\ }
\DoxyCodeLine{00125\ \ \ \string~ConstructorTracker()\ \{}
\DoxyCodeLine{00126\ \ \ \ \ assert(current\_tracker\_instance\_\ ==\ \textcolor{keyword}{this});}
\DoxyCodeLine{00127\ \ \ \ \ current\_tracker\_instance\_\ =\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00128\ }
\DoxyCodeLine{00129\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{auto}\&\ it\ :\ address\_map\_)\ \{}
\DoxyCodeLine{00130\ \ \ \ \ \ \ \textcolor{keywordtype}{void}*\ address\ =\ it.first;}
\DoxyCodeLine{00131\ \ \ \ \ \ \ TrackedAddress\&\ tracked\_address\ =\ it.second;}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (tracked\_address.is\_alive)\ \{}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ ADD\_FAILURE()\ <<\ ErrorMessage(address,\ tracked\_address.description,}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ countdown\_,\ \textcolor{stringliteral}{"{}Object\ was\ not\ destroyed."{}});}
\DoxyCodeLine{00135\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00136\ \ \ \ \ \}}
\DoxyCodeLine{00137\ \ \ \}}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ ObjectConstructed(\textcolor{keywordtype}{void}*\ address,\ std::string\ description)\ \{}
\DoxyCodeLine{00140\ \ \ \ \ \textcolor{keywordflow}{if}\ (!CurrentlyTracking())\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00141\ }
\DoxyCodeLine{00142\ \ \ \ \ TrackedAddress\&\ tracked\_address\ =}
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ current\_tracker\_instance\_-\/>address\_map\_[address];}
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{keywordflow}{if}\ (tracked\_address.is\_alive)\ \{}
\DoxyCodeLine{00145\ \ \ \ \ \ \ ADD\_FAILURE()\ <<\ ErrorMessage(}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ address,\ tracked\_address.description,}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ current\_tracker\_instance\_-\/>countdown\_,}
\DoxyCodeLine{00148\ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Object\ was\ re-\/constructed.\ Current\ object\ was\ constructed\ by\ "{}}\ +}
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ description);}
\DoxyCodeLine{00150\ \ \ \ \ \}}
\DoxyCodeLine{00151\ \ \ \ \ tracked\_address\ =\ \{\textcolor{keyword}{true},\ std::move(description)\};}
\DoxyCodeLine{00152\ \ \ \}}
\DoxyCodeLine{00153\ }
\DoxyCodeLine{00154\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ ObjectDestructed(\textcolor{keywordtype}{void}*\ address)\ \{}
\DoxyCodeLine{00155\ \ \ \ \ \textcolor{keywordflow}{if}\ (!CurrentlyTracking())\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00156\ }
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{keyword}{auto}\ it\ =\ current\_tracker\_instance\_-\/>address\_map\_.find(address);}
\DoxyCodeLine{00158\ \ \ \ \ \textcolor{comment}{//\ Not\ tracked.\ Ignore.}}
\DoxyCodeLine{00159\ \ \ \ \ \textcolor{keywordflow}{if}\ (it\ ==\ current\_tracker\_instance\_-\/>address\_map\_.end())\ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00161\ \ \ \ \ TrackedAddress\&\ tracked\_address\ =\ it-\/>second;}
\DoxyCodeLine{00162\ \ \ \ \ \textcolor{keywordflow}{if}\ (!tracked\_address.is\_alive)\ \{}
\DoxyCodeLine{00163\ \ \ \ \ \ \ ADD\_FAILURE()\ <<\ ErrorMessage(address,\ tracked\_address.description,}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ current\_tracker\_instance\_-\/>countdown\_,}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}Object\ was\ re-\/destroyed."{}});}
\DoxyCodeLine{00166\ \ \ \ \ \}}
\DoxyCodeLine{00167\ \ \ \ \ tracked\_address.is\_alive\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00168\ \ \ \}}
\DoxyCodeLine{00169\ }
\DoxyCodeLine{00170\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00171\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ CurrentlyTracking()\ \{}
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{keywordflow}{return}\ current\_tracker\_instance\_\ !=\ \textcolor{keyword}{nullptr};}
\DoxyCodeLine{00173\ \ \ \}}
\DoxyCodeLine{00174\ }
\DoxyCodeLine{00175\ \ \ \textcolor{keyword}{static}\ std::string\ ErrorMessage(\textcolor{keywordtype}{void}*\ address,}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\&\ address\_description,}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ countdown,}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::string\&\ error\_description)\ \{}
\DoxyCodeLine{00179\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceabsl_a4810e3370bfa83c31d1c39121a0ac4ee}{absl::Substitute}}(}
\DoxyCodeLine{00180\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}With\ coundtown\ at\ \$0:\(\backslash\)n"{}}}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ \ \$1\(\backslash\)n"{}}}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ \ Object\ originally\ constructed\ by\ \$2\(\backslash\)n"{}}}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ \ Object\ address:\ \$3\(\backslash\)n"{}},}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ countdown,\ error\_description,\ address\_description,\ address);}
\DoxyCodeLine{00185\ \ \ \}}
\DoxyCodeLine{00186\ }
\DoxyCodeLine{00187\ \ \ std::unordered\_map<void*,\ TrackedAddress>\ address\_map\_;}
\DoxyCodeLine{00188\ \ \ \textcolor{keywordtype}{int}\ countdown\_;}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00190\ \ \ \textcolor{keyword}{static}\ ConstructorTracker*\ current\_tracker\_instance\_;}
\DoxyCodeLine{00191\ \};}
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00193\ \textcolor{keyword}{class\ }TrackedObject\ \{}
\DoxyCodeLine{00194\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00195\ \ \ TrackedObject(\textcolor{keyword}{const}\ TrackedObject\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00196\ \ \ TrackedObject(TrackedObject\&\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00197\ }
\DoxyCodeLine{00198\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00199\ \ \ \textcolor{keyword}{explicit}\ TrackedObject(std::string\ description)\ \{}
\DoxyCodeLine{00200\ \ \ \ \ ConstructorTracker::ObjectConstructed(\textcolor{keyword}{this},\ std::move(description));}
\DoxyCodeLine{00201\ \ \ \}}
\DoxyCodeLine{00202\ }
\DoxyCodeLine{00203\ \ \ \string~TrackedObject()\ noexcept\ \{\ ConstructorTracker::ObjectDestructed(\textcolor{keyword}{this});\ \}}
\DoxyCodeLine{00204\ \};}
\DoxyCodeLine{00205\ \}\ \ \textcolor{comment}{//\ namespace\ exceptions\_internal}}
\DoxyCodeLine{00206\ }
\DoxyCodeLine{00207\ \textcolor{keyword}{extern}\ exceptions\_internal::NoThrowTag\ nothrow\_ctor;}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ \textcolor{keyword}{extern}\ exceptions\_internal::StrongGuaranteeTagType\ strong\_guarantee;}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \textcolor{comment}{//\ A\ test\ class\ which\ is\ convertible\ to\ bool.\ \ The\ conversion\ can\ be}}
\DoxyCodeLine{00212\ \textcolor{comment}{//\ instrumented\ to\ throw\ at\ a\ controlled\ time.}}
\DoxyCodeLine{00213\ \textcolor{keyword}{class\ }ThrowingBool\ \{}
\DoxyCodeLine{00214\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00215\ \ \ ThrowingBool(\textcolor{keywordtype}{bool}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}})\ noexcept\ :\ b\_(\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}})\ \{\}\ \ \textcolor{comment}{//\ NOLINT(runtime/explicit)}}
\DoxyCodeLine{00216\ \ \ \textcolor{keyword}{operator}\ \mbox{\hyperlink{namespaceexport__hf_a3b79f4dc99a74534a694b2cd70b161bd}{bool}}()\textcolor{keyword}{\ const\ }\{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00217\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00218\ \ \ \ \ \textcolor{keywordflow}{return}\ b\_;}
\DoxyCodeLine{00219\ \ \ \}}
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00221\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00222\ \ \ \textcolor{keywordtype}{bool}\ b\_;}
\DoxyCodeLine{00223\ \};}
\DoxyCodeLine{00224\ }
\DoxyCodeLine{00225\ \textcolor{comment}{/*}}
\DoxyCodeLine{00226\ \textcolor{comment}{\ *\ Configuration\ enum\ for\ the\ ThrowingValue\ type\ that\ defines\ behavior\ for\ the}}
\DoxyCodeLine{00227\ \textcolor{comment}{\ *\ lifetime\ of\ the\ instance.\ Use\ testing::nothrow\_ctor\ to\ prevent\ the\ integer}}
\DoxyCodeLine{00228\ \textcolor{comment}{\ *\ constructor\ from\ throwing.}}
\DoxyCodeLine{00229\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00230\ \textcolor{comment}{\ *\ kEverythingThrows:\ Every\ operation\ can\ throw\ an\ exception}}
\DoxyCodeLine{00231\ \textcolor{comment}{\ *\ kNoThrowCopy:\ Copy\ construction\ and\ copy\ assignment\ will\ not\ throw}}
\DoxyCodeLine{00232\ \textcolor{comment}{\ *\ kNoThrowMove:\ Move\ construction\ and\ move\ assignment\ will\ not\ throw}}
\DoxyCodeLine{00233\ \textcolor{comment}{\ *\ kNoThrowNew:\ Overloaded\ operators\ new\ and\ new[]\ will\ not\ throw}}
\DoxyCodeLine{00234\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00235\ \textcolor{keyword}{enum\ class}\ TypeSpec\ \{}
\DoxyCodeLine{00236\ \ \ kEverythingThrows\ =\ 0,}
\DoxyCodeLine{00237\ \ \ kNoThrowCopy\ =\ 1,}
\DoxyCodeLine{00238\ \ \ kNoThrowMove\ =\ 1\ <<\ 1,}
\DoxyCodeLine{00239\ \ \ kNoThrowNew\ =\ 1\ <<\ 2,}
\DoxyCodeLine{00240\ \};}
\DoxyCodeLine{00241\ }
\DoxyCodeLine{00242\ \textcolor{comment}{/*}}
\DoxyCodeLine{00243\ \textcolor{comment}{\ *\ A\ testing\ class\ instrumented\ to\ throw\ an\ exception\ at\ a\ controlled\ time.}}
\DoxyCodeLine{00244\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00245\ \textcolor{comment}{\ *\ ThrowingValue\ implements\ a\ slightly\ relaxed\ version\ of\ the\ Regular\ concept\ -\/-\/}}
\DoxyCodeLine{00246\ \textcolor{comment}{\ *\ that\ is\ it's\ a\ value\ type\ with\ the\ expected\ semantics.\ \ It\ also\ implements}}
\DoxyCodeLine{00247\ \textcolor{comment}{\ *\ arithmetic\ operations.\ \ It\ doesn't\ implement\ member\ and\ pointer\ operators}}
\DoxyCodeLine{00248\ \textcolor{comment}{\ *\ like\ operator-\/>\ or\ operator[].}}
\DoxyCodeLine{00249\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00250\ \textcolor{comment}{\ *\ ThrowingValue\ can\ be\ instrumented\ to\ have\ certain\ operations\ be\ noexcept\ by}}
\DoxyCodeLine{00251\ \textcolor{comment}{\ *\ using\ compile-\/time\ bitfield\ template\ arguments.\ \ That\ is,\ to\ make\ an}}
\DoxyCodeLine{00252\ \textcolor{comment}{\ *\ ThrowingValue\ which\ has\ noexcept\ move\ construction/assignment\ and\ noexcept}}
\DoxyCodeLine{00253\ \textcolor{comment}{\ *\ copy\ construction/assignment,\ use\ the\ following:}}
\DoxyCodeLine{00254\ \textcolor{comment}{\ *\ \ \ ThrowingValue<testing::kNoThrowMove\ |\ testing::kNoThrowCopy>\ my\_thrwr\{val\};}}
\DoxyCodeLine{00255\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00256\ \textcolor{keyword}{template}\ <TypeSpec\ Spec\ =\ TypeSpec::kEverythingThrows>}
\DoxyCodeLine{00257\ \textcolor{keyword}{class\ }ThrowingValue\ :\ \textcolor{keyword}{private}\ exceptions\_internal::TrackedObject\ \{}
\DoxyCodeLine{00258\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ IsSpecified(TypeSpec\ spec)\ \{}
\DoxyCodeLine{00259\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{bool}\textcolor{keyword}{>}(Spec\ \&\ spec);}
\DoxyCodeLine{00260\ \ \ \}}
\DoxyCodeLine{00261\ }
\DoxyCodeLine{00262\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kDefaultValue\ =\ 0;}
\DoxyCodeLine{00263\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ kBadValue\ =\ 938550620;}
\DoxyCodeLine{00264\ }
\DoxyCodeLine{00265\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00266\ \ \ ThrowingValue()\ :\ TrackedObject(GetInstanceString(kDefaultValue))\ \{}
\DoxyCodeLine{00267\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00268\ \ \ \ \ dummy\_\ =\ kDefaultValue;}
\DoxyCodeLine{00269\ \ \ \}}
\DoxyCodeLine{00270\ }
\DoxyCodeLine{00271\ \ \ ThrowingValue(\textcolor{keyword}{const}\ ThrowingValue\&\ other)\ \textcolor{keyword}{noexcept}(}
\DoxyCodeLine{00272\ \ \ \ \ \ \ IsSpecified(TypeSpec::kNoThrowCopy))}
\DoxyCodeLine{00273\ \ \ \ \ \ \ :\ TrackedObject(GetInstanceString(other.dummy\_))\ \{}
\DoxyCodeLine{00274\ \ \ \ \ \textcolor{keywordflow}{if}\ (!IsSpecified(TypeSpec::kNoThrowCopy))\ \{}
\DoxyCodeLine{00275\ \ \ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00276\ \ \ \ \ \}}
\DoxyCodeLine{00277\ \ \ \ \ dummy\_\ =\ other.dummy\_;}
\DoxyCodeLine{00278\ \ \ \}}
\DoxyCodeLine{00279\ }
\DoxyCodeLine{00280\ \ \ ThrowingValue(ThrowingValue\&\&\ other)\ \textcolor{keyword}{noexcept}(}
\DoxyCodeLine{00281\ \ \ \ \ \ \ IsSpecified(TypeSpec::kNoThrowMove))}
\DoxyCodeLine{00282\ \ \ \ \ \ \ :\ TrackedObject(GetInstanceString(other.dummy\_))\ \{}
\DoxyCodeLine{00283\ \ \ \ \ \textcolor{keywordflow}{if}\ (!IsSpecified(TypeSpec::kNoThrowMove))\ \{}
\DoxyCodeLine{00284\ \ \ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00285\ \ \ \ \ \}}
\DoxyCodeLine{00286\ \ \ \ \ dummy\_\ =\ other.dummy\_;}
\DoxyCodeLine{00287\ \ \ \}}
\DoxyCodeLine{00288\ }
\DoxyCodeLine{00289\ \ \ \textcolor{keyword}{explicit}\ ThrowingValue(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}})\ :\ TrackedObject(GetInstanceString(\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}))\ \{}
\DoxyCodeLine{00290\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00291\ \ \ \ \ dummy\_\ =\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}};}
\DoxyCodeLine{00292\ \ \ \}}
\DoxyCodeLine{00293\ }
\DoxyCodeLine{00294\ \ \ ThrowingValue(\textcolor{keywordtype}{int}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ exceptions\_internal::NoThrowTag)\ noexcept}
\DoxyCodeLine{00295\ \ \ \ \ \ \ :\ TrackedObject(GetInstanceString(\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}})),\ dummy\_(\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}})\ \{\}}
\DoxyCodeLine{00296\ }
\DoxyCodeLine{00297\ \ \ \textcolor{comment}{//\ absl\ expects\ nothrow\ destructors}}
\DoxyCodeLine{00298\ \ \ \string~ThrowingValue()\ noexcept\ =\ default;}
\DoxyCodeLine{00299\ }
\DoxyCodeLine{00300\ \ \ ThrowingValue\&\ operator=(const\ ThrowingValue\&\ other)\ noexcept(}
\DoxyCodeLine{00301\ \ \ \ \ \ \ IsSpecified(TypeSpec::kNoThrowCopy))\ \{}
\DoxyCodeLine{00302\ \ \ \ \ dummy\_\ =\ kBadValue;}
\DoxyCodeLine{00303\ \ \ \ \ \textcolor{keywordflow}{if}\ (!IsSpecified(TypeSpec::kNoThrowCopy))\ \{}
\DoxyCodeLine{00304\ \ \ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00305\ \ \ \ \ \}}
\DoxyCodeLine{00306\ \ \ \ \ dummy\_\ =\ other.dummy\_;}
\DoxyCodeLine{00307\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00308\ \ \ \}}
\DoxyCodeLine{00309\ }
\DoxyCodeLine{00310\ \ \ ThrowingValue\&\ operator=(ThrowingValue\&\&\ other)\ \textcolor{keyword}{noexcept}(}
\DoxyCodeLine{00311\ \ \ \ \ \ \ IsSpecified(TypeSpec::kNoThrowMove))\ \{}
\DoxyCodeLine{00312\ \ \ \ \ dummy\_\ =\ kBadValue;}
\DoxyCodeLine{00313\ \ \ \ \ \textcolor{keywordflow}{if}\ (!IsSpecified(TypeSpec::kNoThrowMove))\ \{}
\DoxyCodeLine{00314\ \ \ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00315\ \ \ \ \ \}}
\DoxyCodeLine{00316\ \ \ \ \ dummy\_\ =\ other.dummy\_;}
\DoxyCodeLine{00317\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00318\ \ \ \}}
\DoxyCodeLine{00319\ }
\DoxyCodeLine{00320\ \ \ \textcolor{comment}{//\ Arithmetic\ Operators}}
\DoxyCodeLine{00321\ \ \ ThrowingValue\ \mbox{\hyperlink{namespaceabsl_a31d37c26a357ac60b874ec5205354153}{operator+}}(\textcolor{keyword}{const}\ ThrowingValue\&\ other)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00322\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00323\ \ \ \ \ \textcolor{keywordflow}{return}\ ThrowingValue(dummy\_\ +\ other.dummy\_,\ nothrow\_ctor);}
\DoxyCodeLine{00324\ \ \ \}}
\DoxyCodeLine{00325\ }
\DoxyCodeLine{00326\ \ \ ThrowingValue\ \mbox{\hyperlink{namespaceabsl_a31d37c26a357ac60b874ec5205354153}{operator+}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00327\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00328\ \ \ \ \ \textcolor{keywordflow}{return}\ ThrowingValue(dummy\_,\ nothrow\_ctor);}
\DoxyCodeLine{00329\ \ \ \}}
\DoxyCodeLine{00330\ }
\DoxyCodeLine{00331\ \ \ ThrowingValue\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2CommonCwiseUnaryOps_8h_a5269321b3155ed9e3636b7862a167202}{operator-\/}}(\textcolor{keyword}{const}\ ThrowingValue\&\ other)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00332\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00333\ \ \ \ \ \textcolor{keywordflow}{return}\ ThrowingValue(dummy\_\ -\/\ other.dummy\_,\ nothrow\_ctor);}
\DoxyCodeLine{00334\ \ \ \}}
\DoxyCodeLine{00335\ }
\DoxyCodeLine{00336\ \ \ ThrowingValue\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2CommonCwiseUnaryOps_8h_a5269321b3155ed9e3636b7862a167202}{operator-\/}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00337\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00338\ \ \ \ \ \textcolor{keywordflow}{return}\ ThrowingValue(-\/dummy\_,\ nothrow\_ctor);}
\DoxyCodeLine{00339\ \ \ \}}
\DoxyCodeLine{00340\ }
\DoxyCodeLine{00341\ \ \ ThrowingValue\&\ \mbox{\hyperlink{namespaceEigen_1_1bfloat16__impl_aff7dfa2c21dfbc3a25b302fafea9bcce}{operator++}}()\ \{}
\DoxyCodeLine{00342\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00343\ \ \ \ \ ++dummy\_;}
\DoxyCodeLine{00344\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00345\ \ \ \}}
\DoxyCodeLine{00346\ }
\DoxyCodeLine{00347\ \ \ ThrowingValue\ \mbox{\hyperlink{namespaceEigen_1_1bfloat16__impl_aff7dfa2c21dfbc3a25b302fafea9bcce}{operator++}}(\textcolor{keywordtype}{int})\ \{}
\DoxyCodeLine{00348\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00349\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2parser__test_8cc_a8905de849f303a8598c0f7c3d37d46ed}{out}}\ =\ ThrowingValue(dummy\_,\ nothrow\_ctor);}
\DoxyCodeLine{00350\ \ \ \ \ ++dummy\_;}
\DoxyCodeLine{00351\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2parser__test_8cc_a8905de849f303a8598c0f7c3d37d46ed}{out}};}
\DoxyCodeLine{00352\ \ \ \}}
\DoxyCodeLine{00353\ }
\DoxyCodeLine{00354\ \ \ ThrowingValue\&\ \mbox{\hyperlink{namespaceEigen_1_1bfloat16__impl_a79c0b3681e7fe43fbe3c2b77dcd47452}{operator-\/-\/}}()\ \{}
\DoxyCodeLine{00355\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00356\ \ \ \ \ -\/-\/dummy\_;}
\DoxyCodeLine{00357\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00358\ \ \ \}}
\DoxyCodeLine{00359\ }
\DoxyCodeLine{00360\ \ \ ThrowingValue\ \mbox{\hyperlink{namespaceEigen_1_1bfloat16__impl_a79c0b3681e7fe43fbe3c2b77dcd47452}{operator-\/-\/}}(\textcolor{keywordtype}{int})\ \{}
\DoxyCodeLine{00361\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00362\ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2parser__test_8cc_a8905de849f303a8598c0f7c3d37d46ed}{out}}\ =\ ThrowingValue(dummy\_,\ nothrow\_ctor);}
\DoxyCodeLine{00363\ \ \ \ \ -\/-\/dummy\_;}
\DoxyCodeLine{00364\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2parser__test_8cc_a8905de849f303a8598c0f7c3d37d46ed}{out}};}
\DoxyCodeLine{00365\ \ \ \}}
\DoxyCodeLine{00366\ }
\DoxyCodeLine{00367\ \ \ ThrowingValue\ \mbox{\hyperlink{namespaceabsl_ae50de9a310971e98f1f32db604a9e8cf}{operator*}}(\textcolor{keyword}{const}\ ThrowingValue\&\ other)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00368\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00369\ \ \ \ \ \textcolor{keywordflow}{return}\ ThrowingValue(dummy\_\ *\ other.dummy\_,\ nothrow\_ctor);}
\DoxyCodeLine{00370\ \ \ \}}
\DoxyCodeLine{00371\ }
\DoxyCodeLine{00372\ \ \ ThrowingValue\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2ArrayCwiseBinaryOps_8h_a9065509b9c57420eef48f2dd80bc4c3a}{operator/}}(\textcolor{keyword}{const}\ ThrowingValue\&\ other)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00373\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00374\ \ \ \ \ \textcolor{keywordflow}{return}\ ThrowingValue(dummy\_\ /\ other.dummy\_,\ nothrow\_ctor);}
\DoxyCodeLine{00375\ \ \ \}}
\DoxyCodeLine{00376\ }
\DoxyCodeLine{00377\ \ \ ThrowingValue\ \mbox{\hyperlink{namespaceabsl_a2718e0892cd9d787c2508747e345bbdc}{operator\%}}(\textcolor{keyword}{const}\ ThrowingValue\&\ other)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00378\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00379\ \ \ \ \ \textcolor{keywordflow}{return}\ ThrowingValue(dummy\_\ \%\ other.dummy\_,\ nothrow\_ctor);}
\DoxyCodeLine{00380\ \ \ \}}
\DoxyCodeLine{00381\ }
\DoxyCodeLine{00382\ \ \ ThrowingValue\ \mbox{\hyperlink{namespaceabsl_a28a291a3fe339195acfaae93e38b9573}{operator<<}}(\textcolor{keywordtype}{int}\ shift)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00383\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00384\ \ \ \ \ \textcolor{keywordflow}{return}\ ThrowingValue(dummy\_\ <<\ shift,\ nothrow\_ctor);}
\DoxyCodeLine{00385\ \ \ \}}
\DoxyCodeLine{00386\ }
\DoxyCodeLine{00387\ \ \ ThrowingValue\ \mbox{\hyperlink{namespaceabsl_ad018445b58659d6c0839df223a2ac3a5}{operator>>}}(\textcolor{keywordtype}{int}\ shift)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00388\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00389\ \ \ \ \ \textcolor{keywordflow}{return}\ ThrowingValue(dummy\_\ >>\ shift,\ nothrow\_ctor);}
\DoxyCodeLine{00390\ \ \ \}}
\DoxyCodeLine{00391\ }
\DoxyCodeLine{00392\ \ \ \textcolor{comment}{//\ Comparison\ Operators}}
\DoxyCodeLine{00393\ \ \ \textcolor{comment}{//\ NOTE:\ We\ use\ \`{}ThrowingBool`\ instead\ of\ \`{}bool`\ because\ most\ STL}}
\DoxyCodeLine{00394\ \ \ \textcolor{comment}{//\ types/containers\ requires\ T\ to\ be\ convertible\ to\ bool.}}
\DoxyCodeLine{00395\ \ \ \textcolor{keyword}{friend}\ ThrowingBool\ \mbox{\hyperlink{namespaceabsl_a6e23a3339a264413328c9a0ce0896eac}{operator==}}(\textcolor{keyword}{const}\ ThrowingValue\&\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_aa4c2a5552e9bc49b1816ff532f558c74}{a}},}
\DoxyCodeLine{00396\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ ThrowingValue\&\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}})\ \{}
\DoxyCodeLine{00397\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00398\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_aa4c2a5552e9bc49b1816ff532f558c74}{a}}.dummy\_\ ==\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}}.dummy\_;}
\DoxyCodeLine{00399\ \ \ \}}
\DoxyCodeLine{00400\ \ \ \textcolor{keyword}{friend}\ ThrowingBool\ \mbox{\hyperlink{namespaceabsl_a78dbd46464e8900c304d14534f0567bc}{operator!=}}(\textcolor{keyword}{const}\ ThrowingValue\&\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_aa4c2a5552e9bc49b1816ff532f558c74}{a}},}
\DoxyCodeLine{00401\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ ThrowingValue\&\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}})\ \{}
\DoxyCodeLine{00402\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00403\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_aa4c2a5552e9bc49b1816ff532f558c74}{a}}.dummy\_\ !=\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}}.dummy\_;}
\DoxyCodeLine{00404\ \ \ \}}
\DoxyCodeLine{00405\ \ \ \textcolor{keyword}{friend}\ ThrowingBool\ \mbox{\hyperlink{namespaceabsl_aa48960e448fa3aefb047530196e017b7}{operator<}}(\textcolor{keyword}{const}\ ThrowingValue\&\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_aa4c2a5552e9bc49b1816ff532f558c74}{a}},}
\DoxyCodeLine{00406\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ ThrowingValue\&\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}})\ \{}
\DoxyCodeLine{00407\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00408\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_aa4c2a5552e9bc49b1816ff532f558c74}{a}}.dummy\_\ <\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}}.dummy\_;}
\DoxyCodeLine{00409\ \ \ \}}
\DoxyCodeLine{00410\ \ \ \textcolor{keyword}{friend}\ ThrowingBool\ \mbox{\hyperlink{namespaceabsl_aabcadd94f539da66532f7199bfc95fa9}{operator<=}}(\textcolor{keyword}{const}\ ThrowingValue\&\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_aa4c2a5552e9bc49b1816ff532f558c74}{a}},}
\DoxyCodeLine{00411\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ ThrowingValue\&\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}})\ \{}
\DoxyCodeLine{00412\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00413\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_aa4c2a5552e9bc49b1816ff532f558c74}{a}}.dummy\_\ <=\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}}.dummy\_;}
\DoxyCodeLine{00414\ \ \ \}}
\DoxyCodeLine{00415\ \ \ \textcolor{keyword}{friend}\ ThrowingBool\ \mbox{\hyperlink{namespaceabsl_a190b6b1dd99fa3df43c9775c7140c4dc}{operator>}}(\textcolor{keyword}{const}\ ThrowingValue\&\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_aa4c2a5552e9bc49b1816ff532f558c74}{a}},}
\DoxyCodeLine{00416\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ ThrowingValue\&\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}})\ \{}
\DoxyCodeLine{00417\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00418\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_aa4c2a5552e9bc49b1816ff532f558c74}{a}}.dummy\_\ >\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}}.dummy\_;}
\DoxyCodeLine{00419\ \ \ \}}
\DoxyCodeLine{00420\ \ \ \textcolor{keyword}{friend}\ ThrowingBool\ \mbox{\hyperlink{namespaceabsl_a49d80292dfe7f27ea80f4de0875f6907}{operator>=}}(\textcolor{keyword}{const}\ ThrowingValue\&\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_aa4c2a5552e9bc49b1816ff532f558c74}{a}},}
\DoxyCodeLine{00421\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ ThrowingValue\&\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}})\ \{}
\DoxyCodeLine{00422\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00423\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_aa4c2a5552e9bc49b1816ff532f558c74}{a}}.dummy\_\ >=\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}}.dummy\_;}
\DoxyCodeLine{00424\ \ \ \}}
\DoxyCodeLine{00425\ }
\DoxyCodeLine{00426\ \ \ \textcolor{comment}{//\ Logical\ Operators}}
\DoxyCodeLine{00427\ \ \ ThrowingBool\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2ArrayCwiseUnaryOps_8h_aa198852a6b380257ea3e34c8f7e6e250}{operator!}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00428\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00429\ \ \ \ \ \textcolor{keywordflow}{return}\ !dummy\_;}
\DoxyCodeLine{00430\ \ \ \}}
\DoxyCodeLine{00431\ }
\DoxyCodeLine{00432\ \ \ ThrowingBool\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2CommonCwiseBinaryOps_8h_ae9a0005d42c1c8252bfbfe124dc4d97a}{operator\&\&}}(\textcolor{keyword}{const}\ ThrowingValue\&\ other)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00433\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00434\ \ \ \ \ \textcolor{keywordflow}{return}\ dummy\_\ \&\&\ other.dummy\_;}
\DoxyCodeLine{00435\ \ \ \}}
\DoxyCodeLine{00436\ }
\DoxyCodeLine{00437\ \ \ ThrowingBool\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2CommonCwiseBinaryOps_8h_ac14066115be9fec7a37c5f85b7e32551}{operator||}}(\textcolor{keyword}{const}\ ThrowingValue\&\ other)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00438\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00439\ \ \ \ \ \textcolor{keywordflow}{return}\ dummy\_\ ||\ other.dummy\_;}
\DoxyCodeLine{00440\ \ \ \}}
\DoxyCodeLine{00441\ }
\DoxyCodeLine{00442\ \ \ \textcolor{comment}{//\ Bitwise\ Logical\ Operators}}
\DoxyCodeLine{00443\ \ \ ThrowingValue\ \mbox{\hyperlink{namespaceabsl_a9c0a08691ece0b78887c443cef909488}{operator\string~}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00444\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00445\ \ \ \ \ \textcolor{keywordflow}{return}\ ThrowingValue(\string~dummy\_,\ nothrow\_ctor);}
\DoxyCodeLine{00446\ \ \ \}}
\DoxyCodeLine{00447\ }
\DoxyCodeLine{00448\ \ \ ThrowingValue\ \mbox{\hyperlink{namespaceabsl_a9f7e71f36c876a54d5b4ea5d226171ac}{operator\&}}(\textcolor{keyword}{const}\ ThrowingValue\&\ other)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00449\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00450\ \ \ \ \ \textcolor{keywordflow}{return}\ ThrowingValue(dummy\_\ \&\ other.dummy\_,\ nothrow\_ctor);}
\DoxyCodeLine{00451\ \ \ \}}
\DoxyCodeLine{00452\ }
\DoxyCodeLine{00453\ \ \ ThrowingValue\ \mbox{\hyperlink{namespaceabsl_aaab4f93bd370d4e51d2468dee7a9a8f5}{operator|}}(\textcolor{keyword}{const}\ ThrowingValue\&\ other)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00454\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00455\ \ \ \ \ \textcolor{keywordflow}{return}\ ThrowingValue(dummy\_\ |\ other.dummy\_,\ nothrow\_ctor);}
\DoxyCodeLine{00456\ \ \ \}}
\DoxyCodeLine{00457\ }
\DoxyCodeLine{00458\ \ \ ThrowingValue\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2ArrayCwiseBinaryOps_8h_a0c15148da206f6150248959b42a197af}{operator\string^}}(\textcolor{keyword}{const}\ ThrowingValue\&\ other)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00459\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00460\ \ \ \ \ \textcolor{keywordflow}{return}\ ThrowingValue(dummy\_\ \string^\ other.dummy\_,\ nothrow\_ctor);}
\DoxyCodeLine{00461\ \ \ \}}
\DoxyCodeLine{00462\ }
\DoxyCodeLine{00463\ \ \ \textcolor{comment}{//\ Compound\ Assignment\ operators}}
\DoxyCodeLine{00464\ \ \ ThrowingValue\&\ \mbox{\hyperlink{namespaceEigen_1_1bfloat16__impl_af2f40bace0a2447ca623a1d823e4cd52}{operator+=}}(\textcolor{keyword}{const}\ ThrowingValue\&\ other)\ \{}
\DoxyCodeLine{00465\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00466\ \ \ \ \ dummy\_\ +=\ other.dummy\_;}
\DoxyCodeLine{00467\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00468\ \ \ \}}
\DoxyCodeLine{00469\ }
\DoxyCodeLine{00470\ \ \ ThrowingValue\&\ \mbox{\hyperlink{namespaceEigen_1_1bfloat16__impl_a8030d847201c6fc9880b509319d29990}{operator-\/=}}(\textcolor{keyword}{const}\ ThrowingValue\&\ other)\ \{}
\DoxyCodeLine{00471\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00472\ \ \ \ \ dummy\_\ -\/=\ other.dummy\_;}
\DoxyCodeLine{00473\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00474\ \ \ \}}
\DoxyCodeLine{00475\ }
\DoxyCodeLine{00476\ \ \ ThrowingValue\&\ \mbox{\hyperlink{namespaceEigen_1_1bfloat16__impl_a2c47d028f39b05672a74aeb65745c117}{operator*=}}(\textcolor{keyword}{const}\ ThrowingValue\&\ other)\ \{}
\DoxyCodeLine{00477\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00478\ \ \ \ \ dummy\_\ *=\ other.dummy\_;}
\DoxyCodeLine{00479\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00480\ \ \ \}}
\DoxyCodeLine{00481\ }
\DoxyCodeLine{00482\ \ \ ThrowingValue\&\ \mbox{\hyperlink{namespaceEigen_1_1bfloat16__impl_a6b3103e79e1e7ff540c64fb246c3bf80}{operator/=}}(\textcolor{keyword}{const}\ ThrowingValue\&\ other)\ \{}
\DoxyCodeLine{00483\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00484\ \ \ \ \ dummy\_\ /=\ other.dummy\_;}
\DoxyCodeLine{00485\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00486\ \ \ \}}
\DoxyCodeLine{00487\ }
\DoxyCodeLine{00488\ \ \ ThrowingValue\&\ operator\%=(\textcolor{keyword}{const}\ ThrowingValue\&\ other)\ \{}
\DoxyCodeLine{00489\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00490\ \ \ \ \ dummy\_\ \%=\ other.dummy\_;}
\DoxyCodeLine{00491\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00492\ \ \ \}}
\DoxyCodeLine{00493\ }
\DoxyCodeLine{00494\ \ \ ThrowingValue\&\ \mbox{\hyperlink{namespaceabsl_ada7ab53b627396df1e4a9f6fe7bc67ee}{operator\&=}}(\textcolor{keyword}{const}\ ThrowingValue\&\ other)\ \{}
\DoxyCodeLine{00495\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00496\ \ \ \ \ dummy\_\ \&=\ other.dummy\_;}
\DoxyCodeLine{00497\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00498\ \ \ \}}
\DoxyCodeLine{00499\ }
\DoxyCodeLine{00500\ \ \ ThrowingValue\&\ \mbox{\hyperlink{namespaceabsl_a653c41553dfe0c38975343351daaae3f}{operator|=}}(\textcolor{keyword}{const}\ ThrowingValue\&\ other)\ \{}
\DoxyCodeLine{00501\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00502\ \ \ \ \ dummy\_\ |=\ other.dummy\_;}
\DoxyCodeLine{00503\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00504\ \ \ \}}
\DoxyCodeLine{00505\ }
\DoxyCodeLine{00506\ \ \ ThrowingValue\&\ \mbox{\hyperlink{namespaceabsl_ae8cc3caaab8cce42986683cff58fb146}{operator\string^=}}(\textcolor{keyword}{const}\ ThrowingValue\&\ other)\ \{}
\DoxyCodeLine{00507\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00508\ \ \ \ \ dummy\_\ \string^=\ other.dummy\_;}
\DoxyCodeLine{00509\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00510\ \ \ \}}
\DoxyCodeLine{00511\ }
\DoxyCodeLine{00512\ \ \ ThrowingValue\&\ operator<<=(\textcolor{keywordtype}{int}\ shift)\ \{}
\DoxyCodeLine{00513\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00514\ \ \ \ \ dummy\_\ <<=\ shift;}
\DoxyCodeLine{00515\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00516\ \ \ \}}
\DoxyCodeLine{00517\ }
\DoxyCodeLine{00518\ \ \ ThrowingValue\&\ operator>>=(\textcolor{keywordtype}{int}\ shift)\ \{}
\DoxyCodeLine{00519\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00520\ \ \ \ \ dummy\_\ >>=\ shift;}
\DoxyCodeLine{00521\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00522\ \ \ \}}
\DoxyCodeLine{00523\ }
\DoxyCodeLine{00524\ \ \ \textcolor{comment}{//\ Pointer\ operators}}
\DoxyCodeLine{00525\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespaceabsl_a9f7e71f36c876a54d5b4ea5d226171ac}{operator\&}}()\ \textcolor{keyword}{const}\ =\ \textcolor{keyword}{delete};\ \ \textcolor{comment}{//\ NOLINT(runtime/operator)}}
\DoxyCodeLine{00526\ }
\DoxyCodeLine{00527\ \ \ \textcolor{comment}{//\ Stream\ operators}}
\DoxyCodeLine{00528\ \ \ \textcolor{keyword}{friend}\ std::ostream\&\ \mbox{\hyperlink{namespaceabsl_a28a291a3fe339195acfaae93e38b9573}{operator<<}}(std::ostream\&\ os,\ \textcolor{keyword}{const}\ ThrowingValue\&\ tv)\ \{}
\DoxyCodeLine{00529\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00530\ \ \ \ \ \textcolor{keywordflow}{return}\ os\ <<\ GetInstanceString(tv.dummy\_);}
\DoxyCodeLine{00531\ \ \ \}}
\DoxyCodeLine{00532\ }
\DoxyCodeLine{00533\ \ \ \textcolor{keyword}{friend}\ std::istream\&\ \mbox{\hyperlink{namespaceabsl_ad018445b58659d6c0839df223a2ac3a5}{operator>>}}(std::istream\&\ is,\ \textcolor{keyword}{const}\ ThrowingValue\&)\ \{}
\DoxyCodeLine{00534\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00535\ \ \ \ \ \textcolor{keywordflow}{return}\ is;}
\DoxyCodeLine{00536\ \ \ \}}
\DoxyCodeLine{00537\ }
\DoxyCodeLine{00538\ \ \ \textcolor{comment}{//\ Memory\ management\ operators}}
\DoxyCodeLine{00539\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}*\ \textcolor{keyword}{operator}\ \textcolor{keyword}{new}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca03c7c0ace395d80182db07ae2c30f034}{s}})\ \textcolor{keyword}{noexcept}(}
\DoxyCodeLine{00540\ \ \ \ \ \ \ IsSpecified(TypeSpec::kNoThrowNew))\ \{}
\DoxyCodeLine{00541\ \ \ \ \ \textcolor{keywordflow}{if}\ (!IsSpecified(TypeSpec::kNoThrowNew))\ \{}
\DoxyCodeLine{00542\ \ \ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00543\ \ \ \ \ \}}
\DoxyCodeLine{00544\ \ \ \ \ return\ ::operator\ \textcolor{keyword}{new}(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca03c7c0ace395d80182db07ae2c30f034}{s}});}
\DoxyCodeLine{00545\ \ \ \}}
\DoxyCodeLine{00546\ }
\DoxyCodeLine{00547\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}*\ \textcolor{keyword}{operator}\ \textcolor{keyword}{new}[](\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca03c7c0ace395d80182db07ae2c30f034}{s}})\ \textcolor{keyword}{noexcept}(}
\DoxyCodeLine{00548\ \ \ \ \ \ \ IsSpecified(TypeSpec::kNoThrowNew))\ \{}
\DoxyCodeLine{00549\ \ \ \ \ \textcolor{keywordflow}{if}\ (!IsSpecified(TypeSpec::kNoThrowNew))\ \{}
\DoxyCodeLine{00550\ \ \ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00551\ \ \ \ \ \}}
\DoxyCodeLine{00552\ \ \ \ \ return\ ::operator\ \textcolor{keyword}{new}[](\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca03c7c0ace395d80182db07ae2c30f034}{s}});}
\DoxyCodeLine{00553\ \ \ \}}
\DoxyCodeLine{00554\ }
\DoxyCodeLine{00555\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{00556\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}*\ \textcolor{keyword}{operator}\ \textcolor{keyword}{new}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca03c7c0ace395d80182db07ae2c30f034}{s}},\ Args\&\&...\ \mbox{\hyperlink{namespacefineweb_a183a236775a42ffdbd795bc1ab4e3fb0}{args}})\ \textcolor{keyword}{noexcept}(}
\DoxyCodeLine{00557\ \ \ \ \ \ \ IsSpecified(TypeSpec::kNoThrowNew))\ \{}
\DoxyCodeLine{00558\ \ \ \ \ \textcolor{keywordflow}{if}\ (!IsSpecified(TypeSpec::kNoThrowNew))\ \{}
\DoxyCodeLine{00559\ \ \ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00560\ \ \ \ \ \}}
\DoxyCodeLine{00561\ \ \ \ \ return\ ::operator\ \textcolor{keyword}{new}(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca03c7c0ace395d80182db07ae2c30f034}{s}},\ std::forward<Args>(args)...);}
\DoxyCodeLine{00562\ \ \ \}}
\DoxyCodeLine{00563\ }
\DoxyCodeLine{00564\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{00565\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}*\ \textcolor{keyword}{operator}\ \textcolor{keyword}{new}[](\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca03c7c0ace395d80182db07ae2c30f034}{s}},\ Args\&\&...\ \mbox{\hyperlink{namespacefineweb_a183a236775a42ffdbd795bc1ab4e3fb0}{args}})\ \textcolor{keyword}{noexcept}(}
\DoxyCodeLine{00566\ \ \ \ \ \ \ IsSpecified(TypeSpec::kNoThrowNew))\ \{}
\DoxyCodeLine{00567\ \ \ \ \ \textcolor{keywordflow}{if}\ (!IsSpecified(TypeSpec::kNoThrowNew))\ \{}
\DoxyCodeLine{00568\ \ \ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION,\ \textcolor{keyword}{true});}
\DoxyCodeLine{00569\ \ \ \ \ \}}
\DoxyCodeLine{00570\ \ \ \ \ return\ ::operator\ \textcolor{keyword}{new}[](\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca03c7c0ace395d80182db07ae2c30f034}{s}},\ std::forward<Args>(args)...);}
\DoxyCodeLine{00571\ \ \ \}}
\DoxyCodeLine{00572\ }
\DoxyCodeLine{00573\ \ \ \textcolor{comment}{//\ Abseil\ doesn't\ support\ throwing\ overloaded\ operator\ delete.\ \ These\ are}}
\DoxyCodeLine{00574\ \ \ \textcolor{comment}{//\ provided\ so\ a\ throwing\ operator-\/new\ can\ clean\ up\ after\ itself.}}
\DoxyCodeLine{00575\ \ \ \textcolor{keywordtype}{void}\ \textcolor{keyword}{operator}\ \textcolor{keyword}{delete}(\textcolor{keywordtype}{void}*\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca83878c91171338902e0fe0fb97a8c47a}{p}})\ \textcolor{keyword}{noexcept}\ \{\ ::operator\ \textcolor{keyword}{delete}(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca83878c91171338902e0fe0fb97a8c47a}{p}});\ \}}
\DoxyCodeLine{00576\ }
\DoxyCodeLine{00577\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{00578\ \ \ \textcolor{keywordtype}{void}\ \textcolor{keyword}{operator}\ \textcolor{keyword}{delete}(\textcolor{keywordtype}{void}*\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca83878c91171338902e0fe0fb97a8c47a}{p}},\ Args\&\&...\ \mbox{\hyperlink{namespacefineweb_a183a236775a42ffdbd795bc1ab4e3fb0}{args}})\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00579\ \ \ \ \ ::operator\ \textcolor{keyword}{delete}(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca83878c91171338902e0fe0fb97a8c47a}{p}},\ std::forward<Args>(args)...);}
\DoxyCodeLine{00580\ \ \ \}}
\DoxyCodeLine{00581\ }
\DoxyCodeLine{00582\ \ \ \textcolor{keywordtype}{void}\ \textcolor{keyword}{operator}\ \textcolor{keyword}{delete}[](\textcolor{keywordtype}{void}*\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca83878c91171338902e0fe0fb97a8c47a}{p}})\ \textcolor{keyword}{noexcept}\ \{\ return\ ::operator\ \textcolor{keyword}{delete}[](\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca83878c91171338902e0fe0fb97a8c47a}{p}});\ \}}
\DoxyCodeLine{00583\ }
\DoxyCodeLine{00584\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{00585\ \ \ \textcolor{keywordtype}{void}\ \textcolor{keyword}{operator}\ \textcolor{keyword}{delete}[](\textcolor{keywordtype}{void}*\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca83878c91171338902e0fe0fb97a8c47a}{p}},\ Args\&\&...\ \mbox{\hyperlink{namespacefineweb_a183a236775a42ffdbd795bc1ab4e3fb0}{args}})\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00586\ \ \ \ \ return\ ::operator\ \textcolor{keyword}{delete}[](\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca83878c91171338902e0fe0fb97a8c47a}{p}},\ std::forward<Args>(args)...);}
\DoxyCodeLine{00587\ \ \ \}}
\DoxyCodeLine{00588\ }
\DoxyCodeLine{00589\ \ \ \textcolor{comment}{//\ Non-\/standard\ access\ to\ the\ actual\ contained\ value.\ \ No\ need\ for\ this\ to}}
\DoxyCodeLine{00590\ \ \ \textcolor{comment}{//\ throw.}}
\DoxyCodeLine{00591\ \ \ \textcolor{keywordtype}{int}\&\ Get()\ noexcept\ \{\ \textcolor{keywordflow}{return}\ dummy\_;\ \}}
\DoxyCodeLine{00592\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\&\ Get()\ const\ noexcept\ \{\ \textcolor{keywordflow}{return}\ dummy\_;\ \}}
\DoxyCodeLine{00593\ }
\DoxyCodeLine{00594\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00595\ \ \ \textcolor{keyword}{static}\ std::string\ GetInstanceString(\textcolor{keywordtype}{int}\ dummy)\ \{}
\DoxyCodeLine{00596\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceabsl_a0a9abdb6ee6367339931d4cab29d50df}{absl::StrCat}}(\textcolor{stringliteral}{"{}ThrowingValue<"{}},}
\DoxyCodeLine{00597\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ exceptions\_internal::GetSpecString(Spec),\ \textcolor{stringliteral}{"{}>("{}},\ dummy,}
\DoxyCodeLine{00598\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{00599\ \ \ \}}
\DoxyCodeLine{00600\ }
\DoxyCodeLine{00601\ \ \ \textcolor{keywordtype}{int}\ dummy\_;}
\DoxyCodeLine{00602\ \};}
\DoxyCodeLine{00603\ \textcolor{comment}{//\ While\ not\ having\ to\ do\ with\ exceptions,\ explicitly\ delete\ comma\ operator,\ to}}
\DoxyCodeLine{00604\ \textcolor{comment}{//\ make\ sure\ we\ don't\ use\ it\ on\ user-\/supplied\ types.}}
\DoxyCodeLine{00605\ \textcolor{keyword}{template}\ <TypeSpec\ Spec,\ \textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00606\ \textcolor{keywordtype}{void}\ operator,(\textcolor{keyword}{const}\ ThrowingValue<Spec>\&,\ T\&\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00607\ \textcolor{keyword}{template}\ <TypeSpec\ Spec,\ \textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00608\ \textcolor{keywordtype}{void}\ operator,(T\&\&,\ \textcolor{keyword}{const}\ ThrowingValue<Spec>\&)\ =\ \textcolor{keyword}{delete};}
\DoxyCodeLine{00609\ }
\DoxyCodeLine{00610\ \textcolor{comment}{/*}}
\DoxyCodeLine{00611\ \textcolor{comment}{\ *\ Configuration\ enum\ for\ the\ ThrowingAllocator\ type\ that\ defines\ behavior\ for}}
\DoxyCodeLine{00612\ \textcolor{comment}{\ *\ the\ lifetime\ of\ the\ instance.}}
\DoxyCodeLine{00613\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00614\ \textcolor{comment}{\ *\ kEverythingThrows:\ Calls\ to\ the\ member\ functions\ may\ throw}}
\DoxyCodeLine{00615\ \textcolor{comment}{\ *\ kNoThrowAllocate:\ Calls\ to\ the\ member\ functions\ will\ not\ throw}}
\DoxyCodeLine{00616\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00617\ \textcolor{keyword}{enum\ class}\ AllocSpec\ \{}
\DoxyCodeLine{00618\ \ \ kEverythingThrows\ =\ 0,}
\DoxyCodeLine{00619\ \ \ kNoThrowAllocate\ =\ 1,}
\DoxyCodeLine{00620\ \};}
\DoxyCodeLine{00621\ }
\DoxyCodeLine{00622\ \textcolor{comment}{/*}}
\DoxyCodeLine{00623\ \textcolor{comment}{\ *\ An\ allocator\ type\ which\ is\ instrumented\ to\ throw\ at\ a\ controlled\ time,\ or\ not}}
\DoxyCodeLine{00624\ \textcolor{comment}{\ *\ to\ throw,\ using\ AllocSpec.\ The\ supported\ settings\ are\ the\ default\ of\ every}}
\DoxyCodeLine{00625\ \textcolor{comment}{\ *\ function\ which\ is\ allowed\ to\ throw\ in\ a\ conforming\ allocator\ possibly}}
\DoxyCodeLine{00626\ \textcolor{comment}{\ *\ throwing,\ or\ nothing\ throws,\ in\ line\ with\ the\ ABSL\_ALLOCATOR\_THROWS}}
\DoxyCodeLine{00627\ \textcolor{comment}{\ *\ configuration\ macro.}}
\DoxyCodeLine{00628\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00629\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ AllocSpec\ Spec\ =\ AllocSpec::kEverythingThrows>}
\DoxyCodeLine{00630\ \textcolor{keyword}{class\ }ThrowingAllocator\ :\ \textcolor{keyword}{private}\ exceptions\_internal::TrackedObject\ \{}
\DoxyCodeLine{00631\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ IsSpecified(AllocSpec\ spec)\ \{}
\DoxyCodeLine{00632\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{bool}\textcolor{keyword}{>}(Spec\ \&\ spec);}
\DoxyCodeLine{00633\ \ \ \}}
\DoxyCodeLine{00634\ }
\DoxyCodeLine{00635\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00636\ \ \ \textcolor{keyword}{using\ }pointer\ =\ T*;}
\DoxyCodeLine{00637\ \ \ \textcolor{keyword}{using\ }const\_pointer\ =\ \textcolor{keyword}{const}\ T*;}
\DoxyCodeLine{00638\ \ \ \textcolor{keyword}{using\ }reference\ =\ T\&;}
\DoxyCodeLine{00639\ \ \ \textcolor{keyword}{using\ }const\_reference\ =\ \textcolor{keyword}{const}\ T\&;}
\DoxyCodeLine{00640\ \ \ \textcolor{keyword}{using\ }void\_pointer\ =\ \textcolor{keywordtype}{void}*;}
\DoxyCodeLine{00641\ \ \ \textcolor{keyword}{using\ }const\_void\_pointer\ =\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{void}*;}
\DoxyCodeLine{00642\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceabsl_1_1compare__internal_ab31cea5c60b6af1224f1c9c1e0a9e042}{value\_type}}\ =\ T;}
\DoxyCodeLine{00643\ \ \ \textcolor{keyword}{using\ }size\_type\ =\ size\_t;}
\DoxyCodeLine{00644\ \ \ \textcolor{keyword}{using\ }difference\_type\ =\ ptrdiff\_t;}
\DoxyCodeLine{00645\ }
\DoxyCodeLine{00646\ \ \ \textcolor{keyword}{using\ }is\_nothrow\ =}
\DoxyCodeLine{00647\ \ \ \ \ \ \ std::integral\_constant<bool,\ Spec\ ==\ AllocSpec::kNoThrowAllocate>;}
\DoxyCodeLine{00648\ \ \ \textcolor{keyword}{using\ }propagate\_on\_container\_copy\_assignment\ =\ std::true\_type;}
\DoxyCodeLine{00649\ \ \ \textcolor{keyword}{using\ }propagate\_on\_container\_move\_assignment\ =\ std::true\_type;}
\DoxyCodeLine{00650\ \ \ \textcolor{keyword}{using\ }propagate\_on\_container\_swap\ =\ std::true\_type;}
\DoxyCodeLine{00651\ \ \ \textcolor{keyword}{using\ }is\_always\_equal\ =\ std::false\_type;}
\DoxyCodeLine{00652\ }
\DoxyCodeLine{00653\ \ \ ThrowingAllocator()\ :\ TrackedObject(GetInstanceString(next\_id\_))\ \{}
\DoxyCodeLine{00654\ \ \ \ \ exceptions\_internal::MaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00655\ \ \ \ \ dummy\_\ =\ std::make\_shared<const\ int>(next\_id\_++);}
\DoxyCodeLine{00656\ \ \ \}}
\DoxyCodeLine{00657\ }
\DoxyCodeLine{00658\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00659\ \ \ ThrowingAllocator(\textcolor{keyword}{const}\ ThrowingAllocator<U,\ Spec>\&\ other)\ \textcolor{keyword}{noexcept}\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00660\ \ \ \ \ \ \ :\ TrackedObject(GetInstanceString(*other.State())),}
\DoxyCodeLine{00661\ \ \ \ \ \ \ \ \ dummy\_(other.State())\ \{\}}
\DoxyCodeLine{00662\ }
\DoxyCodeLine{00663\ \ \ \textcolor{comment}{//\ According\ to\ C++11\ standard\ [17.6.3.5],\ Table\ 28,\ the\ move/copy\ ctors\ of}}
\DoxyCodeLine{00664\ \ \ \textcolor{comment}{//\ allocator\ shall\ not\ exit\ via\ an\ exception,\ thus\ they\ are\ marked\ noexcept.}}
\DoxyCodeLine{00665\ \ \ ThrowingAllocator(\textcolor{keyword}{const}\ ThrowingAllocator\&\ other)\ noexcept}
\DoxyCodeLine{00666\ \ \ \ \ \ \ :\ TrackedObject(GetInstanceString(*other.State())),}
\DoxyCodeLine{00667\ \ \ \ \ \ \ \ \ dummy\_(other.State())\ \{\}}
\DoxyCodeLine{00668\ }
\DoxyCodeLine{00669\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00670\ \ \ ThrowingAllocator(ThrowingAllocator<U,\ Spec>\&\&\ other)\ \textcolor{keyword}{noexcept}\ \ \textcolor{comment}{//\ NOLINT}}
\DoxyCodeLine{00671\ \ \ \ \ \ \ :\ TrackedObject(GetInstanceString(*other.State())),}
\DoxyCodeLine{00672\ \ \ \ \ \ \ \ \ dummy\_(std::move(other.State()))\ \{\}}
\DoxyCodeLine{00673\ }
\DoxyCodeLine{00674\ \ \ ThrowingAllocator(ThrowingAllocator\&\&\ other)\ noexcept}
\DoxyCodeLine{00675\ \ \ \ \ \ \ :\ TrackedObject(GetInstanceString(*other.State())),}
\DoxyCodeLine{00676\ \ \ \ \ \ \ \ \ dummy\_(std::move(other.State()))\ \{\}}
\DoxyCodeLine{00677\ }
\DoxyCodeLine{00678\ \ \ \string~ThrowingAllocator()\ noexcept\ =\ default;}
\DoxyCodeLine{00679\ }
\DoxyCodeLine{00680\ \ \ ThrowingAllocator\&\ operator=(const\ ThrowingAllocator\&\ other)\ noexcept\ \{}
\DoxyCodeLine{00681\ \ \ \ \ dummy\_\ =\ other.State();}
\DoxyCodeLine{00682\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00683\ \ \ \}}
\DoxyCodeLine{00684\ }
\DoxyCodeLine{00685\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00686\ \ \ ThrowingAllocator\&\ operator=(}
\DoxyCodeLine{00687\ \ \ \ \ \ \ \textcolor{keyword}{const}\ ThrowingAllocator<U,\ Spec>\&\ other)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00688\ \ \ \ \ dummy\_\ =\ other.State();}
\DoxyCodeLine{00689\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00690\ \ \ \}}
\DoxyCodeLine{00691\ }
\DoxyCodeLine{00692\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00693\ \ \ ThrowingAllocator\&\ operator=(ThrowingAllocator<U,\ Spec>\&\&\ other)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00694\ \ \ \ \ dummy\_\ =\ std::move(other.State());}
\DoxyCodeLine{00695\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00696\ \ \ \}}
\DoxyCodeLine{00697\ }
\DoxyCodeLine{00698\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00699\ \ \ \textcolor{keyword}{struct\ }rebind\ \{}
\DoxyCodeLine{00700\ \ \ \ \ \textcolor{keyword}{using\ }other\ =\ ThrowingAllocator<U,\ Spec>;}
\DoxyCodeLine{00701\ \ \ \};}
\DoxyCodeLine{00702\ }
\DoxyCodeLine{00703\ \ \ pointer\ allocate(size\_type\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__test_8cc_a76f11d9a0a47b94f72c2d0e77fb32240}{n}})\ \textcolor{keyword}{noexcept}(}
\DoxyCodeLine{00704\ \ \ \ \ \ \ IsSpecified(AllocSpec::kNoThrowAllocate))\ \{}
\DoxyCodeLine{00705\ \ \ \ \ ReadStateAndMaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00706\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}pointer\textcolor{keyword}{>}(::operator\ \textcolor{keyword}{new}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__test_8cc_a76f11d9a0a47b94f72c2d0e77fb32240}{n}}\ *\ \textcolor{keyword}{sizeof}(T)));}
\DoxyCodeLine{00707\ \ \ \}}
\DoxyCodeLine{00708\ }
\DoxyCodeLine{00709\ \ \ pointer\ allocate(size\_type\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__test_8cc_a76f11d9a0a47b94f72c2d0e77fb32240}{n}},\ const\_void\_pointer)\ \textcolor{keyword}{noexcept}(}
\DoxyCodeLine{00710\ \ \ \ \ \ \ IsSpecified(AllocSpec::kNoThrowAllocate))\ \{}
\DoxyCodeLine{00711\ \ \ \ \ \textcolor{keywordflow}{return}\ allocate(\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__test_8cc_a76f11d9a0a47b94f72c2d0e77fb32240}{n}});}
\DoxyCodeLine{00712\ \ \ \}}
\DoxyCodeLine{00713\ }
\DoxyCodeLine{00714\ \ \ \textcolor{keywordtype}{void}\ deallocate(pointer\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc__test_8cc_a935adc2e417a61d7eb6f04efb18ba031}{ptr}},\ size\_type)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00715\ \ \ \ \ ReadState();}
\DoxyCodeLine{00716\ \ \ \ \ ::operator\ \textcolor{keyword}{delete}(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc__test_8cc_a935adc2e417a61d7eb6f04efb18ba031}{ptr}}));}
\DoxyCodeLine{00717\ \ \ \}}
\DoxyCodeLine{00718\ }
\DoxyCodeLine{00719\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ U,\ \textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{00720\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_a659a71be083733c8da4a9e61289ac45d}{construct}}(U*\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc__test_8cc_a935adc2e417a61d7eb6f04efb18ba031}{ptr}},\ Args\&\&...\ args)\ \textcolor{keyword}{noexcept}(}
\DoxyCodeLine{00721\ \ \ \ \ \ \ IsSpecified(AllocSpec::kNoThrowAllocate))\ \{}
\DoxyCodeLine{00722\ \ \ \ \ ReadStateAndMaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00723\ \ \ \ \ ::new\ (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{void}*\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc__test_8cc_a935adc2e417a61d7eb6f04efb18ba031}{ptr}}))\ U(std::forward<Args>(args)...);}
\DoxyCodeLine{00724\ \ \ \}}
\DoxyCodeLine{00725\ }
\DoxyCodeLine{00726\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00727\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2common__policy__traits__test_8cc_a79d67fbf3c14432eb184731faf9c4950}{destroy}}(U*\ p)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00728\ \ \ \ \ ReadState();}
\DoxyCodeLine{00729\ \ \ \ \ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca83878c91171338902e0fe0fb97a8c47a}{p}}-\/>\string~U();}
\DoxyCodeLine{00730\ \ \ \}}
\DoxyCodeLine{00731\ }
\DoxyCodeLine{00732\ \ \ size\_type\ max\_size()\ const\ noexcept\ \{}
\DoxyCodeLine{00733\ \ \ \ \ \textcolor{keywordflow}{return}\ (std::numeric\_limits<difference\_type>::max)()\ /\ \textcolor{keyword}{sizeof}(value\_type);}
\DoxyCodeLine{00734\ \ \ \}}
\DoxyCodeLine{00735\ }
\DoxyCodeLine{00736\ \ \ ThrowingAllocator\ select\_on\_container\_copy\_construction()\ noexcept(}
\DoxyCodeLine{00737\ \ \ \ \ \ \ IsSpecified(AllocSpec::kNoThrowAllocate))\ \{}
\DoxyCodeLine{00738\ \ \ \ \ ReadStateAndMaybeThrow(ABSL\_PRETTY\_FUNCTION);}
\DoxyCodeLine{00739\ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00740\ \ \ \}}
\DoxyCodeLine{00741\ }
\DoxyCodeLine{00742\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00743\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespaceabsl_a6e23a3339a264413328c9a0ce0896eac}{operator==}}(\textcolor{keyword}{const}\ ThrowingAllocator<U,\ Spec>\&\ other)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00744\ \ \ \ \ \textcolor{keywordflow}{return}\ dummy\_\ ==\ other.dummy\_;}
\DoxyCodeLine{00745\ \ \ \}}
\DoxyCodeLine{00746\ }
\DoxyCodeLine{00747\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ U>}
\DoxyCodeLine{00748\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespaceabsl_a78dbd46464e8900c304d14534f0567bc}{operator!=}}(\textcolor{keyword}{const}\ ThrowingAllocator<U,\ Spec>\&\ other)\ \textcolor{keyword}{const}\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00749\ \ \ \ \ \textcolor{keywordflow}{return}\ dummy\_\ !=\ other.dummy\_;}
\DoxyCodeLine{00750\ \ \ \}}
\DoxyCodeLine{00751\ }
\DoxyCodeLine{00752\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename},\ AllocSpec>}
\DoxyCodeLine{00753\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }ThrowingAllocator;}
\DoxyCodeLine{00754\ }
\DoxyCodeLine{00755\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00756\ \ \ \textcolor{keyword}{static}\ std::string\ GetInstanceString(\textcolor{keywordtype}{int}\ dummy)\ \{}
\DoxyCodeLine{00757\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceabsl_a0a9abdb6ee6367339931d4cab29d50df}{absl::StrCat}}(\textcolor{stringliteral}{"{}ThrowingAllocator<"{}},}
\DoxyCodeLine{00758\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ exceptions\_internal::GetSpecString(Spec),\ \textcolor{stringliteral}{"{}>("{}},\ dummy,}
\DoxyCodeLine{00759\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{})"{}});}
\DoxyCodeLine{00760\ \ \ \}}
\DoxyCodeLine{00761\ }
\DoxyCodeLine{00762\ \ \ \textcolor{keyword}{const}\ std::shared\_ptr<const\ int>\&\ State()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ dummy\_;\ \}}
\DoxyCodeLine{00763\ \ \ std::shared\_ptr<const\ int>\&\ State()\ \{\ \textcolor{keywordflow}{return}\ dummy\_;\ \}}
\DoxyCodeLine{00764\ }
\DoxyCodeLine{00765\ \ \ \textcolor{keywordtype}{void}\ ReadState()\ \{}
\DoxyCodeLine{00766\ \ \ \ \ \textcolor{comment}{//\ we\ know\ that\ this\ will\ never\ be\ true,\ but\ the\ compiler\ doesn't,\ so\ this}}
\DoxyCodeLine{00767\ \ \ \ \ \textcolor{comment}{//\ should\ safely\ force\ a\ read\ of\ the\ value.}}
\DoxyCodeLine{00768\ \ \ \ \ \textcolor{keywordflow}{if}\ (*dummy\_\ <\ 0)\ std::abort();}
\DoxyCodeLine{00769\ \ \ \}}
\DoxyCodeLine{00770\ }
\DoxyCodeLine{00771\ \ \ \textcolor{keywordtype}{void}\ ReadStateAndMaybeThrow(\mbox{\hyperlink{classabsl_1_1string__view}{absl::string\_view}}\ msg)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00772\ \ \ \ \ \textcolor{keywordflow}{if}\ (!IsSpecified(AllocSpec::kNoThrowAllocate))\ \{}
\DoxyCodeLine{00773\ \ \ \ \ \ \ exceptions\_internal::MaybeThrow(}
\DoxyCodeLine{00774\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_a4810e3370bfa83c31d1c39121a0ac4ee}{absl::Substitute}}(\textcolor{stringliteral}{"{}Allocator\ id\ \$0\ threw\ from\ \$1"{}},\ *dummy\_,\ msg));}
\DoxyCodeLine{00775\ \ \ \ \ \}}
\DoxyCodeLine{00776\ \ \ \}}
\DoxyCodeLine{00777\ }
\DoxyCodeLine{00778\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{int}\ next\_id\_;}
\DoxyCodeLine{00779\ \ \ std::shared\_ptr<const\ int>\ dummy\_;}
\DoxyCodeLine{00780\ \};}
\DoxyCodeLine{00781\ }
\DoxyCodeLine{00782\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ AllocSpec\ Spec>}
\DoxyCodeLine{00783\ \textcolor{keywordtype}{int}\ ThrowingAllocator<T,\ Spec>::next\_id\_\ =\ 0;}
\DoxyCodeLine{00784\ }
\DoxyCodeLine{00785\ \textcolor{comment}{//\ Tests\ for\ resource\ leaks\ by\ attempting\ to\ construct\ a\ T\ using\ args\ repeatedly}}
\DoxyCodeLine{00786\ \textcolor{comment}{//\ until\ successful,\ using\ the\ countdown\ method.\ \ Side\ effects\ can\ then\ be}}
\DoxyCodeLine{00787\ \textcolor{comment}{//\ tested\ for\ resource\ leaks.}}
\DoxyCodeLine{00788\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}...\ Args>}
\DoxyCodeLine{00789\ \textcolor{keywordtype}{void}\ TestThrowingCtor(Args\&\&...\ args)\ \{}
\DoxyCodeLine{00790\ \ \ \textcolor{keyword}{struct\ }Cleanup\ \{}
\DoxyCodeLine{00791\ \ \ \ \ \string~Cleanup()\ \{\ exceptions\_internal::UnsetCountdown();\ \}}
\DoxyCodeLine{00792\ \ \ \}\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca4a8a08f09d37b73795649038408b5f33}{c}};}
\DoxyCodeLine{00793\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_ad43c3812e6d13e0518d9f8b8f463ffcf}{count}}\ =\ 0;;\ ++\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_ad43c3812e6d13e0518d9f8b8f463ffcf}{count}})\ \{}
\DoxyCodeLine{00794\ \ \ \ \ exceptions\_internal::ConstructorTracker\ ct(\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_ad43c3812e6d13e0518d9f8b8f463ffcf}{count}});}
\DoxyCodeLine{00795\ \ \ \ \ exceptions\_internal::SetCountdown(\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_ad43c3812e6d13e0518d9f8b8f463ffcf}{count}});}
\DoxyCodeLine{00796\ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{00797\ \ \ \ \ \ \ T\ temp(std::forward<Args>(args)...);}
\DoxyCodeLine{00798\ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{void}\textcolor{keyword}{>}(temp);}
\DoxyCodeLine{00799\ \ \ \ \ \ \ \textcolor{keywordflow}{break};}
\DoxyCodeLine{00800\ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\textcolor{keyword}{const}\ exceptions\_internal::TestException\&)\ \{}
\DoxyCodeLine{00801\ \ \ \ \ \}}
\DoxyCodeLine{00802\ \ \ \}}
\DoxyCodeLine{00803\ \}}
\DoxyCodeLine{00804\ }
\DoxyCodeLine{00805\ \textcolor{comment}{//\ Tests\ the\ nothrow\ guarantee\ of\ the\ provided\ nullary\ operation.\ If\ the\ an}}
\DoxyCodeLine{00806\ \textcolor{comment}{//\ exception\ is\ thrown,\ the\ result\ will\ be\ AssertionFailure().\ Otherwise,\ it}}
\DoxyCodeLine{00807\ \textcolor{comment}{//\ will\ be\ AssertionSuccess().}}
\DoxyCodeLine{00808\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Operation>}
\DoxyCodeLine{00809\ testing::AssertionResult\ TestNothrowOp(\textcolor{keyword}{const}\ Operation\&\ operation)\ \{}
\DoxyCodeLine{00810\ \ \ \textcolor{keyword}{struct\ }Cleanup\ \{}
\DoxyCodeLine{00811\ \ \ \ \ Cleanup()\ \{\ exceptions\_internal::SetCountdown();\ \}}
\DoxyCodeLine{00812\ \ \ \ \ \string~Cleanup()\ \{\ exceptions\_internal::UnsetCountdown();\ \}}
\DoxyCodeLine{00813\ \ \ \}\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca4a8a08f09d37b73795649038408b5f33}{c}};}
\DoxyCodeLine{00814\ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{00815\ \ \ \ \ operation();}
\DoxyCodeLine{00816\ \ \ \ \ \textcolor{keywordflow}{return}\ testing::AssertionSuccess();}
\DoxyCodeLine{00817\ \ \ \}\ \textcolor{keywordflow}{catch}\ (\textcolor{keyword}{const}\ exceptions\_internal::TestException\&)\ \{}
\DoxyCodeLine{00818\ \ \ \ \ \textcolor{keywordflow}{return}\ testing::AssertionFailure()}
\DoxyCodeLine{00819\ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}TestException\ thrown\ during\ call\ to\ operation()\ when\ nothrow\ "{}}}
\DoxyCodeLine{00820\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}guarantee\ was\ expected."{}};}
\DoxyCodeLine{00821\ \ \ \}\ \textcolor{keywordflow}{catch}\ (...)\ \{}
\DoxyCodeLine{00822\ \ \ \ \ \textcolor{keywordflow}{return}\ testing::AssertionFailure()}
\DoxyCodeLine{00823\ \ \ \ \ \ \ \ \ \ \ \ <<\ \textcolor{stringliteral}{"{}Unknown\ exception\ thrown\ during\ call\ to\ operation()\ when\ "{}}}
\DoxyCodeLine{00824\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}nothrow\ guarantee\ was\ expected."{}};}
\DoxyCodeLine{00825\ \ \ \}}
\DoxyCodeLine{00826\ \}}
\DoxyCodeLine{00827\ }
\DoxyCodeLine{00828\ \textcolor{keyword}{namespace\ }exceptions\_internal\ \{}
\DoxyCodeLine{00829\ }
\DoxyCodeLine{00830\ \textcolor{comment}{//\ Dummy\ struct\ for\ ExceptionSafetyTestBuilder<>\ partial\ state.}}
\DoxyCodeLine{00831\ \textcolor{keyword}{struct\ }UninitializedT\ \{\};}
\DoxyCodeLine{00832\ }
\DoxyCodeLine{00833\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00834\ \textcolor{keyword}{class\ }DefaultFactory\ \{}
\DoxyCodeLine{00835\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00836\ \ \ \textcolor{keyword}{explicit}\ DefaultFactory(\textcolor{keyword}{const}\ T\&\ t)\ :\ t\_(\mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81bae358efa489f58062f10dd7316b65649e}{t}})\ \{\}}
\DoxyCodeLine{00837\ \ \ std::unique\_ptr<T>\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2IndexedViewMethods_8h_a745b5bbf26fefb72e16675ef6ccd9057}{operator()}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ absl::make\_unique<T>(t\_);\ \}}
\DoxyCodeLine{00838\ }
\DoxyCodeLine{00839\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00840\ \ \ T\ t\_;}
\DoxyCodeLine{00841\ \};}
\DoxyCodeLine{00842\ }
\DoxyCodeLine{00843\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{size\_t}\ LazyContractsCount,\ \textcolor{keyword}{typename}\ LazyFactory,}
\DoxyCodeLine{00844\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ LazyOperation>}
\DoxyCodeLine{00845\ \textcolor{keyword}{using\ }EnableIfTestable\ =\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{namespaceabsl_a059ea7c8c3122cd36d4e270733757ff9}{absl::enable\_if\_t}}<}
\DoxyCodeLine{00846\ \ \ \ \ LazyContractsCount\ !=\ 0\ \&\&}
\DoxyCodeLine{00847\ \ \ \ \ !std::is\_same<LazyFactory,\ UninitializedT>::value\ \&\&}
\DoxyCodeLine{00848\ \ \ \ \ !std::is\_same<LazyOperation,\ UninitializedT>::value>;}
\DoxyCodeLine{00849\ }
\DoxyCodeLine{00850\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Factory\ =\ UninitializedT,}
\DoxyCodeLine{00851\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ Operation\ =\ UninitializedT,\ \textcolor{keyword}{typename}...\ Contracts>}
\DoxyCodeLine{00852\ \textcolor{keyword}{class\ }ExceptionSafetyTestBuilder;}
\DoxyCodeLine{00853\ }
\DoxyCodeLine{00854\ \}\ \ \textcolor{comment}{//\ namespace\ exceptions\_internal}}
\DoxyCodeLine{00855\ }
\DoxyCodeLine{00856\ \textcolor{comment}{/*}}
\DoxyCodeLine{00857\ \textcolor{comment}{\ *\ Constructs\ an\ empty\ ExceptionSafetyTestBuilder.\ All}}
\DoxyCodeLine{00858\ \textcolor{comment}{\ *\ ExceptionSafetyTestBuilder\ objects\ are\ immutable\ and\ all\ With[thing]\ mutation}}
\DoxyCodeLine{00859\ \textcolor{comment}{\ *\ methods\ return\ new\ instances\ of\ ExceptionSafetyTestBuilder.}}
\DoxyCodeLine{00860\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00861\ \textcolor{comment}{\ *\ In\ order\ to\ test\ a\ T\ for\ exception\ safety,\ a\ factory\ for\ that\ T,\ a\ testable}}
\DoxyCodeLine{00862\ \textcolor{comment}{\ *\ operation,\ and\ at\ least\ one\ contract\ callback\ returning\ an\ assertion}}
\DoxyCodeLine{00863\ \textcolor{comment}{\ *\ result\ must\ be\ applied\ using\ the\ respective\ methods.}}
\DoxyCodeLine{00864\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00865\ exceptions\_internal::ExceptionSafetyTestBuilder<>\ MakeExceptionSafetyTester();}
\DoxyCodeLine{00866\ }
\DoxyCodeLine{00867\ \textcolor{keyword}{namespace\ }exceptions\_internal\ \{}
\DoxyCodeLine{00868\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00869\ \textcolor{keyword}{struct\ }IsUniquePtr\ :\ std::false\_type\ \{\};}
\DoxyCodeLine{00870\ }
\DoxyCodeLine{00871\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T,\ \textcolor{keyword}{typename}\ D>}
\DoxyCodeLine{00872\ \textcolor{keyword}{struct\ }IsUniquePtr<\mbox{\hyperlink{namespacestd}{std}}::unique\_ptr<T,\ D>>\ :\ std::true\_type\ \{\};}
\DoxyCodeLine{00873\ }
\DoxyCodeLine{00874\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Factory>}
\DoxyCodeLine{00875\ \textcolor{keyword}{struct\ }FactoryPtrTypeHelper\ \{}
\DoxyCodeLine{00876\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespacefineweb_a8695301745cad3a63cfe73f8f67ebf3d}{type}}\ =\ \textcolor{keyword}{decltype}(std::declval<const\ Factory\&>()());}
\DoxyCodeLine{00877\ }
\DoxyCodeLine{00878\ \ \ \textcolor{keyword}{static\_assert}(IsUniquePtr<type>::value,\ \textcolor{stringliteral}{"{}Factories\ must\ return\ a\ unique\_ptr"{}});}
\DoxyCodeLine{00879\ \};}
\DoxyCodeLine{00880\ }
\DoxyCodeLine{00881\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Factory>}
\DoxyCodeLine{00882\ \textcolor{keyword}{using\ }FactoryPtrType\ =\ \textcolor{keyword}{typename}\ FactoryPtrTypeHelper<Factory>::type;}
\DoxyCodeLine{00883\ }
\DoxyCodeLine{00884\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Factory>}
\DoxyCodeLine{00885\ \textcolor{keyword}{using\ }FactoryElementType\ =\ \textcolor{keyword}{typename}\ FactoryPtrType<Factory>::element\_type;}
\DoxyCodeLine{00886\ }
\DoxyCodeLine{00887\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00888\ \textcolor{keyword}{class\ }ExceptionSafetyTest\ \{}
\DoxyCodeLine{00889\ \ \ \textcolor{keyword}{using\ }Factory\ =\ std::function<std::unique\_ptr<T>()>;}
\DoxyCodeLine{00890\ \ \ \textcolor{keyword}{using\ }Operation\ =\ std::function<void(T*)>;}
\DoxyCodeLine{00891\ \ \ \textcolor{keyword}{using\ }Contract\ =\ std::function<AssertionResult(T*)>;}
\DoxyCodeLine{00892\ }
\DoxyCodeLine{00893\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00894\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ Contracts>}
\DoxyCodeLine{00895\ \ \ \textcolor{keyword}{explicit}\ ExceptionSafetyTest(\textcolor{keyword}{const}\ Factory\&\ f,\ \textcolor{keyword}{const}\ Operation\&\ op,}
\DoxyCodeLine{00896\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Contracts\&...\ contracts)}
\DoxyCodeLine{00897\ \ \ \ \ \ \ :\ factory\_(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca8fa14cdd754f91cc6554c9e71929cce7}{f}}),\ operation\_(op),\ contracts\_\{WrapContract(contracts)...\}\ \{\}}
\DoxyCodeLine{00898\ }
\DoxyCodeLine{00899\ \ \ AssertionResult\ Test()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00900\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_ad43c3812e6d13e0518d9f8b8f463ffcf}{count}}\ =\ 0;;\ ++\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_ad43c3812e6d13e0518d9f8b8f463ffcf}{count}})\ \{}
\DoxyCodeLine{00901\ \ \ \ \ \ \ exceptions\_internal::ConstructorTracker\ ct(\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_ad43c3812e6d13e0518d9f8b8f463ffcf}{count}});}
\DoxyCodeLine{00902\ }
\DoxyCodeLine{00903\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{const}\ \textcolor{keyword}{auto}\&\ contract\ :\ contracts\_)\ \{}
\DoxyCodeLine{00904\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ t\_ptr\ =\ factory\_();}
\DoxyCodeLine{00905\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{try}\ \{}
\DoxyCodeLine{00906\ \ \ \ \ \ \ \ \ \ \ SetCountdown(\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_ad43c3812e6d13e0518d9f8b8f463ffcf}{count}});}
\DoxyCodeLine{00907\ \ \ \ \ \ \ \ \ \ \ operation\_(t\_ptr.get());}
\DoxyCodeLine{00908\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Unset\ for\ the\ case\ that\ the\ operation\ throws\ no\ exceptions,\ which}}
\DoxyCodeLine{00909\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ would\ leave\ the\ countdown\ set\ and\ break\ the\ *next*\ exception\ safety}}
\DoxyCodeLine{00910\ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ test\ after\ this\ one.}}
\DoxyCodeLine{00911\ \ \ \ \ \ \ \ \ \ \ UnsetCountdown();}
\DoxyCodeLine{00912\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ AssertionSuccess();}
\DoxyCodeLine{00913\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{catch}\ (\textcolor{keyword}{const}\ exceptions\_internal::TestException\&\ e)\ \{}
\DoxyCodeLine{00914\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!contract(t\_ptr.get()))\ \{}
\DoxyCodeLine{00915\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ AssertionFailure()\ <<\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8acae1671797c52e15f763380b45e841ec32}{e}}.what()\ <<\ \textcolor{stringliteral}{"{}\ failed\ contract\ check"{}};}
\DoxyCodeLine{00916\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00917\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00918\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00919\ \ \ \ \ \}}
\DoxyCodeLine{00920\ \ \ \}}
\DoxyCodeLine{00921\ }
\DoxyCodeLine{00922\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00923\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ ContractFn>}
\DoxyCodeLine{00924\ \ \ Contract\ WrapContract(\textcolor{keyword}{const}\ ContractFn\&\ contract)\ \{}
\DoxyCodeLine{00925\ \ \ \ \ \textcolor{keywordflow}{return}\ [contract](T*\ t\_ptr)\ \{\ \textcolor{keywordflow}{return}\ AssertionResult(contract(t\_ptr));\ \};}
\DoxyCodeLine{00926\ \ \ \}}
\DoxyCodeLine{00927\ }
\DoxyCodeLine{00928\ \ \ Contract\ WrapContract(StrongGuaranteeTagType)\ \{}
\DoxyCodeLine{00929\ \ \ \ \ \textcolor{keywordflow}{return}\ [\textcolor{keyword}{this}](T*\ t\_ptr)\ \{\ \textcolor{keywordflow}{return}\ AssertionResult(*factory\_()\ ==\ *t\_ptr);\ \};}
\DoxyCodeLine{00930\ \ \ \}}
\DoxyCodeLine{00931\ }
\DoxyCodeLine{00932\ \ \ Factory\ factory\_;}
\DoxyCodeLine{00933\ \ \ Operation\ operation\_;}
\DoxyCodeLine{00934\ \ \ std::vector<Contract>\ contracts\_;}
\DoxyCodeLine{00935\ \};}
\DoxyCodeLine{00936\ }
\DoxyCodeLine{00937\ \textcolor{comment}{/*}}
\DoxyCodeLine{00938\ \textcolor{comment}{\ *\ Builds\ a\ tester\ object\ that\ tests\ if\ performing\ a\ operation\ on\ a\ T\ follows}}
\DoxyCodeLine{00939\ \textcolor{comment}{\ *\ exception\ safety\ guarantees.\ Verification\ is\ done\ via\ contract\ assertion}}
\DoxyCodeLine{00940\ \textcolor{comment}{\ *\ callbacks\ applied\ to\ T\ instances\ post-\/throw.}}
\DoxyCodeLine{00941\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00942\ \textcolor{comment}{\ *\ Template\ parameters\ for\ ExceptionSafetyTestBuilder:}}
\DoxyCodeLine{00943\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00944\ \textcolor{comment}{\ *\ -\/\ Factory:\ The\ factory\ object\ (passed\ in\ via\ tester.WithFactory(...)\ or}}
\DoxyCodeLine{00945\ \textcolor{comment}{\ *\ \ \ tester.WithInitialValue(...))\ must\ be\ invocable\ with\ the\ signature}}
\DoxyCodeLine{00946\ \textcolor{comment}{\ *\ \ \ \`{}std::unique\_ptr<T>\ operator()()\ const`\ where\ T\ is\ the\ type\ being\ tested.}}
\DoxyCodeLine{00947\ \textcolor{comment}{\ *\ \ \ It\ is\ used\ for\ reliably\ creating\ identical\ T\ instances\ to\ test\ on.}}
\DoxyCodeLine{00948\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00949\ \textcolor{comment}{\ *\ -\/\ Operation:\ The\ operation\ object\ (passed\ in\ via\ tester.WithOperation(...)}}
\DoxyCodeLine{00950\ \textcolor{comment}{\ *\ \ \ or\ tester.Test(...))\ must\ be\ invocable\ with\ the\ signature}}
\DoxyCodeLine{00951\ \textcolor{comment}{\ *\ \ \ \`{}void\ operator()(T*)\ const`\ where\ T\ is\ the\ type\ being\ tested.\ It\ is\ used}}
\DoxyCodeLine{00952\ \textcolor{comment}{\ *\ \ \ for\ performing\ steps\ on\ a\ T\ instance\ that\ may\ throw\ and\ that\ need\ to\ be}}
\DoxyCodeLine{00953\ \textcolor{comment}{\ *\ \ \ checked\ for\ exception\ safety.\ Each\ call\ to\ the\ operation\ will\ receive\ a}}
\DoxyCodeLine{00954\ \textcolor{comment}{\ *\ \ \ fresh\ T\ instance\ so\ it's\ free\ to\ modify\ and\ destroy\ the\ T\ instances\ as\ it}}
\DoxyCodeLine{00955\ \textcolor{comment}{\ *\ \ \ pleases.}}
\DoxyCodeLine{00956\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00957\ \textcolor{comment}{\ *\ -\/\ Contracts...:\ The\ contract\ assertion\ callback\ objects\ (passed\ in\ via}}
\DoxyCodeLine{00958\ \textcolor{comment}{\ *\ \ \ tester.WithContracts(...))\ must\ be\ invocable\ with\ the\ signature}}
\DoxyCodeLine{00959\ \textcolor{comment}{\ *\ \ \ \`{}testing::AssertionResult\ operator()(T*)\ const`\ where\ T\ is\ the\ type\ being}}
\DoxyCodeLine{00960\ \textcolor{comment}{\ *\ \ \ tested.\ Contract\ assertion\ callbacks\ are\ provided\ T\ instances\ post-\/throw.}}
\DoxyCodeLine{00961\ \textcolor{comment}{\ *\ \ \ They\ must\ return\ testing::AssertionSuccess\ when\ the\ type\ contracts\ of\ the}}
\DoxyCodeLine{00962\ \textcolor{comment}{\ *\ \ \ provided\ T\ instance\ hold.\ If\ the\ type\ contracts\ of\ the\ T\ instance\ do\ not}}
\DoxyCodeLine{00963\ \textcolor{comment}{\ *\ \ \ hold,\ they\ must\ return\ testing::AssertionFailure.\ Execution\ order\ of}}
\DoxyCodeLine{00964\ \textcolor{comment}{\ *\ \ \ Contracts...\ is\ unspecified.\ They\ will\ each\ individually\ get\ a\ fresh\ T}}
\DoxyCodeLine{00965\ \textcolor{comment}{\ *\ \ \ instance\ so\ they\ are\ free\ to\ modify\ and\ destroy\ the\ T\ instances\ as\ they}}
\DoxyCodeLine{00966\ \textcolor{comment}{\ *\ \ \ please.}}
\DoxyCodeLine{00967\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00968\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Factory,\ \textcolor{keyword}{typename}\ Operation,\ \textcolor{keyword}{typename}...\ Contracts>}
\DoxyCodeLine{00969\ \textcolor{keyword}{class\ }ExceptionSafetyTestBuilder\ \{}
\DoxyCodeLine{00970\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00971\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00972\ \textcolor{comment}{\ \ \ *\ Returns\ a\ new\ ExceptionSafetyTestBuilder\ with\ an\ included\ T\ factory\ based}}
\DoxyCodeLine{00973\ \textcolor{comment}{\ \ \ *\ on\ the\ provided\ T\ instance.\ The\ existing\ factory\ will\ not\ be\ included\ in}}
\DoxyCodeLine{00974\ \textcolor{comment}{\ \ \ *\ the\ newly\ created\ tester\ instance.\ The\ created\ factory\ returns\ a\ new\ T}}
\DoxyCodeLine{00975\ \textcolor{comment}{\ \ \ *\ instance\ by\ copy-\/constructing\ the\ provided\ const\ T\&\ t.}}
\DoxyCodeLine{00976\ \textcolor{comment}{\ \ \ *}}
\DoxyCodeLine{00977\ \textcolor{comment}{\ \ \ *\ Preconditions\ for\ tester.WithInitialValue(const\ T\&\ t):}}
\DoxyCodeLine{00978\ \textcolor{comment}{\ \ \ *}}
\DoxyCodeLine{00979\ \textcolor{comment}{\ \ \ *\ -\/\ The\ const\ T\&\ t\ object\ must\ be\ copy-\/constructible\ where\ T\ is\ the\ type}}
\DoxyCodeLine{00980\ \textcolor{comment}{\ \ \ *\ \ \ being\ tested.\ For\ non-\/copy-\/constructible\ objects,\ use\ the\ method}}
\DoxyCodeLine{00981\ \textcolor{comment}{\ \ \ *\ \ \ tester.WithFactory(...).}}
\DoxyCodeLine{00982\ \textcolor{comment}{\ \ \ */}}
\DoxyCodeLine{00983\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00984\ \ \ ExceptionSafetyTestBuilder<DefaultFactory<T>,\ Operation,\ Contracts...>}
\DoxyCodeLine{00985\ \ \ WithInitialValue(\textcolor{keyword}{const}\ T\&\ t)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00986\ \ \ \ \ \textcolor{keywordflow}{return}\ WithFactory(DefaultFactory<T>(t));}
\DoxyCodeLine{00987\ \ \ \}}
\DoxyCodeLine{00988\ }
\DoxyCodeLine{00989\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{00990\ \textcolor{comment}{\ \ \ *\ Returns\ a\ new\ ExceptionSafetyTestBuilder\ with\ the\ provided\ T\ factory}}
\DoxyCodeLine{00991\ \textcolor{comment}{\ \ \ *\ included.\ The\ existing\ factory\ will\ not\ be\ included\ in\ the\ newly-\/created}}
\DoxyCodeLine{00992\ \textcolor{comment}{\ \ \ *\ tester\ instance.\ This\ method\ is\ intended\ for\ use\ with\ types\ lacking\ a\ copy}}
\DoxyCodeLine{00993\ \textcolor{comment}{\ \ \ *\ constructor.\ Types\ that\ can\ be\ copy-\/constructed\ should\ instead\ use\ the}}
\DoxyCodeLine{00994\ \textcolor{comment}{\ \ \ *\ method\ tester.WithInitialValue(...).}}
\DoxyCodeLine{00995\ \textcolor{comment}{\ \ \ */}}
\DoxyCodeLine{00996\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ NewFactory>}
\DoxyCodeLine{00997\ \ \ ExceptionSafetyTestBuilder<absl::decay\_t<NewFactory>,\ Operation,\ Contracts...>}
\DoxyCodeLine{00998\ \ \ WithFactory(\textcolor{keyword}{const}\ NewFactory\&\ new\_factory)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00999\ \ \ \ \ \textcolor{keywordflow}{return}\ \{new\_factory,\ operation\_,\ contracts\_\};}
\DoxyCodeLine{01000\ \ \ \}}
\DoxyCodeLine{01001\ }
\DoxyCodeLine{01002\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{01003\ \textcolor{comment}{\ \ \ *\ Returns\ a\ new\ ExceptionSafetyTestBuilder\ with\ the\ provided\ testable}}
\DoxyCodeLine{01004\ \textcolor{comment}{\ \ \ *\ operation\ included.\ The\ existing\ operation\ will\ not\ be\ included\ in\ the}}
\DoxyCodeLine{01005\ \textcolor{comment}{\ \ \ *\ newly\ created\ tester.}}
\DoxyCodeLine{01006\ \textcolor{comment}{\ \ \ */}}
\DoxyCodeLine{01007\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ NewOperation>}
\DoxyCodeLine{01008\ \ \ ExceptionSafetyTestBuilder<Factory,\ absl::decay\_t<NewOperation>,\ Contracts...>}
\DoxyCodeLine{01009\ \ \ WithOperation(\textcolor{keyword}{const}\ NewOperation\&\ new\_operation)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01010\ \ \ \ \ \textcolor{keywordflow}{return}\ \{factory\_,\ new\_operation,\ contracts\_\};}
\DoxyCodeLine{01011\ \ \ \}}
\DoxyCodeLine{01012\ }
\DoxyCodeLine{01013\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{01014\ \textcolor{comment}{\ \ \ *\ Returns\ a\ new\ ExceptionSafetyTestBuilder\ with\ the\ provided\ MoreContracts...}}
\DoxyCodeLine{01015\ \textcolor{comment}{\ \ \ *\ combined\ with\ the\ Contracts...\ that\ were\ already\ included\ in\ the\ instance}}
\DoxyCodeLine{01016\ \textcolor{comment}{\ \ \ *\ on\ which\ the\ method\ was\ called.\ Contracts...\ cannot\ be\ removed\ or\ replaced}}
\DoxyCodeLine{01017\ \textcolor{comment}{\ \ \ *\ once\ added\ to\ an\ ExceptionSafetyTestBuilder\ instance.\ A\ fresh\ object\ must}}
\DoxyCodeLine{01018\ \textcolor{comment}{\ \ \ *\ be\ created\ in\ order\ to\ get\ an\ empty\ Contracts...\ list.}}
\DoxyCodeLine{01019\ \textcolor{comment}{\ \ \ *}}
\DoxyCodeLine{01020\ \textcolor{comment}{\ \ \ *\ In\ addition\ to\ passing\ in\ custom\ contract\ assertion\ callbacks,\ this\ method}}
\DoxyCodeLine{01021\ \textcolor{comment}{\ \ \ *\ accepts\ \`{}testing::strong\_guarantee`\ as\ an\ argument\ which\ checks\ T\ instances}}
\DoxyCodeLine{01022\ \textcolor{comment}{\ \ \ *\ post-\/throw\ against\ freshly\ created\ T\ instances\ via\ operator==\ to\ verify}}
\DoxyCodeLine{01023\ \textcolor{comment}{\ \ \ *\ that\ any\ state\ changes\ made\ during\ the\ execution\ of\ the\ operation\ were}}
\DoxyCodeLine{01024\ \textcolor{comment}{\ \ \ *\ properly\ rolled\ back.}}
\DoxyCodeLine{01025\ \textcolor{comment}{\ \ \ */}}
\DoxyCodeLine{01026\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}...\ MoreContracts>}
\DoxyCodeLine{01027\ \ \ ExceptionSafetyTestBuilder<Factory,\ Operation,\ Contracts...,}
\DoxyCodeLine{01028\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_af47101d71bf50fda2b5cb36d43a38f2a}{absl::decay\_t<MoreContracts>}}...>}
\DoxyCodeLine{01029\ \ \ WithContracts(\textcolor{keyword}{const}\ MoreContracts\&...\ more\_contracts)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01030\ \ \ \ \ \textcolor{keywordflow}{return}\ \{}
\DoxyCodeLine{01031\ \ \ \ \ \ \ \ \ factory\_,\ operation\_,}
\DoxyCodeLine{01032\ \ \ \ \ \ \ \ \ std::tuple\_cat(contracts\_,\ std::tuple<\mbox{\hyperlink{namespaceabsl_af47101d71bf50fda2b5cb36d43a38f2a}{absl::decay\_t<MoreContracts>}}...>(}
\DoxyCodeLine{01033\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ more\_contracts...))\};}
\DoxyCodeLine{01034\ \ \ \}}
\DoxyCodeLine{01035\ }
\DoxyCodeLine{01036\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{01037\ \textcolor{comment}{\ \ \ *\ Returns\ a\ testing::AssertionResult\ that\ is\ the\ reduced\ result\ of\ the}}
\DoxyCodeLine{01038\ \textcolor{comment}{\ \ \ *\ exception\ safety\ algorithm.\ The\ algorithm\ short\ circuits\ and\ returns}}
\DoxyCodeLine{01039\ \textcolor{comment}{\ \ \ *\ AssertionFailure\ after\ the\ first\ contract\ callback\ returns\ an}}
\DoxyCodeLine{01040\ \textcolor{comment}{\ \ \ *\ AssertionFailure.\ Otherwise,\ if\ all\ contract\ callbacks\ return\ an}}
\DoxyCodeLine{01041\ \textcolor{comment}{\ \ \ *\ AssertionSuccess,\ the\ reduced\ result\ is\ AssertionSuccess.}}
\DoxyCodeLine{01042\ \textcolor{comment}{\ \ \ *}}
\DoxyCodeLine{01043\ \textcolor{comment}{\ \ \ *\ The\ passed-\/in\ testable\ operation\ will\ not\ be\ saved\ in\ a\ new\ tester\ instance}}
\DoxyCodeLine{01044\ \textcolor{comment}{\ \ \ *\ nor\ will\ it\ modify/replace\ the\ existing\ tester\ instance.\ This\ is\ useful}}
\DoxyCodeLine{01045\ \textcolor{comment}{\ \ \ *\ when\ each\ operation\ being\ tested\ is\ unique\ and\ does\ not\ need\ to\ be\ reused.}}
\DoxyCodeLine{01046\ \textcolor{comment}{\ \ \ *}}
\DoxyCodeLine{01047\ \textcolor{comment}{\ \ \ *\ Preconditions\ for\ tester.Test(const\ NewOperation\&\ new\_operation):}}
\DoxyCodeLine{01048\ \textcolor{comment}{\ \ \ *}}
\DoxyCodeLine{01049\ \textcolor{comment}{\ \ \ *\ -\/\ May\ only\ be\ called\ after\ at\ least\ one\ contract\ assertion\ callback\ and\ a}}
\DoxyCodeLine{01050\ \textcolor{comment}{\ \ \ *\ \ \ factory\ or\ initial\ value\ have\ been\ provided.}}
\DoxyCodeLine{01051\ \textcolor{comment}{\ \ \ */}}
\DoxyCodeLine{01052\ \ \ \textcolor{keyword}{template}\ <}
\DoxyCodeLine{01053\ \ \ \ \ \ \ \textcolor{keyword}{typename}\ NewOperation,}
\DoxyCodeLine{01054\ \ \ \ \ \ \ \textcolor{keyword}{typename}\ =\ EnableIfTestable<\textcolor{keyword}{sizeof}...(Contracts),\ Factory,\ NewOperation>>}
\DoxyCodeLine{01055\ \ \ testing::AssertionResult\ Test(\textcolor{keyword}{const}\ NewOperation\&\ new\_operation)\ \textcolor{keyword}{const}\ \{}
\DoxyCodeLine{01056\ \ \ \ \ \textcolor{keywordflow}{return}\ TestImpl(new\_operation,\ absl::index\_sequence\_for<Contracts...>());}
\DoxyCodeLine{01057\ \ \ \}}
\DoxyCodeLine{01058\ }
\DoxyCodeLine{01059\ \ \ \textcolor{comment}{/*}}
\DoxyCodeLine{01060\ \textcolor{comment}{\ \ \ *\ Returns\ a\ testing::AssertionResult\ that\ is\ the\ reduced\ result\ of\ the}}
\DoxyCodeLine{01061\ \textcolor{comment}{\ \ \ *\ exception\ safety\ algorithm.\ The\ algorithm\ short\ circuits\ and\ returns}}
\DoxyCodeLine{01062\ \textcolor{comment}{\ \ \ *\ AssertionFailure\ after\ the\ first\ contract\ callback\ returns\ an}}
\DoxyCodeLine{01063\ \textcolor{comment}{\ \ \ *\ AssertionFailure.\ Otherwise,\ if\ all\ contract\ callbacks\ return\ an}}
\DoxyCodeLine{01064\ \textcolor{comment}{\ \ \ *\ AssertionSuccess,\ the\ reduced\ result\ is\ AssertionSuccess.}}
\DoxyCodeLine{01065\ \textcolor{comment}{\ \ \ *}}
\DoxyCodeLine{01066\ \textcolor{comment}{\ \ \ *\ Preconditions\ for\ tester.Test():}}
\DoxyCodeLine{01067\ \textcolor{comment}{\ \ \ *}}
\DoxyCodeLine{01068\ \textcolor{comment}{\ \ \ *\ -\/\ May\ only\ be\ called\ after\ at\ least\ one\ contract\ assertion\ callback,\ a}}
\DoxyCodeLine{01069\ \textcolor{comment}{\ \ \ *\ \ \ factory\ or\ initial\ value\ and\ a\ testable\ operation\ have\ been\ provided.}}
\DoxyCodeLine{01070\ \textcolor{comment}{\ \ \ */}}
\DoxyCodeLine{01071\ \ \ \textcolor{keyword}{template}\ <}
\DoxyCodeLine{01072\ \ \ \ \ \ \ \textcolor{keyword}{typename}\ LazyOperation\ =\ Operation,}
\DoxyCodeLine{01073\ \ \ \ \ \ \ \textcolor{keyword}{typename}\ =\ EnableIfTestable<\textcolor{keyword}{sizeof}...(Contracts),\ Factory,\ LazyOperation>>}
\DoxyCodeLine{01074\ \ \ testing::AssertionResult\ Test()\ \textcolor{keyword}{const}\ \{}
\DoxyCodeLine{01075\ \ \ \ \ \textcolor{keywordflow}{return}\ Test(operation\_);}
\DoxyCodeLine{01076\ \ \ \}}
\DoxyCodeLine{01077\ }
\DoxyCodeLine{01078\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{01079\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename},\ \textcolor{keyword}{typename},\ \textcolor{keyword}{typename}...>}
\DoxyCodeLine{01080\ \ \ \textcolor{keyword}{friend}\ \textcolor{keyword}{class\ }ExceptionSafetyTestBuilder;}
\DoxyCodeLine{01081\ }
\DoxyCodeLine{01082\ \ \ \textcolor{keyword}{friend}\ ExceptionSafetyTestBuilder<>\ testing::MakeExceptionSafetyTester();}
\DoxyCodeLine{01083\ }
\DoxyCodeLine{01084\ \ \ ExceptionSafetyTestBuilder()\ \{\}}
\DoxyCodeLine{01085\ }
\DoxyCodeLine{01086\ \ \ ExceptionSafetyTestBuilder(\textcolor{keyword}{const}\ Factory\&\ f,\ \textcolor{keyword}{const}\ Operation\&\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2parser__test_8cc_a0d49472070872337a386fae346d4ff78}{o}},}
\DoxyCodeLine{01087\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ std::tuple<Contracts...>\&\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}})}
\DoxyCodeLine{01088\ \ \ \ \ \ \ :\ factory\_(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca8fa14cdd754f91cc6554c9e71929cce7}{f}}),\ operation\_(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2parser__test_8cc_a0d49472070872337a386fae346d4ff78}{o}}),\ contracts\_(\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}})\ \{\}}
\DoxyCodeLine{01089\ }
\DoxyCodeLine{01090\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ SelectedOperation,\ \textcolor{keywordtype}{size\_t}...\ Indices>}
\DoxyCodeLine{01091\ \ \ testing::AssertionResult\ TestImpl(SelectedOperation\ selected\_operation,}
\DoxyCodeLine{01092\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ absl::index\_sequence<Indices...>)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01093\ \ \ \ \ \textcolor{keywordflow}{return}\ ExceptionSafetyTest<FactoryElementType<Factory>>(}
\DoxyCodeLine{01094\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ factory\_,\ selected\_operation,\ std::get<Indices>(contracts\_)...)}
\DoxyCodeLine{01095\ \ \ \ \ \ \ \ \ .Test();}
\DoxyCodeLine{01096\ \ \ \}}
\DoxyCodeLine{01097\ }
\DoxyCodeLine{01098\ \ \ Factory\ factory\_;}
\DoxyCodeLine{01099\ \ \ Operation\ operation\_;}
\DoxyCodeLine{01100\ \ \ std::tuple<Contracts...>\ contracts\_;}
\DoxyCodeLine{01101\ \};}
\DoxyCodeLine{01102\ }
\DoxyCodeLine{01103\ \}\ \ \textcolor{comment}{//\ namespace\ exceptions\_internal}}
\DoxyCodeLine{01104\ }
\DoxyCodeLine{01105\ \}\ \ \textcolor{comment}{//\ namespace\ testing}}
\DoxyCodeLine{01106\ }
\DoxyCodeLine{01107\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ ABSL\_HAVE\_EXCEPTIONS}}
\DoxyCodeLine{01108\ }
\DoxyCodeLine{01109\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ ABSL\_BASE\_INTERNAL\_EXCEPTION\_SAFETY\_TESTING\_H\_}}

\end{DoxyCode}
