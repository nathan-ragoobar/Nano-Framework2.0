\doxysection{Skyline\+Inplace\+LU.\+h}
\hypertarget{OriginalStuff_2eigen_2unsupported_2Eigen_2src_2Skyline_2SkylineInplaceLU_8h_source}{}\label{OriginalStuff_2eigen_2unsupported_2Eigen_2src_2Skyline_2SkylineInplaceLU_8h_source}\index{OriginalStuff/eigen/unsupported/Eigen/src/Skyline/SkylineInplaceLU.h@{OriginalStuff/eigen/unsupported/Eigen/src/Skyline/SkylineInplaceLU.h}}
\mbox{\hyperlink{OriginalStuff_2eigen_2unsupported_2Eigen_2src_2Skyline_2SkylineInplaceLU_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ This\ file\ is\ part\ of\ Eigen,\ a\ lightweight\ C++\ template\ library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ for\ linear\ algebra.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Copyright\ (C)\ 2008\ Guillaume\ Saupin\ <guillaume.saupin@cea.fr>}}
\DoxyCodeLine{00005\ \textcolor{comment}{//}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ This\ Source\ Code\ Form\ is\ subject\ to\ the\ terms\ of\ the\ Mozilla}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ Public\ License\ v.\ 2.0.\ If\ a\ copy\ of\ the\ MPL\ was\ not\ distributed}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ with\ this\ file,\ You\ can\ obtain\ one\ at\ http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_SKYLINEINPLACELU\_H}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#define\ EIGEN\_SKYLINEINPLACELU\_H}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceEigen}{Eigen}}\ \{\ }
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00024\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ MatrixType>}
\DoxyCodeLine{00025\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classEigen_1_1SkylineInplaceLU}{SkylineInplaceLU}}\ \{}
\DoxyCodeLine{00026\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00027\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ MatrixType::Scalar\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a45f73a46e9c9e8d151eead7eaa86d9f3}{Scalar}};}
\DoxyCodeLine{00028\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ MatrixType::Index\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a769c9223e1c10c32665757f9992cd7bf}{Index}};}
\DoxyCodeLine{00029\ \ \ \ \ }
\DoxyCodeLine{00030\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1GenericNumTraits_abca8573812593670795c41f22aa9d5e2}{NumTraits<typename\ MatrixType::Scalar>::Real}}\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_ae4492cf47f58cc7bc853ae3efb0a4aa2}{RealScalar}};}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00036\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_ac76b9384281e73b86b80f770015cf436}{SkylineInplaceLU}}(MatrixType\&\ matrix,\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal}{flags}}\ =\ 0)}
\DoxyCodeLine{00037\ \ \ \ \ :\ \textcolor{comment}{/*m\_matrix(matrix.rows(),\ matrix.cols()),*/}\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a12a06e21f5d2ca69c29b5a18adce5667}{m\_flags}}(\mbox{\hyperlink{namespaceabsl_1_1flags__internal}{flags}}),\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a7af77a07a77dad5299280984223f38fb}{m\_status}}(0),\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a6cb154ca0789828e2082c2cfcb847811}{m\_lu}}(matrix)\ \{}
\DoxyCodeLine{00038\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a7b138817409be072da8e038e90f660f8}{m\_precision}}\ =\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_ae4492cf47f58cc7bc853ae3efb0a4aa2}{RealScalar}}(0.1)\ *\ Eigen::dummy\_precision<RealScalar\ >\ ();}
\DoxyCodeLine{00039\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a6cb154ca0789828e2082c2cfcb847811}{m\_lu}}.IsRowMajor\ ?\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a218636f299e9c066a07cb4be660267d1}{computeRowMajor}}()\ :\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a590e9a988b2843712a29a541787e6c38}{compute}}();}
\DoxyCodeLine{00040\ \ \ \ \ \}}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00052\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a1c057a7dec39b8b196d49d7d411ea999}{setPrecision}}(\mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_ae4492cf47f58cc7bc853ae3efb0a4aa2}{RealScalar}}\ v)\ \{}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a7b138817409be072da8e038e90f660f8}{m\_precision}}\ =\ v;}
\DoxyCodeLine{00054\ \ \ \ \ \}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00059\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_ae4492cf47f58cc7bc853ae3efb0a4aa2}{RealScalar}}\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a050bcbe008f2ddeea4f6d5872e0daca5}{precision}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00060\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a7b138817409be072da8e038e90f660f8}{m\_precision}};}
\DoxyCodeLine{00061\ \ \ \ \ \}}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00071\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_afd8013d183aaca495dfd10d819e61aaf}{setFlags}}(\textcolor{keywordtype}{int}\ f)\ \{}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a12a06e21f5d2ca69c29b5a18adce5667}{m\_flags}}\ =\ f;}
\DoxyCodeLine{00073\ \ \ \ \ \}}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00076\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a5e491f7643c548ac81d3f4a7e432be19}{flags}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a12a06e21f5d2ca69c29b5a18adce5667}{m\_flags}};}
\DoxyCodeLine{00078\ \ \ \ \ \}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a6709f4ee810842009a66b47f20dbbfd0}{setOrderingMethod}}(\textcolor{keywordtype}{int}\ m)\ \{}
\DoxyCodeLine{00081\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a12a06e21f5d2ca69c29b5a18adce5667}{m\_flags}}\ =\ m;}
\DoxyCodeLine{00082\ \ \ \ \ \}}
\DoxyCodeLine{00083\ }
\DoxyCodeLine{00084\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_ad7721922f4187358740de21788a4495d}{orderingMethod}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00085\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a12a06e21f5d2ca69c29b5a18adce5667}{m\_flags}};}
\DoxyCodeLine{00086\ \ \ \ \ \}}
\DoxyCodeLine{00087\ }
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a590e9a988b2843712a29a541787e6c38}{compute}}();}
\DoxyCodeLine{00090\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a218636f299e9c066a07cb4be660267d1}{computeRowMajor}}();}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00093\ \ \ \ \ \textcolor{comment}{//inline\ const\ MatrixType\&\ matrixL()\ const\ \{\ return\ m\_matrixL;\ \}}}
\DoxyCodeLine{00094\ }
\DoxyCodeLine{00096\ \ \ \ \ \textcolor{comment}{//inline\ const\ MatrixType\&\ matrixU()\ const\ \{\ return\ m\_matrixU;\ \}}}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ BDerived,\ \textcolor{keyword}{typename}\ XDerived>}
\DoxyCodeLine{00099\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a53c846d76559221d2bcf336a2da4d68f}{solve}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<BDerived>}}\ \&\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}},\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<XDerived>}}*\ x,}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ transposed\ =\ 0)\ \textcolor{keyword}{const};}
\DoxyCodeLine{00101\ }
\DoxyCodeLine{00103\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_abd633c27a0a342fb392b6af3ceb800ba}{succeeded}}(\textcolor{keywordtype}{void})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00104\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a63b145c975567bf3acf30608a018fbca}{m\_succeeded}};}
\DoxyCodeLine{00105\ \ \ \ \ \}}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00108\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_ae4492cf47f58cc7bc853ae3efb0a4aa2}{RealScalar}}\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a7b138817409be072da8e038e90f660f8}{m\_precision}};}
\DoxyCodeLine{00109\ \ \ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a12a06e21f5d2ca69c29b5a18adce5667}{m\_flags}};}
\DoxyCodeLine{00110\ \ \ \ \ \textcolor{keyword}{mutable}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a7af77a07a77dad5299280984223f38fb}{m\_status}};}
\DoxyCodeLine{00111\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a63b145c975567bf3acf30608a018fbca}{m\_succeeded}};}
\DoxyCodeLine{00112\ \ \ \ \ MatrixType\&\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a6cb154ca0789828e2082c2cfcb847811}{m\_lu}};}
\DoxyCodeLine{00113\ \};}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00118\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ MatrixType>}
\DoxyCodeLine{00119\ \textcolor{comment}{//template<typename\ \_Scalar>}}
\DoxyCodeLine{00120\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a590e9a988b2843712a29a541787e6c38}{SkylineInplaceLU<MatrixType>::compute}}()\ \{}
\DoxyCodeLine{00121\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ rows\ =\ m\_lu.rows();}
\DoxyCodeLine{00122\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ cols\ =\ m\_lu.cols();}
\DoxyCodeLine{00123\ }
\DoxyCodeLine{00124\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(rows\ ==\ cols\ \&\&\ \textcolor{stringliteral}{"{}We\ do\ not\ (yet)\ support\ rectangular\ LU."{}});}
\DoxyCodeLine{00125\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(!m\_lu.IsRowMajor\ \&\&\ \textcolor{stringliteral}{"{}LU\ decomposition\ does\ not\ work\ with\ rowMajor\ Storage"{}});}
\DoxyCodeLine{00126\ }
\DoxyCodeLine{00127\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}}\ =\ 0;\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}}\ <\ rows;\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}}++)\ \{}
\DoxyCodeLine{00128\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ pivot\ =\ m\_lu.coeffDiag(\mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}});}
\DoxyCodeLine{00129\ }
\DoxyCodeLine{00130\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Lower\ matrix\ Columns\ update}}
\DoxyCodeLine{00131\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\&\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}}\ =\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}};}
\DoxyCodeLine{00132\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keyword}{typename}\ MatrixType::InnerLowerIterator\ lIt(m\_lu,\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}});\ lIt;\ ++lIt)\ \{}
\DoxyCodeLine{00133\ \ \ \ \ \ \ \ \ \ \ \ \ lIt.valueRef()\ /=\ pivot;}
\DoxyCodeLine{00134\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Upper\ matrix\ update\ -\/>\ contiguous\ memory\ access}}
\DoxyCodeLine{00137\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ MatrixType::InnerLowerIterator\ lIt(m\_lu,\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}});}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ rrow\ =\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}}\ +\ 1;\ rrow\ <\ m\_lu.rows();\ rrow++)\ \{}
\DoxyCodeLine{00139\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ MatrixType::InnerUpperIterator\ uItPivot(m\_lu,\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}});}
\DoxyCodeLine{00140\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ MatrixType::InnerUpperIterator\ uIt(m\_lu,\ rrow);}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ coef\ =\ lIt.value();}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \ \ \ \ \ \ \ \ \ \ \ uItPivot\ +=\ (rrow\ -\/\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}}\ -\/\ 1);}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//update\ upper\ part\ \ -\/>\ contiguous\ memory\ access}}
\DoxyCodeLine{00146\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (++uItPivot;\ uIt\ \&\&\ uItPivot;)\ \{}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uIt.valueRef()\ -\/=\ uItPivot.value()\ *\ coef;}
\DoxyCodeLine{00148\ }
\DoxyCodeLine{00149\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++uIt;}
\DoxyCodeLine{00150\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++uItPivot;}
\DoxyCodeLine{00151\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ ++lIt;}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00154\ }
\DoxyCodeLine{00155\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Upper\ matrix\ update\ -\/>\ non\ contiguous\ memory\ access}}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ MatrixType::InnerLowerIterator\ lIt3(m\_lu,\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}});}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ rrow\ =\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}}\ +\ 1;\ rrow\ <\ m\_lu.rows();\ rrow++)\ \{}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ MatrixType::InnerUpperIterator\ uItPivot(m\_lu,\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}});}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ coef\ =\ lIt3.value();}
\DoxyCodeLine{00160\ }
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//update\ lower\ part\ -\/>\ \ non\ contiguous\ memory\ access}}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ =\ 0;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ <\ rrow\ -\/\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}}\ -\/\ 1;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}++)\ \{}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_lu.coeffRefLower(rrow,\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}}\ +\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ +\ 1)\ -\/=\ uItPivot.value()\ *\ coef;}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++uItPivot;}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \ \ \ \ \ \ ++lIt3;}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \ \ \textcolor{comment}{//update\ diag\ -\/>\ contiguous}}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ MatrixType::InnerLowerIterator\ lIt2(m\_lu,\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}});}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ rrow\ =\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}}\ +\ 1;\ rrow\ <\ m\_lu.rows();\ rrow++)\ \{}
\DoxyCodeLine{00171\ }
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ MatrixType::InnerUpperIterator\ uItPivot(m\_lu,\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}});}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ MatrixType::InnerUpperIterator\ uIt(m\_lu,\ rrow);}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ coef\ =\ lIt2.value();}
\DoxyCodeLine{00175\ }
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \ \ \ \ uItPivot\ +=\ (rrow\ -\/\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}}\ -\/\ 1);}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \ \ m\_lu.coeffRefDiag(rrow)\ -\/=\ uItPivot.value()\ *\ coef;}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \ \ \ \ \ \ ++lIt2;}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00180\ \ \ \ \ \}}
\DoxyCodeLine{00181\ \}}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00183\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ MatrixType>}
\DoxyCodeLine{00184\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a218636f299e9c066a07cb4be660267d1}{SkylineInplaceLU<MatrixType>::computeRowMajor}}()\ \{}
\DoxyCodeLine{00185\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ rows\ =\ m\_lu.rows();}
\DoxyCodeLine{00186\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ cols\ =\ m\_lu.cols();}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(rows\ ==\ cols\ \&\&\ \textcolor{stringliteral}{"{}We\ do\ not\ (yet)\ support\ rectangular\ LU."{}});}
\DoxyCodeLine{00189\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(m\_lu.IsRowMajor\ \&\&\ \textcolor{stringliteral}{"{}You're\ trying\ to\ apply\ rowMajor\ decomposition\ on\ a\ ColMajor\ matrix\ !"{}});}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00191\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}}\ =\ 0;\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}}\ <\ rows;\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}}++)\ \{}
\DoxyCodeLine{00192\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ MatrixType::InnerLowerIterator\ llIt(m\_lu,\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}});}
\DoxyCodeLine{00193\ }
\DoxyCodeLine{00194\ }
\DoxyCodeLine{00195\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}}\ =\ llIt.col();\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}}\ <\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}};\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}}++)\ \{}
\DoxyCodeLine{00196\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (m\_lu.coeffExistLower(\mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}},\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}}))\ \{}
\DoxyCodeLine{00197\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{double}\ diag\ =\ m\_lu.coeffDiag(\mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}});}
\DoxyCodeLine{00198\ }
\DoxyCodeLine{00199\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ MatrixType::InnerLowerIterator\ lIt(m\_lu,\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}});}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ MatrixType::InnerUpperIterator\ uIt(m\_lu,\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}});}
\DoxyCodeLine{00201\ }
\DoxyCodeLine{00202\ }
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ offset\ =\ lIt.col()\ -\/\ uIt.row();}
\DoxyCodeLine{00204\ }
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ stop\ =\ offset\ >\ 0\ ?\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}}\ -\/\ lIt.col()\ :\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}}\ -\/\ uIt.row();}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\#define\ VECTORIZE}}
\DoxyCodeLine{00209\ \textcolor{preprocessor}{\#ifdef\ VECTORIZE}}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Map<VectorXd\ >\ rowVal(lIt.valuePtr()\ +\ (offset\ >\ 0\ ?\ 0\ :\ -\/offset),\ stop);}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Map<VectorXd\ >\ colVal(uIt.valuePtr()\ +\ (offset\ >\ 0\ ?\ offset\ :\ 0),\ stop);}
\DoxyCodeLine{00212\ }
\DoxyCodeLine{00213\ }
\DoxyCodeLine{00214\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Scalar\ newCoeff\ =\ m\_lu.coeffLower(\mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}},\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}})\ -\/\ rowVal.dot(colVal);}
\DoxyCodeLine{00215\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00216\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (offset\ >\ 0)\ \textcolor{comment}{//Skip\ zero\ value\ of\ lIt}}
\DoxyCodeLine{00217\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uIt\ +=\ offset;}
\DoxyCodeLine{00218\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{comment}{//Skip\ zero\ values\ of\ uIt}}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ lIt\ +=\ -\/offset;}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Scalar\ newCoeff\ =\ m\_lu.coeffLower(\mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}},\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}});}
\DoxyCodeLine{00221\ }
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ k\ =\ 0;\ k\ <\ stop;\ ++k)\ \{}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Scalar\ tmp\ =\ newCoeff;}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ newCoeff\ =\ tmp\ -\/\ lIt.value()\ *\ uIt.value();}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++lIt;}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++uIt;}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00228\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00229\ }
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ m\_lu.coeffRefLower(\mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}},\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}})\ =\ newCoeff\ /\ diag;}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00233\ }
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Upper\ matrix\ update}}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}}\ =\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}};}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ MatrixType::InnerUpperIterator\ uuIt(m\_lu,\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}});}
\DoxyCodeLine{00237\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ rrow\ =\ uuIt.row();\ rrow\ <\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}};\ rrow++)\ \{}
\DoxyCodeLine{00238\ }
\DoxyCodeLine{00239\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ MatrixType::InnerLowerIterator\ lIt(m\_lu,\ rrow);}
\DoxyCodeLine{00240\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ MatrixType::InnerUpperIterator\ uIt(m\_lu,\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}});}
\DoxyCodeLine{00241\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ offset\ =\ lIt.col()\ -\/\ uIt.row();}
\DoxyCodeLine{00242\ }
\DoxyCodeLine{00243\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ stop\ =\ offset\ >\ 0\ ?\ rrow\ -\/\ lIt.col()\ :\ rrow\ -\/\ uIt.row();}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00245\ \textcolor{preprocessor}{\#ifdef\ VECTORIZE}}
\DoxyCodeLine{00246\ \ \ \ \ \ \ \ \ \ \ \ \ Map<VectorXd\ >\ rowVal(lIt.valuePtr()\ +\ (offset\ >\ 0\ ?\ 0\ :\ -\/offset),\ stop);}
\DoxyCodeLine{00247\ \ \ \ \ \ \ \ \ \ \ \ \ Map<VectorXd\ >\ colVal(uIt.valuePtr()\ +\ (offset\ >\ 0\ ?\ offset\ :\ 0),\ stop);}
\DoxyCodeLine{00248\ }
\DoxyCodeLine{00249\ \ \ \ \ \ \ \ \ \ \ \ \ Scalar\ newCoeff\ =\ m\_lu.coeffUpper(rrow,\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}})\ -\/\ rowVal.dot(colVal);}
\DoxyCodeLine{00250\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00251\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (offset\ >\ 0)\ \textcolor{comment}{//Skip\ zero\ value\ of\ lIt}}
\DoxyCodeLine{00252\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ uIt\ +=\ offset;}
\DoxyCodeLine{00253\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{comment}{//Skip\ zero\ values\ of\ uIt}}
\DoxyCodeLine{00254\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ lIt\ +=\ -\/offset;}
\DoxyCodeLine{00255\ \ \ \ \ \ \ \ \ \ \ \ \ Scalar\ newCoeff\ =\ m\_lu.coeffUpper(rrow,\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}});}
\DoxyCodeLine{00256\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ k\ =\ 0;\ k\ <\ stop;\ ++k)\ \{}
\DoxyCodeLine{00257\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Scalar\ tmp\ =\ newCoeff;}
\DoxyCodeLine{00258\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ newCoeff\ =\ tmp\ -\/\ lIt.value()\ *\ uIt.value();}
\DoxyCodeLine{00259\ }
\DoxyCodeLine{00260\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++lIt;}
\DoxyCodeLine{00261\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ++uIt;}
\DoxyCodeLine{00262\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00263\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00264\ \ \ \ \ \ \ \ \ \ \ \ \ m\_lu.coeffRefUpper(rrow,\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}})\ =\ newCoeff;}
\DoxyCodeLine{00265\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00266\ }
\DoxyCodeLine{00267\ }
\DoxyCodeLine{00268\ \ \ \ \ \ \ \ \ \textcolor{comment}{//Diag\ matrix\ update}}
\DoxyCodeLine{00269\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ MatrixType::InnerLowerIterator\ lIt(m\_lu,\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}});}
\DoxyCodeLine{00270\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ MatrixType::InnerUpperIterator\ uIt(m\_lu,\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}});}
\DoxyCodeLine{00271\ }
\DoxyCodeLine{00272\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ offset\ =\ lIt.col()\ -\/\ uIt.row();}
\DoxyCodeLine{00273\ }
\DoxyCodeLine{00274\ }
\DoxyCodeLine{00275\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ stop\ =\ offset\ >\ 0\ ?\ lIt.size()\ :\ uIt.size();}
\DoxyCodeLine{00276\ \textcolor{preprocessor}{\#ifdef\ VECTORIZE}}
\DoxyCodeLine{00277\ \ \ \ \ \ \ \ \ Map<VectorXd\ >\ rowVal(lIt.valuePtr()\ +\ (offset\ >\ 0\ ?\ 0\ :\ -\/offset),\ stop);}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ Map<VectorXd\ >\ colVal(uIt.valuePtr()\ +\ (offset\ >\ 0\ ?\ offset\ :\ 0),\ stop);}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ Scalar\ newCoeff\ =\ m\_lu.coeffDiag(\mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}})\ -\/\ rowVal.dot(colVal);}
\DoxyCodeLine{00280\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (offset\ >\ 0)\ \textcolor{comment}{//Skip\ zero\ value\ of\ lIt}}
\DoxyCodeLine{00282\ \ \ \ \ \ \ \ \ \ \ \ \ uIt\ +=\ offset;}
\DoxyCodeLine{00283\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}\ \textcolor{comment}{//Skip\ zero\ values\ of\ uIt}}
\DoxyCodeLine{00284\ \ \ \ \ \ \ \ \ \ \ \ \ lIt\ +=\ -\/offset;}
\DoxyCodeLine{00285\ \ \ \ \ \ \ \ \ Scalar\ newCoeff\ =\ m\_lu.coeffDiag(\mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}});}
\DoxyCodeLine{00286\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ k\ =\ 0;\ k\ <\ stop;\ ++k)\ \{}
\DoxyCodeLine{00287\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Scalar\ tmp\ =\ newCoeff;}
\DoxyCodeLine{00288\ \ \ \ \ \ \ \ \ \ \ \ \ newCoeff\ =\ tmp\ -\/\ lIt.value()\ *\ uIt.value();}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \ \ \ \ ++lIt;}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \ \ \ \ ++uIt;}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00292\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00293\ \ \ \ \ \ \ \ \ m\_lu.coeffRefDiag(\mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}})\ =\ newCoeff;}
\DoxyCodeLine{00294\ \ \ \ \ \}}
\DoxyCodeLine{00295\ \}}
\DoxyCodeLine{00296\ }
\DoxyCodeLine{00305\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ MatrixType>}
\DoxyCodeLine{00306\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ BDerived,\ \textcolor{keyword}{typename}\ XDerived>}
\DoxyCodeLine{00307\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classEigen_1_1SkylineInplaceLU_a53c846d76559221d2bcf336a2da4d68f}{SkylineInplaceLU<MatrixType>::solve}}(\textcolor{keyword}{const}\ MatrixBase<BDerived>\ \&\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}},\ MatrixBase<XDerived>*\ x,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ transposed)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00308\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ rows\ =\ m\_lu.rows();}
\DoxyCodeLine{00309\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ cols\ =\ m\_lu.cols();}
\DoxyCodeLine{00310\ }
\DoxyCodeLine{00311\ }
\DoxyCodeLine{00312\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}}\ =\ 0;\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}}\ <\ rows;\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}}++)\ \{}
\DoxyCodeLine{00313\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_1_1numext_ac5e96d65e0b577673dd47bfe1068cdd9}{x}}-\/>coeffRef(\mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}})\ =\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}}.coeff(\mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}});}
\DoxyCodeLine{00314\ \ \ \ \ \ \ \ \ Scalar\ newVal\ =\ \mbox{\hyperlink{namespaceEigen_1_1numext_ac5e96d65e0b577673dd47bfe1068cdd9}{x}}-\/>coeff(\mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}});}
\DoxyCodeLine{00315\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ MatrixType::InnerLowerIterator\ lIt(m\_lu,\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}});}
\DoxyCodeLine{00316\ }
\DoxyCodeLine{00317\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}}\ =\ lIt.col();}
\DoxyCodeLine{00318\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (lIt.col()\ <\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}})\ \{}
\DoxyCodeLine{00319\ }
\DoxyCodeLine{00320\ \ \ \ \ \ \ \ \ \ \ \ \ newVal\ -\/=\ \mbox{\hyperlink{namespaceEigen_1_1numext_ac5e96d65e0b577673dd47bfe1068cdd9}{x}}-\/>coeff(\mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}}++)\ *\ lIt.value();}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \ \ \ \ \ \ ++lIt;}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00323\ }
\DoxyCodeLine{00324\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_1_1numext_ac5e96d65e0b577673dd47bfe1068cdd9}{x}}-\/>coeffRef(\mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}})\ =\ newVal;}
\DoxyCodeLine{00325\ \ \ \ \ \}}
\DoxyCodeLine{00326\ }
\DoxyCodeLine{00327\ }
\DoxyCodeLine{00328\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}}\ =\ rows\ -\/\ 1;\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}}\ >\ 0;\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}}-\/-\/)\ \{}
\DoxyCodeLine{00329\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_1_1numext_ac5e96d65e0b577673dd47bfe1068cdd9}{x}}-\/>coeffRef(\mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}})\ =\ \mbox{\hyperlink{namespaceEigen_1_1numext_ac5e96d65e0b577673dd47bfe1068cdd9}{x}}-\/>coeff(\mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}})\ /\ m\_lu.coeffDiag(\mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}});}
\DoxyCodeLine{00330\ }
\DoxyCodeLine{00331\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ Scalar\ x\_col\ =\ \mbox{\hyperlink{namespaceEigen_1_1numext_ac5e96d65e0b577673dd47bfe1068cdd9}{x}}-\/>coeff(\mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}});}
\DoxyCodeLine{00332\ }
\DoxyCodeLine{00333\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ MatrixType::InnerUpperIterator\ uIt(m\_lu,\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}});}
\DoxyCodeLine{00334\ \ \ \ \ \ \ \ \ uIt\ +=\ uIt.size()-\/1;}
\DoxyCodeLine{00335\ }
\DoxyCodeLine{00336\ }
\DoxyCodeLine{00337\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}\ (uIt)\ \{}
\DoxyCodeLine{00338\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_1_1numext_ac5e96d65e0b577673dd47bfe1068cdd9}{x}}-\/>coeffRef(uIt.row())\ -\/=\ x\_col\ *\ uIt.value();}
\DoxyCodeLine{00339\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//TODO\ :\ introduce\ -\/-\/operator}}
\DoxyCodeLine{00340\ \ \ \ \ \ \ \ \ \ \ \ \ uIt\ +=\ -\/1;}
\DoxyCodeLine{00341\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00342\ }
\DoxyCodeLine{00343\ }
\DoxyCodeLine{00344\ \ \ \ \ \}}
\DoxyCodeLine{00345\ \ \ \ \ \mbox{\hyperlink{namespaceEigen_1_1numext_ac5e96d65e0b577673dd47bfe1068cdd9}{x}}-\/>coeffRef(0)\ =\ \mbox{\hyperlink{namespaceEigen_1_1numext_ac5e96d65e0b577673dd47bfe1068cdd9}{x}}-\/>coeff(0)\ /\ m\_lu.coeffDiag(0);}
\DoxyCodeLine{00346\ }
\DoxyCodeLine{00347\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00348\ \}}
\DoxyCodeLine{00349\ }
\DoxyCodeLine{00350\ \}\ \textcolor{comment}{//\ end\ namespace\ Eigen}}
\DoxyCodeLine{00351\ }
\DoxyCodeLine{00352\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ EIGEN\_SKYLINEINPLACELU\_H}}

\end{DoxyCode}
