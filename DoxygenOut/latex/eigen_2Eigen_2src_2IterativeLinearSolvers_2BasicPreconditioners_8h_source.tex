\doxysection{Basic\+Preconditioners.\+h}
\hypertarget{eigen_2Eigen_2src_2IterativeLinearSolvers_2BasicPreconditioners_8h_source}{}\label{eigen_2Eigen_2src_2IterativeLinearSolvers_2BasicPreconditioners_8h_source}\index{eigen/Eigen/src/IterativeLinearSolvers/BasicPreconditioners.h@{eigen/Eigen/src/IterativeLinearSolvers/BasicPreconditioners.h}}
\mbox{\hyperlink{eigen_2Eigen_2src_2IterativeLinearSolvers_2BasicPreconditioners_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ This\ file\ is\ part\ of\ Eigen,\ a\ lightweight\ C++\ template\ library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ for\ linear\ algebra.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Copyright\ (C)\ 2011-\/2014\ Gael\ Guennebaud\ <gael.guennebaud@inria.fr>}}
\DoxyCodeLine{00005\ \textcolor{comment}{//}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ This\ Source\ Code\ Form\ is\ subject\ to\ the\ terms\ of\ the\ Mozilla}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ Public\ License\ v.\ 2.0.\ If\ a\ copy\ of\ the\ MPL\ was\ not\ distributed}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ with\ this\ file,\ You\ can\ obtain\ one\ at\ http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_BASIC\_PRECONDITIONERS\_H}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#define\ EIGEN\_BASIC\_PRECONDITIONERS\_H}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceEigen}{Eigen}}\ \{}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00035\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_Scalar>}
\DoxyCodeLine{00036\ \textcolor{keyword}{class\ }DiagonalPreconditioner}
\DoxyCodeLine{00037\ \{}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keyword}{typedef}\ \_Scalar\ Scalar;}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keyword}{typedef}\ Matrix<Scalar,Dynamic,1>\ Vector;}
\DoxyCodeLine{00040\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Vector::StorageIndex\ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_a21a4ddda2e64177b5afc4c7c45a6ced9}{StorageIndex}};}
\DoxyCodeLine{00042\ \ \ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00043\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_a2f52ea4b815e6b319b297aae2bbf7810ac9dbdcb5ce4c0a95e431c7e148f5fd91}{ColsAtCompileTime}}\ =\ \mbox{\hyperlink{namespaceEigen_ad81fa7195215a0ce30017dfac309f0b2}{Dynamic}},}
\DoxyCodeLine{00044\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_a2f52ea4b815e6b319b297aae2bbf7810afbcfe8497a00f843047ebccc454c8b21}{MaxColsAtCompileTime}}\ =\ Dynamic}
\DoxyCodeLine{00045\ \ \ \ \ \};}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_ae7d19e26de3f8c96f659356b9453a788}{DiagonalPreconditioner}}()\ :\ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_a180911e1c0f848621dab8e29b5da88dc}{m\_isInitialized}}(false)\ \{\}}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ MatType>}
\DoxyCodeLine{00050\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_ad7d67c2d25072f73543031e4853d443b}{DiagonalPreconditioner}}(\textcolor{keyword}{const}\ MatType\&\ mat)\ :\ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_abce7e6e756519949b58f201ef486d162}{m\_invdiag}}(mat.\mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_a9bd0fbebecb8a635c401eadab6ebd36b}{cols}}())}
\DoxyCodeLine{00051\ \ \ \ \ \{}
\DoxyCodeLine{00052\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_a4a8a327230811ebcf0be7413c2a077db}{compute}}(mat);}
\DoxyCodeLine{00053\ \ \ \ \ \}}
\DoxyCodeLine{00054\ }
\DoxyCodeLine{00055\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_a7e86200a7ea173cb5859d8a00c28217d}{rows}}()\ const\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a532c42c61426cc18d84097e29577acf8}{EIGEN\_NOEXCEPT}}\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_abce7e6e756519949b58f201ef486d162}{m\_invdiag}}.size();\ \}}
\DoxyCodeLine{00056\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_a9bd0fbebecb8a635c401eadab6ebd36b}{cols}}()\ const\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a532c42c61426cc18d84097e29577acf8}{EIGEN\_NOEXCEPT}}\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_abce7e6e756519949b58f201ef486d162}{m\_invdiag}}.size();\ \}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ MatType>}
\DoxyCodeLine{00059\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner}{DiagonalPreconditioner}}\&\ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_a5514e87e97824e621c66e7abf7ef7988}{analyzePattern}}(\textcolor{keyword}{const}\ MatType\&\ )}
\DoxyCodeLine{00060\ \ \ \ \ \{}
\DoxyCodeLine{00061\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00062\ \ \ \ \ \}}
\DoxyCodeLine{00063\ }
\DoxyCodeLine{00064\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ MatType>}
\DoxyCodeLine{00065\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner}{DiagonalPreconditioner}}\&\ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_ad66307f966798e1b9ebdc9ef2ddc8ea7}{factorize}}(\textcolor{keyword}{const}\ MatType\&\ mat)}
\DoxyCodeLine{00066\ \ \ \ \ \{}
\DoxyCodeLine{00067\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_abce7e6e756519949b58f201ef486d162}{m\_invdiag}}.\mbox{\hyperlink{classEigen_1_1PlainObjectBase_a99d9054ee2d5a40c6e00ded0265e9cea}{resize}}(mat.cols());}
\DoxyCodeLine{00068\ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keywordtype}{int}\ j=0;\ j<mat.outerSize();\ ++j)}
\DoxyCodeLine{00069\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00070\ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ MatType::InnerIterator\ it(mat,j);}
\DoxyCodeLine{00071\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{while}(it\ \&\&\ it.index()!=j)\ ++it;}
\DoxyCodeLine{00072\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(it\ \&\&\ it.index()==j\ \&\&\ it.value()!=Scalar(0))}
\DoxyCodeLine{00073\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_abce7e6e756519949b58f201ef486d162}{m\_invdiag}}(j)\ =\ Scalar(1)/it.value();}
\DoxyCodeLine{00074\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00075\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_abce7e6e756519949b58f201ef486d162}{m\_invdiag}}(j)\ =\ Scalar(1);}
\DoxyCodeLine{00076\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_a180911e1c0f848621dab8e29b5da88dc}{m\_isInitialized}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00078\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00079\ \ \ \ \ \}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ MatType>}
\DoxyCodeLine{00082\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner}{DiagonalPreconditioner}}\&\ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_a4a8a327230811ebcf0be7413c2a077db}{compute}}(\textcolor{keyword}{const}\ MatType\&\ mat)}
\DoxyCodeLine{00083\ \ \ \ \ \{}
\DoxyCodeLine{00084\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_ad66307f966798e1b9ebdc9ef2ddc8ea7}{factorize}}(mat);}
\DoxyCodeLine{00085\ \ \ \ \ \}}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00088\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Rhs,\ \textcolor{keyword}{typename}\ Dest>}
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_a3bbc5d91d64e3968c3b0b629e15e9fb7}{\_solve\_impl}}(\textcolor{keyword}{const}\ Rhs\&\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}},\ Dest\&\ x)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00090\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00091\ \ \ \ \ \ \ x\ =\ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_abce7e6e756519949b58f201ef486d162}{m\_invdiag}}.array()\ *\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}}.array()\ ;}
\DoxyCodeLine{00092\ \ \ \ \ \}}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Rhs>\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1Solve}{Solve<DiagonalPreconditioner,\ Rhs>}}}
\DoxyCodeLine{00095\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_a855f959c62b1011cd107d10ac13f0987}{solve}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1MatrixBase}{MatrixBase<Rhs>}}\&\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}})\textcolor{keyword}{\ const}}
\DoxyCodeLine{00096\ \textcolor{keyword}{\ \ \ \ }\{}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(\mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_a180911e1c0f848621dab8e29b5da88dc}{m\_isInitialized}}\ \&\&\ \textcolor{stringliteral}{"{}DiagonalPreconditioner\ is\ not\ initialized."{}});}
\DoxyCodeLine{00098\ \ \ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(\mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_abce7e6e756519949b58f201ef486d162}{m\_invdiag}}.size()==\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}}.\mbox{\hyperlink{classEigen_1_1PlainObjectBase_afbc668abdcb3bda3bc4c58c4d88e9603}{rows}}()}
\DoxyCodeLine{00099\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \&\&\ \textcolor{stringliteral}{"{}DiagonalPreconditioner::solve():\ invalid\ number\ of\ rows\ of\ the\ right\ hand\ side\ matrix\ b"{}});}
\DoxyCodeLine{00100\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1Solve}{Solve<DiagonalPreconditioner,\ Rhs>}}(*\textcolor{keyword}{this},\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}}.derived());}
\DoxyCodeLine{00101\ \ \ \ \ \}}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \ \ \ \ \mbox{\hyperlink{group__enums_ga85fad7b87587764e5cf6b513a9e0ee5e}{ComputationInfo}}\ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_a83769941faa301e9f414ecdf6a715140}{info}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea52581b035f4b59c203b8ff999ef5fcea}{Success}};\ \}}
\DoxyCodeLine{00104\ }
\DoxyCodeLine{00105\ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00106\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1Matrix}{Vector}}\ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_abce7e6e756519949b58f201ef486d162}{m\_invdiag}};}
\DoxyCodeLine{00107\ \ \ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_a180911e1c0f848621dab8e29b5da88dc}{m\_isInitialized}};}
\DoxyCodeLine{00108\ \};}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00127\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ \_Scalar>}
\DoxyCodeLine{00128\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classEigen_1_1LeastSquareDiagonalPreconditioner}{LeastSquareDiagonalPreconditioner}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner}{DiagonalPreconditioner}}<\_Scalar>}
\DoxyCodeLine{00129\ \{}
\DoxyCodeLine{00130\ \ \ \ \ \textcolor{keyword}{typedef}\ \_Scalar\ Scalar;}
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1GenericNumTraits_abca8573812593670795c41f22aa9d5e2}{NumTraits<Scalar>::Real}}\ RealScalar;}
\DoxyCodeLine{00132\ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner}{DiagonalPreconditioner<\_Scalar>}}\ Base;}
\DoxyCodeLine{00133\ \ \ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_abce7e6e756519949b58f201ef486d162}{Base::m\_invdiag}};}
\DoxyCodeLine{00134\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1LeastSquareDiagonalPreconditioner_a28c5a22103a8bd561e404721d807726d}{LeastSquareDiagonalPreconditioner}}()\ :\ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner}{Base}}()\ \{\}}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ MatType>}
\DoxyCodeLine{00139\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classEigen_1_1LeastSquareDiagonalPreconditioner_a9fe093a3b038a1dc7628eced1aa00e39}{LeastSquareDiagonalPreconditioner}}(\textcolor{keyword}{const}\ MatType\&\ mat)\ :\ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner}{Base}}()}
\DoxyCodeLine{00140\ \ \ \ \ \{}
\DoxyCodeLine{00141\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1LeastSquareDiagonalPreconditioner_ae35d178c108c90280d4d1290935d01f7}{compute}}(mat);}
\DoxyCodeLine{00142\ \ \ \ \ \}}
\DoxyCodeLine{00143\ }
\DoxyCodeLine{00144\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ MatType>}
\DoxyCodeLine{00145\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1LeastSquareDiagonalPreconditioner}{LeastSquareDiagonalPreconditioner}}\&\ \mbox{\hyperlink{classEigen_1_1LeastSquareDiagonalPreconditioner_a7461860d90cfe84a3f9f7ee52a63b0ad}{analyzePattern}}(\textcolor{keyword}{const}\ MatType\&\ )}
\DoxyCodeLine{00146\ \ \ \ \ \{}
\DoxyCodeLine{00147\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00148\ \ \ \ \ \}}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ MatType>}
\DoxyCodeLine{00151\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1LeastSquareDiagonalPreconditioner}{LeastSquareDiagonalPreconditioner}}\&\ \mbox{\hyperlink{classEigen_1_1LeastSquareDiagonalPreconditioner_a21b092ee2e6e4f5a42ce6e302ede020c}{factorize}}(\textcolor{keyword}{const}\ MatType\&\ mat)}
\DoxyCodeLine{00152\ \ \ \ \ \{}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \textcolor{comment}{//\ Compute\ the\ inverse\ squared-\/norm\ of\ each\ column\ of\ mat}}
\DoxyCodeLine{00154\ \ \ \ \ \ \ m\_invdiag.\mbox{\hyperlink{classEigen_1_1PlainObjectBase_a99d9054ee2d5a40c6e00ded0265e9cea}{resize}}(mat.cols());}
\DoxyCodeLine{00155\ \ \ \ \ \ \ \textcolor{keywordflow}{if}(MatType::IsRowMajor)}
\DoxyCodeLine{00156\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00157\ \ \ \ \ \ \ \ \ m\_invdiag.\mbox{\hyperlink{classEigen_1_1PlainObjectBase_ac21ad5f989f320e46958b75ac8d9a1da}{setZero}}();}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j=0;\ j<mat.outerSize();\ ++j)}
\DoxyCodeLine{00159\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\textcolor{keyword}{typename}\ MatType::InnerIterator\ it(mat,j);\ it;\ ++it)}
\DoxyCodeLine{00161\ \ \ \ \ \ \ \ \ \ \ \ \ m\_invdiag(it.index())\ +=\ \mbox{\hyperlink{namespaceEigen_1_1numext_ad59216129a430099e97b4c4b1e2f2984}{numext::abs2}}(it.value());}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j=0;\ j<mat.cols();\ ++j)}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(numext::real(m\_invdiag(j))>RealScalar(0))}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ \ \ \ \ m\_invdiag(j)\ =\ RealScalar(1)/numext::real(m\_invdiag(j));}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \{}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j=0;\ j<mat.outerSize();\ ++j)}
\DoxyCodeLine{00170\ \ \ \ \ \ \ \ \ \{}
\DoxyCodeLine{00171\ \ \ \ \ \ \ \ \ \ \ RealScalar\ sum\ =\ mat.col(j).squaredNorm();}
\DoxyCodeLine{00172\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}(sum>RealScalar(0))}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \ \ \ \ \ \ m\_invdiag(j)\ =\ RealScalar(1)/sum;}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \ \ \ \ m\_invdiag(j)\ =\ RealScalar(1);}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1DiagonalPreconditioner_a180911e1c0f848621dab8e29b5da88dc}{Base::m\_isInitialized}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00179\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00180\ \ \ \ \ \}}
\DoxyCodeLine{00181\ }
\DoxyCodeLine{00182\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ MatType>}
\DoxyCodeLine{00183\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1LeastSquareDiagonalPreconditioner}{LeastSquareDiagonalPreconditioner}}\&\ \mbox{\hyperlink{classEigen_1_1LeastSquareDiagonalPreconditioner_ae35d178c108c90280d4d1290935d01f7}{compute}}(\textcolor{keyword}{const}\ MatType\&\ mat)}
\DoxyCodeLine{00184\ \ \ \ \ \{}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1LeastSquareDiagonalPreconditioner_a21b092ee2e6e4f5a42ce6e302ede020c}{factorize}}(mat);}
\DoxyCodeLine{00186\ \ \ \ \ \}}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \ \ \ \ \mbox{\hyperlink{group__enums_ga85fad7b87587764e5cf6b513a9e0ee5e}{ComputationInfo}}\ \mbox{\hyperlink{classEigen_1_1LeastSquareDiagonalPreconditioner_a648044dd59ff3b09cf4efa7fe49d5208}{info}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea52581b035f4b59c203b8ff999ef5fcea}{Success}};\ \}}
\DoxyCodeLine{00189\ }
\DoxyCodeLine{00190\ \ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00191\ \};}
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00200\ \textcolor{keyword}{class\ }IdentityPreconditioner}
\DoxyCodeLine{00201\ \{}
\DoxyCodeLine{00202\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1IdentityPreconditioner_ae9336b170f2763da0fb9a73e6f6d40bb}{IdentityPreconditioner}}()\ \{\}}
\DoxyCodeLine{00205\ }
\DoxyCodeLine{00206\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ MatrixType>}
\DoxyCodeLine{00207\ \ \ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classEigen_1_1IdentityPreconditioner_a5fb381c622f38f3b8deb0775867cdf5f}{IdentityPreconditioner}}(\textcolor{keyword}{const}\ MatrixType\&\ )\ \{\}}
\DoxyCodeLine{00208\ }
\DoxyCodeLine{00209\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ MatrixType>}
\DoxyCodeLine{00210\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1IdentityPreconditioner}{IdentityPreconditioner}}\&\ \mbox{\hyperlink{classEigen_1_1IdentityPreconditioner_a42cf4bcb43d4d9f2461e82cfcd20ee87}{analyzePattern}}(\textcolor{keyword}{const}\ MatrixType\&\ )\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}
\DoxyCodeLine{00211\ }
\DoxyCodeLine{00212\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ MatrixType>}
\DoxyCodeLine{00213\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1IdentityPreconditioner}{IdentityPreconditioner}}\&\ \mbox{\hyperlink{classEigen_1_1IdentityPreconditioner_ae893d56f49b8df745fa8af243830864e}{factorize}}(\textcolor{keyword}{const}\ MatrixType\&\ )\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}
\DoxyCodeLine{00214\ }
\DoxyCodeLine{00215\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ MatrixType>}
\DoxyCodeLine{00216\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1IdentityPreconditioner}{IdentityPreconditioner}}\&\ \mbox{\hyperlink{classEigen_1_1IdentityPreconditioner_a95f273301ae5d49fb478d8aa143f46fe}{compute}}(\textcolor{keyword}{const}\ MatrixType\&\ )\ \{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}
\DoxyCodeLine{00217\ }
\DoxyCodeLine{00218\ \ \ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Rhs>}
\DoxyCodeLine{00219\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ Rhs\&\ \mbox{\hyperlink{classEigen_1_1IdentityPreconditioner_a7ae8e169e407ffb7cb9d9d6e2e8c27cc}{solve}}(\textcolor{keyword}{const}\ Rhs\&\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}})\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2layout__test_8cc_ad66453096871179e6c6effe0df4b483b}{b}};\ \}}
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00221\ \ \ \ \ \mbox{\hyperlink{group__enums_ga85fad7b87587764e5cf6b513a9e0ee5e}{ComputationInfo}}\ \mbox{\hyperlink{classEigen_1_1IdentityPreconditioner_a450681df926cb312fc71a324e150340c}{info}}()\ \{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{group__enums_gga85fad7b87587764e5cf6b513a9e0ee5ea52581b035f4b59c203b8ff999ef5fcea}{Success}};\ \}}
\DoxyCodeLine{00222\ \};}
\DoxyCodeLine{00223\ }
\DoxyCodeLine{00224\ \}\ \textcolor{comment}{//\ end\ namespace\ Eigen}}
\DoxyCodeLine{00225\ }
\DoxyCodeLine{00226\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ EIGEN\_BASIC\_PRECONDITIONERS\_H}}

\end{DoxyCode}
