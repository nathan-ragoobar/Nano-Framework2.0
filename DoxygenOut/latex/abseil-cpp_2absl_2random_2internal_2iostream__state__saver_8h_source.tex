\doxysection{iostream\+\_\+state\+\_\+saver.\+h}
\hypertarget{abseil-cpp_2absl_2random_2internal_2iostream__state__saver_8h_source}{}\label{abseil-cpp_2absl_2random_2internal_2iostream__state__saver_8h_source}\index{abseil-\/cpp/absl/random/internal/iostream\_state\_saver.h@{abseil-\/cpp/absl/random/internal/iostream\_state\_saver.h}}
\mbox{\hyperlink{abseil-cpp_2absl_2random_2internal_2iostream__state__saver_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ 2017\ The\ Abseil\ Authors.}}
\DoxyCodeLine{00002\ \textcolor{comment}{//}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00006\ \textcolor{comment}{//}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ \ \ \ \ \ https://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00010\ \textcolor{comment}{//\ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ limitations\ under\ the\ License.}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#ifndef\ ABSL\_RANDOM\_INTERNAL\_IOSTREAM\_STATE\_SAVER\_H\_}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#define\ ABSL\_RANDOM\_INTERNAL\_IOSTREAM\_STATE\_SAVER\_H\_}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ <cmath>}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <limits>}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00022\ }
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}absl/meta/type\_traits.h"{}}}
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}absl/numeric/int128.h"{}}}
\DoxyCodeLine{00025\ }
\DoxyCodeLine{00026\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceabsl}{absl}}\ \{}
\DoxyCodeLine{00027\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2config_8h_a1426209ed359f780778edc8975b23f07}{ABSL\_NAMESPACE\_BEGIN}}}
\DoxyCodeLine{00028\ \textcolor{keyword}{namespace\ }random\_internal\ \{}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{comment}{//\ The\ null\_state\_saver\ does\ nothing.}}
\DoxyCodeLine{00031\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00032\ \textcolor{keyword}{class\ }null\_state\_saver\ \{}
\DoxyCodeLine{00033\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00034\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classabsl_1_1random__internal_1_1null__state__saver_a038542adbcc5a9153573eda74ebfddec}{stream\_type}}\ =\ T;}
\DoxyCodeLine{00035\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classabsl_1_1random__internal_1_1null__state__saver_a62f056661ff947163e1108ff48220adf}{flags\_type}}\ =\ std::ios\_base::fmtflags;}
\DoxyCodeLine{00036\ }
\DoxyCodeLine{00037\ \ \ \mbox{\hyperlink{classabsl_1_1random__internal_1_1null__state__saver_a8c2099354abb37aeeb6dea6926415923}{null\_state\_saver}}(T\&,\ \mbox{\hyperlink{classabsl_1_1random__internal_1_1null__state__saver_a62f056661ff947163e1108ff48220adf}{flags\_type}})\ \{\}}
\DoxyCodeLine{00038\ \ \ \mbox{\hyperlink{classabsl_1_1random__internal_1_1null__state__saver_a067a35a3a02d97bf0010a644ecad0430}{\string~null\_state\_saver}}()\ \{\}}
\DoxyCodeLine{00039\ \};}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \textcolor{comment}{//\ ostream\_state\_saver\ is\ a\ RAII\ object\ to\ save\ and\ restore\ the\ common}}
\DoxyCodeLine{00042\ \textcolor{comment}{//\ basic\_ostream\ flags\ used\ when\ implementing\ \`{}operator\ <<()`\ on\ any\ of}}
\DoxyCodeLine{00043\ \textcolor{comment}{//\ the\ absl\ random\ distributions.}}
\DoxyCodeLine{00044\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OStream>}
\DoxyCodeLine{00045\ \textcolor{keyword}{class\ }ostream\_state\_saver\ \{}
\DoxyCodeLine{00046\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00047\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classabsl_1_1random__internal_1_1ostream__state__saver_a0d463074f2ce218f6964cb5e8fc151bc}{ostream\_type}}\ =\ OStream;}
\DoxyCodeLine{00048\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classabsl_1_1random__internal_1_1ostream__state__saver_a526deacfc24422df2c3885a48048cb4c}{flags\_type}}\ =\ std::ios\_base::fmtflags;}
\DoxyCodeLine{00049\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classabsl_1_1random__internal_1_1ostream__state__saver_aef0294b22dec96db7c69087ad805c23c}{fill\_type}}\ =\ \textcolor{keyword}{typename}\ ostream\_type::char\_type;}
\DoxyCodeLine{00050\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classabsl_1_1random__internal_1_1ostream__state__saver_a6e783d73bca26d4818ec325986aac20a}{precision\_type}}\ =\ std::streamsize;}
\DoxyCodeLine{00051\ }
\DoxyCodeLine{00052\ \ \ \mbox{\hyperlink{classabsl_1_1random__internal_1_1ostream__state__saver_a5f47c0e709bf05e92b986bde716c18d4}{ostream\_state\_saver}}(\mbox{\hyperlink{classabsl_1_1random__internal_1_1ostream__state__saver_a0d463074f2ce218f6964cb5e8fc151bc}{ostream\_type}}\&\ os,\ \ \textcolor{comment}{//\ NOLINT(runtime/references)}}
\DoxyCodeLine{00053\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classabsl_1_1random__internal_1_1ostream__state__saver_a526deacfc24422df2c3885a48048cb4c}{flags\_type}}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal}{flags}},\ \mbox{\hyperlink{classabsl_1_1random__internal_1_1ostream__state__saver_aef0294b22dec96db7c69087ad805c23c}{fill\_type}}\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc__test_8cc_a1bddf1e646fa3d6b3553e28e41cfe7c5}{fill}})}
\DoxyCodeLine{00054\ \ \ \ \ \ \ :\ os\_(os),}
\DoxyCodeLine{00055\ \ \ \ \ \ \ \ \ flags\_(os.\mbox{\hyperlink{namespaceabsl_1_1flags__internal}{flags}}(\mbox{\hyperlink{namespaceabsl_1_1flags__internal}{flags}})),}
\DoxyCodeLine{00056\ \ \ \ \ \ \ \ \ fill\_(os.\mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc__test_8cc_a1bddf1e646fa3d6b3553e28e41cfe7c5}{fill}}(\mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc__test_8cc_a1bddf1e646fa3d6b3553e28e41cfe7c5}{fill}})),}
\DoxyCodeLine{00057\ \ \ \ \ \ \ \ \ precision\_(os.\mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_a19a254febcf2ce797babef3a85a6076b}{precision}}())\ \{}
\DoxyCodeLine{00058\ \ \ \ \ \textcolor{comment}{//\ Save\ state\ in\ initialized\ variables.}}
\DoxyCodeLine{00059\ \ \ \}}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00061\ \ \ \mbox{\hyperlink{classabsl_1_1random__internal_1_1ostream__state__saver_a45b43f82f3449858f399763367bb270a}{\string~ostream\_state\_saver}}()\ \{}
\DoxyCodeLine{00062\ \ \ \ \ \textcolor{comment}{//\ Restore\ saved\ state.}}
\DoxyCodeLine{00063\ \ \ \ \ os\_.precision(precision\_);}
\DoxyCodeLine{00064\ \ \ \ \ os\_.fill(fill\_);}
\DoxyCodeLine{00065\ \ \ \ \ os\_.flags(flags\_);}
\DoxyCodeLine{00066\ \ \ \}}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00069\ \ \ \mbox{\hyperlink{classabsl_1_1random__internal_1_1ostream__state__saver_a0d463074f2ce218f6964cb5e8fc151bc}{ostream\_type}}\&\ os\_;}
\DoxyCodeLine{00070\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1random__internal_1_1ostream__state__saver_a526deacfc24422df2c3885a48048cb4c}{flags\_type}}\ flags\_;}
\DoxyCodeLine{00071\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1random__internal_1_1ostream__state__saver_aef0294b22dec96db7c69087ad805c23c}{fill\_type}}\ fill\_;}
\DoxyCodeLine{00072\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1random__internal_1_1ostream__state__saver_a6e783d73bca26d4818ec325986aac20a}{precision\_type}}\ precision\_;}
\DoxyCodeLine{00073\ \};}
\DoxyCodeLine{00074\ }
\DoxyCodeLine{00075\ \textcolor{preprocessor}{\#if\ defined(\_\_NDK\_MAJOR\_\_)\ \&\&\ \_\_NDK\_MAJOR\_\_\ <\ 16}}
\DoxyCodeLine{00076\ \textcolor{preprocessor}{\#define\ ABSL\_RANDOM\_INTERNAL\_IOSTREAM\_HEXFLOAT\ 1}}
\DoxyCodeLine{00077\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00078\ \textcolor{preprocessor}{\#define\ ABSL\_RANDOM\_INTERNAL\_IOSTREAM\_HEXFLOAT\ 0}}
\DoxyCodeLine{00079\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ CharT,\ \textcolor{keyword}{typename}\ Traits>}
\DoxyCodeLine{00082\ \mbox{\hyperlink{classabsl_1_1random__internal_1_1ostream__state__saver}{ostream\_state\_saver<std::basic\_ostream<CharT,\ Traits>}}>\ \mbox{\hyperlink{namespaceabsl_1_1random__internal_a04da1d5318d386d8186b77635581772e}{make\_ostream\_state\_saver}}(}
\DoxyCodeLine{00083\ \ \ \ \ std::basic\_ostream<CharT,\ Traits>\&\ os,\ \ \textcolor{comment}{//\ NOLINT(runtime/references)}}
\DoxyCodeLine{00084\ \ \ \ \ std::ios\_base::fmtflags\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal}{flags}}\ =\ std::ios\_base::dec\ |\ std::ios\_base::left\ |}
\DoxyCodeLine{00085\ \#\textcolor{keywordflow}{if}\ \mbox{\hyperlink{abseil-cpp_2absl_2random_2internal_2iostream__state__saver_8h_a7170a1a1a6615d70b6b0e4ee75643d8e}{ABSL\_RANDOM\_INTERNAL\_IOSTREAM\_HEXFLOAT}}}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::ios\_base::fixed\ |}
\DoxyCodeLine{00087\ \#endif}
\DoxyCodeLine{00088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::ios\_base::scientific)\ \{}
\DoxyCodeLine{00089\ \ \ \textcolor{keyword}{using\ }result\_type\ =\ \mbox{\hyperlink{classabsl_1_1random__internal_1_1ostream__state__saver}{ostream\_state\_saver<std::basic\_ostream<CharT,\ Traits>}}>;}
\DoxyCodeLine{00090\ \ \ \textcolor{keywordflow}{return}\ result\_type(os,\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal}{flags}},\ os.widen(\textcolor{charliteral}{'\ '}));}
\DoxyCodeLine{00091\ \}}
\DoxyCodeLine{00092\ }
\DoxyCodeLine{00093\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00094\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{namespaceabsl_a059ea7c8c3122cd36d4e270733757ff9}{absl::enable\_if\_t<!std::is\_base\_of<std::ios\_base,\ T>::value}},}
\DoxyCodeLine{00095\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ null\_state\_saver<T>>}
\DoxyCodeLine{00096\ \mbox{\hyperlink{namespaceabsl_1_1random__internal_a04da1d5318d386d8186b77635581772e}{make\_ostream\_state\_saver}}(T\&\ is,\ \ \textcolor{comment}{//\ NOLINT(runtime/references)}}
\DoxyCodeLine{00097\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::ios\_base::fmtflags\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal}{flags}}\ =\ std::ios\_base::dec)\ \{}
\DoxyCodeLine{00098\ \ \ std::cerr\ <<\ \textcolor{stringliteral}{"{}null\_state\_saver"{}};}
\DoxyCodeLine{00099\ \ \ \textcolor{keyword}{using\ }result\_type\ =\ \mbox{\hyperlink{classabsl_1_1random__internal_1_1null__state__saver}{null\_state\_saver<T>}};}
\DoxyCodeLine{00100\ \ \ \textcolor{keywordflow}{return}\ result\_type(is,\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal}{flags}});}
\DoxyCodeLine{00101\ \}}
\DoxyCodeLine{00102\ }
\DoxyCodeLine{00103\ \textcolor{comment}{//\ stream\_precision\_helper<type>::kPrecision\ returns\ the\ base\ 10\ precision}}
\DoxyCodeLine{00104\ \textcolor{comment}{//\ required\ to\ stream\ and\ reconstruct\ a\ real\ type\ exact\ binary\ value\ through}}
\DoxyCodeLine{00105\ \textcolor{comment}{//\ a\ binary-\/>decimal-\/>binary\ transition.}}
\DoxyCodeLine{00106\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00107\ \textcolor{keyword}{struct\ }stream\_precision\_helper\ \{}
\DoxyCodeLine{00108\ \ \ \textcolor{comment}{//\ max\_digits10\ may\ be\ 0\ on\ MSVC;\ if\ so,\ use\ digits10\ +\ 3.}}
\DoxyCodeLine{00109\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structabsl_1_1random__internal_1_1stream__precision__helper_a3a8f663a2304629eee22df7d53db85f6}{kPrecision}}\ =}
\DoxyCodeLine{00110\ \ \ \ \ \ \ (std::numeric\_limits<T>::max\_digits10\ >\ std::numeric\_limits<T>::digits10)}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \ \ ?\ std::numeric\_limits<T>::max\_digits10}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \ \ :\ (\mbox{\hyperlink{namespacestd}{std}}::numeric\_limits<T>::digits10\ +\ 3);}
\DoxyCodeLine{00113\ \};}
\DoxyCodeLine{00114\ }
\DoxyCodeLine{00115\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00116\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1random__internal_1_1stream__precision__helper}{stream\_precision\_helper}}<float>\ \{}
\DoxyCodeLine{00117\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structabsl_1_1random__internal_1_1stream__precision__helper_a3a8f663a2304629eee22df7d53db85f6}{kPrecision}}\ =\ 9;}
\DoxyCodeLine{00118\ \};}
\DoxyCodeLine{00119\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00120\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1random__internal_1_1stream__precision__helper}{stream\_precision\_helper}}<double>\ \{}
\DoxyCodeLine{00121\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structabsl_1_1random__internal_1_1stream__precision__helper_a3a8f663a2304629eee22df7d53db85f6}{kPrecision}}\ =\ 17;}
\DoxyCodeLine{00122\ \};}
\DoxyCodeLine{00123\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00124\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1random__internal_1_1stream__precision__helper}{stream\_precision\_helper}}<long\ double>\ \{}
\DoxyCodeLine{00125\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structabsl_1_1random__internal_1_1stream__precision__helper_a3a8f663a2304629eee22df7d53db85f6}{kPrecision}}\ =\ 36;\ \ \textcolor{comment}{//\ assuming\ fp128}}
\DoxyCodeLine{00126\ \};}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \textcolor{comment}{//\ istream\_state\_saver\ is\ a\ RAII\ object\ to\ save\ and\ restore\ the\ common}}
\DoxyCodeLine{00129\ \textcolor{comment}{//\ std::basic\_istream<>\ flags\ used\ when\ implementing\ \`{}operator\ >>()`\ on\ any\ of}}
\DoxyCodeLine{00130\ \textcolor{comment}{//\ the\ absl\ random\ distributions.}}
\DoxyCodeLine{00131\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ IStream>}
\DoxyCodeLine{00132\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1random__internal_1_1istream__state__saver}{istream\_state\_saver}}\ \{}
\DoxyCodeLine{00133\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00134\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classabsl_1_1random__internal_1_1istream__state__saver_a8056b014b7f26270c6f4edede9611d60}{istream\_type}}\ =\ IStream;}
\DoxyCodeLine{00135\ \ \ \textcolor{keyword}{using\ }\mbox{\hyperlink{classabsl_1_1random__internal_1_1istream__state__saver_af1ada7348943c3fb08c38f98ade377ca}{flags\_type}}\ =\ std::ios\_base::fmtflags;}
\DoxyCodeLine{00136\ }
\DoxyCodeLine{00137\ \ \ \mbox{\hyperlink{classabsl_1_1random__internal_1_1istream__state__saver_a4ca21cca452c92e70860cc2a9784a780}{istream\_state\_saver}}(\mbox{\hyperlink{classabsl_1_1random__internal_1_1istream__state__saver_a8056b014b7f26270c6f4edede9611d60}{istream\_type}}\&\ is,\ \ \textcolor{comment}{//\ NOLINT(runtime/references)}}
\DoxyCodeLine{00138\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classabsl_1_1random__internal_1_1istream__state__saver_af1ada7348943c3fb08c38f98ade377ca}{flags\_type}}\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal}{flags}})}
\DoxyCodeLine{00139\ \ \ \ \ \ \ :\ is\_(is),\ flags\_(is.\mbox{\hyperlink{namespaceabsl_1_1flags__internal}{flags}}(\mbox{\hyperlink{namespaceabsl_1_1flags__internal}{flags}}))\ \{\}}
\DoxyCodeLine{00140\ }
\DoxyCodeLine{00141\ \ \ \mbox{\hyperlink{classabsl_1_1random__internal_1_1istream__state__saver_a5762a5a196c0b444abb05dfd4dc8394f}{\string~istream\_state\_saver}}()\ \{\ is\_.flags(flags\_);\ \}}
\DoxyCodeLine{00142\ }
\DoxyCodeLine{00143\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00144\ \ \ \mbox{\hyperlink{classabsl_1_1random__internal_1_1istream__state__saver_a8056b014b7f26270c6f4edede9611d60}{istream\_type}}\&\ is\_;}
\DoxyCodeLine{00145\ \ \ \mbox{\hyperlink{classabsl_1_1random__internal_1_1istream__state__saver_af1ada7348943c3fb08c38f98ade377ca}{flags\_type}}\ flags\_;}
\DoxyCodeLine{00146\ \};}
\DoxyCodeLine{00147\ }
\DoxyCodeLine{00148\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ CharT,\ \textcolor{keyword}{typename}\ Traits>}
\DoxyCodeLine{00149\ \mbox{\hyperlink{classabsl_1_1random__internal_1_1istream__state__saver}{istream\_state\_saver<std::basic\_istream<CharT,\ Traits>}}>\ \mbox{\hyperlink{namespaceabsl_1_1random__internal_a8cbee2e68d48599a1d2fe727d31a4cc7}{make\_istream\_state\_saver}}(}
\DoxyCodeLine{00150\ \ \ \ \ std::basic\_istream<CharT,\ Traits>\&\ is,\ \ \textcolor{comment}{//\ NOLINT(runtime/references)}}
\DoxyCodeLine{00151\ \ \ \ \ std::ios\_base::fmtflags\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal}{flags}}\ =\ std::ios\_base::dec\ |}
\DoxyCodeLine{00152\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::ios\_base::scientific\ |}
\DoxyCodeLine{00153\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::ios\_base::skipws)\ \{}
\DoxyCodeLine{00154\ \ \ \textcolor{keyword}{using\ }result\_type\ =\ \mbox{\hyperlink{classabsl_1_1random__internal_1_1istream__state__saver}{istream\_state\_saver<std::basic\_istream<CharT,\ Traits>}}>;}
\DoxyCodeLine{00155\ \ \ \textcolor{keywordflow}{return}\ result\_type(is,\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal}{flags}});}
\DoxyCodeLine{00156\ \}}
\DoxyCodeLine{00157\ }
\DoxyCodeLine{00158\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00159\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{namespaceabsl_a059ea7c8c3122cd36d4e270733757ff9}{absl::enable\_if\_t<!std::is\_base\_of<std::ios\_base,\ T>::value}},}
\DoxyCodeLine{00160\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ null\_state\_saver<T>>}
\DoxyCodeLine{00161\ \mbox{\hyperlink{namespaceabsl_1_1random__internal_a8cbee2e68d48599a1d2fe727d31a4cc7}{make\_istream\_state\_saver}}(T\&\ is,\ \ \textcolor{comment}{//\ NOLINT(runtime/references)}}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::ios\_base::fmtflags\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal}{flags}}\ =\ std::ios\_base::dec)\ \{}
\DoxyCodeLine{00163\ \ \ \textcolor{keyword}{using\ }result\_type\ =\ \mbox{\hyperlink{classabsl_1_1random__internal_1_1null__state__saver}{null\_state\_saver<T>}};}
\DoxyCodeLine{00164\ \ \ \textcolor{keywordflow}{return}\ result\_type(is,\ \mbox{\hyperlink{namespaceabsl_1_1flags__internal}{flags}});}
\DoxyCodeLine{00165\ \}}
\DoxyCodeLine{00166\ }
\DoxyCodeLine{00167\ \textcolor{comment}{//\ stream\_format\_type<T>\ is\ a\ helper\ struct\ to\ convert\ types\ which}}
\DoxyCodeLine{00168\ \textcolor{comment}{//\ basic\_iostream\ cannot\ output\ as\ decimal\ numbers\ into\ types\ which}}
\DoxyCodeLine{00169\ \textcolor{comment}{//\ basic\_iostream\ can\ output\ as\ decimal\ numbers.\ Specifically:}}
\DoxyCodeLine{00170\ \textcolor{comment}{//\ *\ signed/unsigned\ char-\/width\ types\ are\ converted\ to\ int.}}
\DoxyCodeLine{00171\ \textcolor{comment}{//\ *\ TODO(lar):\ \_\_int128\ =>\ uint128,\ except\ there\ is\ no\ operator\ <<\ yet.}}
\DoxyCodeLine{00172\ \textcolor{comment}{//}}
\DoxyCodeLine{00173\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00174\ \textcolor{keyword}{struct\ }stream\_format\_type}
\DoxyCodeLine{00175\ \ \ \ \ :\ \textcolor{keyword}{public}\ std::conditional<(sizeof(T)\ ==\ sizeof(char)),\ int,\ T>\ \{\};}
\DoxyCodeLine{00176\ }
\DoxyCodeLine{00177\ \textcolor{comment}{//\ stream\_u128\_helper\ allows\ us\ to\ write\ out\ either\ absl::uint128\ or}}
\DoxyCodeLine{00178\ \textcolor{comment}{//\ \_\_uint128\_t\ types\ in\ the\ same\ way,\ which\ enables\ their\ use\ as\ internal}}
\DoxyCodeLine{00179\ \textcolor{comment}{//\ state\ of\ PRNG\ engines.}}
\DoxyCodeLine{00180\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00181\ \textcolor{keyword}{struct\ }stream\_u128\_helper;}
\DoxyCodeLine{00182\ }
\DoxyCodeLine{00183\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00184\ \textcolor{keyword}{struct\ }stream\_u128\_helper<\mbox{\hyperlink{namespaceabsl}{absl}}::uint128>\ \{}
\DoxyCodeLine{00185\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ IStream>}
\DoxyCodeLine{00186\ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classabsl_1_1uint128}{absl::uint128}}\ \mbox{\hyperlink{structabsl_1_1random__internal_1_1stream__u128__helper_3_01absl_1_1uint128_01_4_a51a6070c179366e42ca498763d6293c9}{read}}(IStream\&\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2parser__test_8cc_a52bb50fce643c4899922808db7d60d42}{in}})\ \{}
\DoxyCodeLine{00187\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2510c39011c5be704182423e3a695e91}{h}}\ =\ 0;}
\DoxyCodeLine{00188\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2db95e8e1a9267b7a1188556b2013b33}{l}}\ =\ 0;}
\DoxyCodeLine{00189\ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2parser__test_8cc_a52bb50fce643c4899922808db7d60d42}{in}}\ >>\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2510c39011c5be704182423e3a695e91}{h}}\ >>\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2db95e8e1a9267b7a1188556b2013b33}{l}};}
\DoxyCodeLine{00190\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceabsl_a5b8cd59a1fb92b2337309c494ce5a35a}{absl::MakeUint128}}(\mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2510c39011c5be704182423e3a695e91}{h}},\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2db95e8e1a9267b7a1188556b2013b33}{l}});}
\DoxyCodeLine{00191\ \ \ \}}
\DoxyCodeLine{00192\ }
\DoxyCodeLine{00193\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OStream>}
\DoxyCodeLine{00194\ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structabsl_1_1random__internal_1_1stream__u128__helper_3_01absl_1_1uint128_01_4_aa5c0ce1e7e37156073e0544eec72a304}{write}}(\mbox{\hyperlink{classabsl_1_1uint128}{absl::uint128}}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_aa0ccb5ee6d882ee3605ff47745c6467b}{val}},\ OStream\&\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2parser__test_8cc_a8905de849f303a8598c0f7c3d37d46ed}{out}})\ \{}
\DoxyCodeLine{00195\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2510c39011c5be704182423e3a695e91}{h}}\ =\ \mbox{\hyperlink{namespaceabsl_aa4d1a5f89683d2e7c9792bbcb0f76cdc}{absl::Uint128High64}}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_aa0ccb5ee6d882ee3605ff47745c6467b}{val}});}
\DoxyCodeLine{00196\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2db95e8e1a9267b7a1188556b2013b33}{l}}\ =\ \mbox{\hyperlink{namespaceabsl_a83dabea7da36c35eb8ada5f301b98615}{absl::Uint128Low64}}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_aa0ccb5ee6d882ee3605ff47745c6467b}{val}});}
\DoxyCodeLine{00197\ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2parser__test_8cc_a8905de849f303a8598c0f7c3d37d46ed}{out}}\ <<\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2510c39011c5be704182423e3a695e91}{h}}\ <<\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2parser__test_8cc_a8905de849f303a8598c0f7c3d37d46ed}{out}}.fill()\ <<\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2db95e8e1a9267b7a1188556b2013b33}{l}};}
\DoxyCodeLine{00198\ \ \ \}}
\DoxyCodeLine{00199\ \};}
\DoxyCodeLine{00200\ }
\DoxyCodeLine{00201\ \textcolor{preprocessor}{\#ifdef\ ABSL\_HAVE\_INTRINSIC\_INT128}}
\DoxyCodeLine{00202\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00203\ \textcolor{keyword}{struct\ }stream\_u128\_helper<\_\_uint128\_t>\ \{}
\DoxyCodeLine{00204\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ IStream>}
\DoxyCodeLine{00205\ \ \ \textcolor{keyword}{inline}\ \_\_uint128\_t\ read(IStream\&\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2parser__test_8cc_a52bb50fce643c4899922808db7d60d42}{in}})\ \{}
\DoxyCodeLine{00206\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2510c39011c5be704182423e3a695e91}{h}}\ =\ 0;}
\DoxyCodeLine{00207\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2db95e8e1a9267b7a1188556b2013b33}{l}}\ =\ 0;}
\DoxyCodeLine{00208\ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2parser__test_8cc_a52bb50fce643c4899922808db7d60d42}{in}}\ >>\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2510c39011c5be704182423e3a695e91}{h}}\ >>\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2db95e8e1a9267b7a1188556b2013b33}{l}};}
\DoxyCodeLine{00209\ \ \ \ \ \textcolor{keywordflow}{return}\ (\textcolor{keyword}{static\_cast<}\_\_uint128\_t\textcolor{keyword}{>}(\mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2510c39011c5be704182423e3a695e91}{h}})\ <<\ 64)\ |\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2db95e8e1a9267b7a1188556b2013b33}{l}};}
\DoxyCodeLine{00210\ \ \ \}}
\DoxyCodeLine{00211\ }
\DoxyCodeLine{00212\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OStream>}
\DoxyCodeLine{00213\ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ write(\_\_uint128\_t\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_aa0ccb5ee6d882ee3605ff47745c6467b}{val}},\ OStream\&\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2parser__test_8cc_a8905de849f303a8598c0f7c3d37d46ed}{out}})\ \{}
\DoxyCodeLine{00214\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2510c39011c5be704182423e3a695e91}{h}}\ =\ \textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_aa0ccb5ee6d882ee3605ff47745c6467b}{val}}\ >>\ 64u);}
\DoxyCodeLine{00215\ \ \ \ \ uint64\_t\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2db95e8e1a9267b7a1188556b2013b33}{l}}\ =\ \textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_aa0ccb5ee6d882ee3605ff47745c6467b}{val}});}
\DoxyCodeLine{00216\ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2parser__test_8cc_a8905de849f303a8598c0f7c3d37d46ed}{out}}\ <<\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2510c39011c5be704182423e3a695e91}{h}}\ <<\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2parser__test_8cc_a8905de849f303a8598c0f7c3d37d46ed}{out}}.fill()\ <<\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2db95e8e1a9267b7a1188556b2013b33}{l}};}
\DoxyCodeLine{00217\ \ \ \}}
\DoxyCodeLine{00218\ \};}
\DoxyCodeLine{00219\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00220\ }
\DoxyCodeLine{00221\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ FloatType,\ \textcolor{keyword}{typename}\ IStream>}
\DoxyCodeLine{00222\ \textcolor{keyword}{inline}\ FloatType\ \mbox{\hyperlink{namespaceabsl_1_1random__internal_a59f357f5be30c3730184c7336dc65bb2}{read\_floating\_point}}(IStream\&\ is)\ \{}
\DoxyCodeLine{00223\ \ \ \textcolor{keyword}{static\_assert}(std::is\_floating\_point<FloatType>::value,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00224\ \ \ FloatType\ dest;}
\DoxyCodeLine{00225\ \ \ is\ >>\ dest;}
\DoxyCodeLine{00226\ \ \ \textcolor{comment}{//\ Parsing\ a\ double\ value\ may\ report\ a\ subnormal\ value\ as\ an\ error}}
\DoxyCodeLine{00227\ \ \ \textcolor{comment}{//\ despite\ being\ able\ to\ represent\ it.}}
\DoxyCodeLine{00228\ \ \ \textcolor{comment}{//\ See\ https://stackoverflow.com/q/52410931/3286653}}
\DoxyCodeLine{00229\ \ \ \textcolor{comment}{//\ It\ may\ also\ report\ an\ underflow\ when\ parsing\ DOUBLE\_MIN\ as\ an}}
\DoxyCodeLine{00230\ \ \ \textcolor{comment}{//\ ERANGE\ error,\ as\ the\ parsed\ value\ may\ be\ smaller\ than\ DOUBLE\_MIN}}
\DoxyCodeLine{00231\ \ \ \textcolor{comment}{//\ and\ rounded\ up.}}
\DoxyCodeLine{00232\ \ \ \textcolor{comment}{//\ See:\ https://stackoverflow.com/q/42005462}}
\DoxyCodeLine{00233\ \ \ \textcolor{keywordflow}{if}\ (is.fail()\ \&\&}
\DoxyCodeLine{00234\ \ \ \ \ \ \ (std::fabs(dest)\ ==\ (std::numeric\_limits<FloatType>::min)()\ ||}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ std::fpclassify(dest)\ ==\ FP\_SUBNORMAL))\ \{}
\DoxyCodeLine{00236\ \ \ \ \ is.clear(is.rdstate()\ \&\ (\string~std::ios\_base::failbit));}
\DoxyCodeLine{00237\ \ \ \}}
\DoxyCodeLine{00238\ \ \ \textcolor{keywordflow}{return}\ dest;}
\DoxyCodeLine{00239\ \}}
\DoxyCodeLine{00240\ }
\DoxyCodeLine{00241\ \}\ \ \textcolor{comment}{//\ namespace\ random\_internal}}
\DoxyCodeLine{00242\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2config_8h_a49c6cd9be2b7205d48557c9fa90ec5a6}{ABSL\_NAMESPACE\_END}}}
\DoxyCodeLine{00243\ \}\ \ \textcolor{comment}{//\ namespace\ absl}}
\DoxyCodeLine{00244\ }
\DoxyCodeLine{00245\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ ABSL\_RANDOM\_INTERNAL\_IOSTREAM\_STATE\_SAVER\_H\_}}

\end{DoxyCode}
