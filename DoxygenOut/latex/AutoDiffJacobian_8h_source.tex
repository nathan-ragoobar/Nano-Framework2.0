\doxysection{Auto\+Diff\+Jacobian.\+h}
\hypertarget{AutoDiffJacobian_8h_source}{}\label{AutoDiffJacobian_8h_source}\index{eigen/unsupported/Eigen/src/AutoDiff/AutoDiffJacobian.h@{eigen/unsupported/Eigen/src/AutoDiff/AutoDiffJacobian.h}}
\mbox{\hyperlink{AutoDiffJacobian_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ This\ file\ is\ part\ of\ Eigen,\ a\ lightweight\ C++\ template\ library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ for\ linear\ algebra.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Copyright\ (C)\ 2009\ Gael\ Guennebaud\ <gael.guennebaud@inria.fr>}}
\DoxyCodeLine{00005\ \textcolor{comment}{//}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ This\ Source\ Code\ Form\ is\ subject\ to\ the\ terms\ of\ the\ Mozilla}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ Public\ License\ v.\ 2.0.\ If\ a\ copy\ of\ the\ MPL\ was\ not\ distributed}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ with\ this\ file,\ You\ can\ obtain\ one\ at\ http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_AUTODIFF\_JACOBIAN\_H}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#define\ EIGEN\_AUTODIFF\_JACOBIAN\_H}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceEigen}{Eigen}}}
\DoxyCodeLine{00014\ \{}
\DoxyCodeLine{00015\ }
\DoxyCodeLine{00016\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Functor>\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classEigen_1_1AutoDiffJacobian}{AutoDiffJacobian}}\ :\ \textcolor{keyword}{public}\ Functor}
\DoxyCodeLine{00017\ \{}
\DoxyCodeLine{00018\ \textcolor{keyword}{public}:}
\DoxyCodeLine{00019\ \ \ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a55ffbe3bb27227e7c8d423aeecc0aada}{AutoDiffJacobian}}()\ :\ Functor()\ \{\}}
\DoxyCodeLine{00020\ \ \ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_af28bf6fab1a0dafe1429d6d04acfe396}{AutoDiffJacobian}}(\textcolor{keyword}{const}\ Functor\&\ f)\ :\ Functor(f)\ \{\}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \ \ \textcolor{comment}{//\ forward\ constructors}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#if\ EIGEN\_HAS\_VARIADIC\_TEMPLATES}}
\DoxyCodeLine{00024\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}...\ T>}
\DoxyCodeLine{00025\ \ \ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a55ffbe3bb27227e7c8d423aeecc0aada}{AutoDiffJacobian}}(\textcolor{keyword}{const}\ T\&\ ...Values)\ :\ Functor(Values...)\ \{\}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00027\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T0>}
\DoxyCodeLine{00028\ \ \ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a8e78187ab2df1d09395c9910e182b305}{AutoDiffJacobian}}(\textcolor{keyword}{const}\ T0\&\ a0)\ :\ Functor(a0)\ \{\}}
\DoxyCodeLine{00029\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T0,\ \textcolor{keyword}{typename}\ T1>}
\DoxyCodeLine{00030\ \ \ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a459df1c8203bd0aef5ea3ed964d6e8f1}{AutoDiffJacobian}}(\textcolor{keyword}{const}\ T0\&\ a0,\ \textcolor{keyword}{const}\ T1\&\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2hash__function__defaults__test_8cc_a57de565397d6cdb8f80d5a9f938c4653}{a1}})\ :\ Functor(a0,\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2hash__function__defaults__test_8cc_a57de565397d6cdb8f80d5a9f938c4653}{a1}})\ \{\}}
\DoxyCodeLine{00031\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ T0,\ \textcolor{keyword}{typename}\ T1,\ \textcolor{keyword}{typename}\ T2>}
\DoxyCodeLine{00032\ \ \ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_abcc3d282a198c67c3c0b15ee81763f5c}{AutoDiffJacobian}}(\textcolor{keyword}{const}\ T0\&\ a0,\ \textcolor{keyword}{const}\ T1\&\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2hash__function__defaults__test_8cc_a57de565397d6cdb8f80d5a9f938c4653}{a1}},\ \textcolor{keyword}{const}\ T2\&\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2hash__function__defaults__test_8cc_a3bda233f2ae6bf005d10325972502a26}{a2}})\ :\ Functor(a0,\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2hash__function__defaults__test_8cc_a57de565397d6cdb8f80d5a9f938c4653}{a1}},\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2hash__function__defaults__test_8cc_a3bda233f2ae6bf005d10325972502a26}{a2}})\ \{\}}
\DoxyCodeLine{00033\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00034\ }
\DoxyCodeLine{00035\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Functor::InputType\ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a7282c8b0f70c6c8d069f83ad86848e1d}{InputType}};}
\DoxyCodeLine{00036\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Functor::ValueType\ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a83305b473ebc8fada0f16fecfc4721e6}{ValueType}};}
\DoxyCodeLine{00037\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ ValueType::Scalar\ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_aff998340df663b10061d6e0369d6533e}{Scalar}};}
\DoxyCodeLine{00038\ }
\DoxyCodeLine{00039\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00040\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a3162d693f6cd3b863db3b6ba92d105cdae02a3d830389641660d0a3d110a054fc}{InputsAtCompileTime}}\ =\ InputType::RowsAtCompileTime,}
\DoxyCodeLine{00041\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a3162d693f6cd3b863db3b6ba92d105cda43c41fef1343e47f18f0d1ca728e2237}{ValuesAtCompileTime}}\ =\ ValueType::RowsAtCompileTime}
\DoxyCodeLine{00042\ \ \ \};}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1Matrix}{Matrix<Scalar,\ ValuesAtCompileTime,\ InputsAtCompileTime>}}\ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a8dc313141cad24b59d881fcc2925693a}{JacobianType}};}
\DoxyCodeLine{00045\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ JacobianType::Index\ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a6cb03386a42add2b72ed9bd3bf80ea48}{Index}};}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1Matrix}{Matrix<Scalar,\ InputsAtCompileTime,\ 1>}}\ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_ae4acf94c53752db8a734ed4428028ed1}{DerivativeType}};}
\DoxyCodeLine{00048\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1AutoDiffScalar}{AutoDiffScalar<DerivativeType>}}\ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_accd9c2875d2805ad36085cf7826e44a9}{ActiveScalar}};}
\DoxyCodeLine{00049\ }
\DoxyCodeLine{00050\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1Matrix}{Matrix<ActiveScalar,\ InputsAtCompileTime,\ 1>}}\ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a9160f8e4b732fdb6ef5d82ebb354ebe8}{ActiveInput}};}
\DoxyCodeLine{00051\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1Matrix}{Matrix<ActiveScalar,\ ValuesAtCompileTime,\ 1>}}\ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a036c9cb38d64b6fa6bac84d1f80df8ec}{ActiveValue}};}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \textcolor{preprocessor}{\#if\ EIGEN\_HAS\_VARIADIC\_TEMPLATES}}
\DoxyCodeLine{00054\ \ \ \textcolor{comment}{//\ Some\ compilers\ don't\ accept\ variadic\ parameters\ after\ a\ default\ parameter,}}
\DoxyCodeLine{00055\ \ \ \textcolor{comment}{//\ i.e.,\ we\ can't\ just\ write\ \_jac=0\ but\ we\ need\ to\ overload\ operator():}}
\DoxyCodeLine{00056\ \ \ \mbox{\hyperlink{Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}}
\DoxyCodeLine{00057\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a7e9380a43f2f256ad3f00d683a943f1e}{operator()\ }}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a7282c8b0f70c6c8d069f83ad86848e1d}{InputType}}\&\ x,\ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a83305b473ebc8fada0f16fecfc4721e6}{ValueType}}*\ v)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00058\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00059\ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a7e9380a43f2f256ad3f00d683a943f1e}{operator()}}(x,\ v,\ 0);}
\DoxyCodeLine{00060\ \ \ \}}
\DoxyCodeLine{00061\ \ \ \textcolor{keyword}{template}<\textcolor{keyword}{typename}...\ ParamsType>}
\DoxyCodeLine{00062\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a7e9380a43f2f256ad3f00d683a943f1e}{operator()\ }}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a7282c8b0f70c6c8d069f83ad86848e1d}{InputType}}\&\ x,\ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a83305b473ebc8fada0f16fecfc4721e6}{ValueType}}*\ v,\ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a8dc313141cad24b59d881fcc2925693a}{JacobianType}}*\ \_jac,}
\DoxyCodeLine{00063\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ ParamsType\&...\ Params)\ \textcolor{keyword}{const}}
\DoxyCodeLine{00064\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00065\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a7e9380a43f2f256ad3f00d683a943f1e}{operator()\ }}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a7282c8b0f70c6c8d069f83ad86848e1d}{InputType}}\&\ x,\ \mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a83305b473ebc8fada0f16fecfc4721e6}{ValueType}}*\ v,\ \mbox{\hyperlink{classEigen_1_1Matrix}{JacobianType}}*\ \_jac=0)\ const}
\DoxyCodeLine{00066\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00067\ \ \ \{}
\DoxyCodeLine{00068\ \ \ \ \ \mbox{\hyperlink{Macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(v!=0);}
\DoxyCodeLine{00069\ }
\DoxyCodeLine{00070\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\_jac)}
\DoxyCodeLine{00071\ \ \ \ \ \{}
\DoxyCodeLine{00072\ \textcolor{preprocessor}{\#if\ EIGEN\_HAS\_VARIADIC\_TEMPLATES}}
\DoxyCodeLine{00073\ \ \ \ \ \ \ Functor::operator()(x,\ v,\ Params...);}
\DoxyCodeLine{00074\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00075\ \ \ \ \ \ \ Functor::operator()(x,\ v);}
\DoxyCodeLine{00076\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00077\ \ \ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00078\ \ \ \ \ \}}
\DoxyCodeLine{00079\ }
\DoxyCodeLine{00080\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1Matrix}{JacobianType}}\&\ jac\ =\ *\_jac;}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1Matrix}{ActiveInput}}\ ax\ =\ x.template\ \mbox{\hyperlink{CommonCwiseUnaryOps_8h_aa89d007196125d10fa7d6e19811aca05}{cast<ActiveScalar>}}();}
\DoxyCodeLine{00083\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1Matrix}{ActiveValue}}\ av(jac.\mbox{\hyperlink{classEigen_1_1PlainObjectBase_afbc668abdcb3bda3bc4c58c4d88e9603}{rows}}());}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a3162d693f6cd3b863db3b6ba92d105cdae02a3d830389641660d0a3d110a054fc}{InputsAtCompileTime}}==Dynamic)}
\DoxyCodeLine{00086\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a6cb03386a42add2b72ed9bd3bf80ea48}{Index}}\ j=0;\ j<jac.\mbox{\hyperlink{classEigen_1_1PlainObjectBase_afbc668abdcb3bda3bc4c58c4d88e9603}{rows}}();\ j++)}
\DoxyCodeLine{00087\ \ \ \ \ \ \ \ \ av[j].derivatives().\mbox{\hyperlink{classEigen_1_1PlainObjectBase_a99d9054ee2d5a40c6e00ded0265e9cea}{resize}}(x.rows());}
\DoxyCodeLine{00088\ }
\DoxyCodeLine{00089\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a6cb03386a42add2b72ed9bd3bf80ea48}{Index}}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}=0;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}<jac.\mbox{\hyperlink{classEigen_1_1PlainObjectBase_a74176163ce10338f1ea1f3bda5afd78c}{cols}}();\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}++)}
\DoxyCodeLine{00090\ \ \ \ \ \ \ ax[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}].derivatives()\ =\ DerivativeType::Unit(x.rows(),\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}});}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \textcolor{preprocessor}{\#if\ EIGEN\_HAS\_VARIADIC\_TEMPLATES}}
\DoxyCodeLine{00093\ \ \ \ \ Functor::operator()(ax,\ \&av,\ Params...);}
\DoxyCodeLine{00094\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00095\ \ \ \ \ Functor::operator()(ax,\ \&av);}
\DoxyCodeLine{00096\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{classEigen_1_1AutoDiffJacobian_a6cb03386a42add2b72ed9bd3bf80ea48}{Index}}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}=0;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}<jac.\mbox{\hyperlink{classEigen_1_1PlainObjectBase_afbc668abdcb3bda3bc4c58c4d88e9603}{rows}}();\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}++)}
\DoxyCodeLine{00099\ \ \ \ \ \{}
\DoxyCodeLine{00100\ \ \ \ \ \ \ (*v)[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}]\ =\ av[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}].value();}
\DoxyCodeLine{00101\ \ \ \ \ \ \ jac.row(\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}})\ =\ av[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}].derivatives();}
\DoxyCodeLine{00102\ \ \ \ \ \}}
\DoxyCodeLine{00103\ \ \ \}}
\DoxyCodeLine{00104\ \};}
\DoxyCodeLine{00105\ }
\DoxyCodeLine{00106\ \}}
\DoxyCodeLine{00107\ }
\DoxyCodeLine{00108\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ EIGEN\_AUTODIFF\_JACOBIAN\_H}}

\end{DoxyCode}
