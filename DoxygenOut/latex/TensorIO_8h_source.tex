\doxysection{Tensor\+IO.\+h}
\hypertarget{TensorIO_8h_source}{}\label{TensorIO_8h_source}\index{eigen/unsupported/Eigen/CXX11/src/Tensor/TensorIO.h@{eigen/unsupported/Eigen/CXX11/src/Tensor/TensorIO.h}}
\mbox{\hyperlink{TensorIO_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ This\ file\ is\ part\ of\ Eigen,\ a\ lightweight\ C++\ template\ library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ for\ linear\ algebra.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Copyright\ (C)\ 2014\ Benoit\ Steiner\ <benoit.steiner.goog@gmail.com>}}
\DoxyCodeLine{00005\ \textcolor{comment}{//}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ This\ Source\ Code\ Form\ is\ subject\ to\ the\ terms\ of\ the\ Mozilla}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ Public\ License\ v.\ 2.0.\ If\ a\ copy\ of\ the\ MPL\ was\ not\ distributed}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ with\ this\ file,\ You\ can\ obtain\ one\ at\ http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_CXX11\_TENSOR\_TENSOR\_IO\_H}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#define\ EIGEN\_CXX11\_TENSOR\_TENSOR\_IO\_H}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceEigen}{Eigen}}\ \{}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceinternal}{internal}}\ \{}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{comment}{//\ Print\ the\ tensor\ as\ a\ 2d\ matrix}}
\DoxyCodeLine{00018\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Tensor,\ \textcolor{keywordtype}{int}\ Rank>}
\DoxyCodeLine{00019\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1internal_1_1TensorPrinter}{TensorPrinter}}\ \{}
\DoxyCodeLine{00020\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structEigen_1_1internal_1_1TensorPrinter_a8021cfd7526ef9baf49379ff95465ab2}{run}}\ (std::ostream\&\ os,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1Tensor}{Tensor}}\&\ tensor)\ \{}
\DoxyCodeLine{00021\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1remove__const_ac5a3a624f6f266abd1b25b1dcf1e08be}{internal::remove\_const<typename\ Tensor::Scalar>::type}}\ Scalar;}
\DoxyCodeLine{00022\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1Tensor_a357ea65cec4f069606c21dc16ecb71b4}{Tensor::Index}}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}};}
\DoxyCodeLine{00023\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ total\_size\ =\ \mbox{\hyperlink{namespaceEigen_1_1internal_a3b99e338d92a91c8b3f89d32d0ca2c39}{internal::array\_prod}}(tensor.\mbox{\hyperlink{classEigen_1_1Tensor_a725206cdbdabc9e918f5f28d18e39d70}{dimensions}}());}
\DoxyCodeLine{00024\ \ \ \ \ \textcolor{keywordflow}{if}\ (total\_size\ >\ 0)\ \{}
\DoxyCodeLine{00025\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ first\_dim\ =\ \mbox{\hyperlink{namespaceEigen_1_1internal_a7dd131bbd4a892f4d48cfce903de56c5}{Eigen::internal::array\_get<0>}}(tensor.\mbox{\hyperlink{classEigen_1_1Tensor_a725206cdbdabc9e918f5f28d18e39d70}{dimensions}}());}
\DoxyCodeLine{00026\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ layout\ =\ \mbox{\hyperlink{classEigen_1_1Tensor_a108ab0b67c322b51704da37a8c543710ac5fe622c93397216e57c500371760b8c}{Tensor::Layout}};}
\DoxyCodeLine{00027\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1Map}{Map<const\ Array<Scalar,\ Dynamic,\ Dynamic,\ layout>}}\ >\ matrix(\textcolor{keyword}{const\_cast<}Scalar*\textcolor{keyword}{>}(tensor.\mbox{\hyperlink{classEigen_1_1Tensor_af5f98b8e2388ce191c3530bb78ea30fc}{data}}()),\ first\_dim,\ total\_size/first\_dim);}
\DoxyCodeLine{00028\ \ \ \ \ \ \ os\ <<\ matrix;}
\DoxyCodeLine{00029\ \ \ \ \ \}}
\DoxyCodeLine{00030\ \ \ \}}
\DoxyCodeLine{00031\ \};}
\DoxyCodeLine{00032\ }
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{comment}{//\ Print\ the\ tensor\ as\ a\ vector}}
\DoxyCodeLine{00035\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Tensor>}
\DoxyCodeLine{00036\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1internal_1_1TensorPrinter}{TensorPrinter}}<\mbox{\hyperlink{classEigen_1_1Tensor}{Tensor}},\ 1>\ \{}
\DoxyCodeLine{00037\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structEigen_1_1internal_1_1TensorPrinter_3_01Tensor_00_011_01_4_a0937497ab765508ea5720dbd71c016c0}{run}}\ (std::ostream\&\ os,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1Tensor}{Tensor}}\&\ tensor)\ \{}
\DoxyCodeLine{00038\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1remove__const_ac5a3a624f6f266abd1b25b1dcf1e08be}{internal::remove\_const<typename\ Tensor::Scalar>::type}}\ Scalar;}
\DoxyCodeLine{00039\ \ \ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1Tensor_a357ea65cec4f069606c21dc16ecb71b4}{Tensor::Index}}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}};}
\DoxyCodeLine{00040\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ total\_size\ =\ \mbox{\hyperlink{namespaceEigen_1_1internal_a3b99e338d92a91c8b3f89d32d0ca2c39}{internal::array\_prod}}(tensor.\mbox{\hyperlink{classEigen_1_1Tensor_a725206cdbdabc9e918f5f28d18e39d70}{dimensions}}());}
\DoxyCodeLine{00041\ \ \ \ \ \textcolor{keywordflow}{if}\ (total\_size\ >\ 0)\ \{}
\DoxyCodeLine{00042\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1Map}{Map<const\ Array<Scalar,\ Dynamic,\ 1>}}\ >\ \mbox{\hyperlink{classEigen_1_1array}{array}}(\textcolor{keyword}{const\_cast<}Scalar*\textcolor{keyword}{>}(tensor.\mbox{\hyperlink{classEigen_1_1Tensor_af5f98b8e2388ce191c3530bb78ea30fc}{data}}()),\ total\_size);}
\DoxyCodeLine{00043\ \ \ \ \ \ \ os\ <<\ \mbox{\hyperlink{classEigen_1_1array}{array}};}
\DoxyCodeLine{00044\ \ \ \ \ \}}
\DoxyCodeLine{00045\ \ \ \}}
\DoxyCodeLine{00046\ \};}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \textcolor{comment}{//\ Print\ the\ tensor\ as\ a\ scalar}}
\DoxyCodeLine{00050\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Tensor>}
\DoxyCodeLine{00051\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1internal_1_1TensorPrinter}{TensorPrinter}}<\mbox{\hyperlink{classEigen_1_1Tensor}{Tensor}},\ 0>\ \{}
\DoxyCodeLine{00052\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structEigen_1_1internal_1_1TensorPrinter_3_01Tensor_00_010_01_4_a4ed64d0c0cceee3f2aec009c833937e0}{run}}\ (std::ostream\&\ os,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1Tensor}{Tensor}}\&\ tensor)\ \{}
\DoxyCodeLine{00053\ \ \ \ \ os\ <<\ tensor.\mbox{\hyperlink{classEigen_1_1Tensor_adce1b24a29b46ff9d56d962c16b8c979}{coeff}}(0);}
\DoxyCodeLine{00054\ \ \ \}}
\DoxyCodeLine{00055\ \};}
\DoxyCodeLine{00056\ \}}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00059\ std::ostream\&\ \mbox{\hyperlink{namespaceEigen_ac78030c0b948de8279c1cbc0b62cc202}{operator\ <<\ }}(std::ostream\&\ os,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1TensorBase}{TensorBase<T,\ ReadOnlyAccessors>}}\&\ expr)\ \{}
\DoxyCodeLine{00060\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator}{TensorEvaluator<const\ TensorForcedEvalOp<const\ T>}},\ \mbox{\hyperlink{structEigen_1_1DefaultDevice}{DefaultDevice}}>\ Evaluator;}
\DoxyCodeLine{00061\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Evaluator::Dimensions\ Dimensions;}
\DoxyCodeLine{00062\ }
\DoxyCodeLine{00063\ \ \ \textcolor{comment}{//\ Evaluate\ the\ expression\ if\ needed}}
\DoxyCodeLine{00064\ \ \ \mbox{\hyperlink{classEigen_1_1TensorForcedEvalOp}{TensorForcedEvalOp<const\ T>}}\ eval\ =\ expr.eval();}
\DoxyCodeLine{00065\ \ \ Evaluator\ tensor(eval,\ \mbox{\hyperlink{structEigen_1_1DefaultDevice}{DefaultDevice}}());}
\DoxyCodeLine{00066\ \ \ tensor.evalSubExprsIfNeeded(NULL);}
\DoxyCodeLine{00067\ }
\DoxyCodeLine{00068\ \ \ \textcolor{comment}{//\ Print\ the\ result}}
\DoxyCodeLine{00069\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{abseil-cpp_2absl_2synchronization_2internal_2graphcycles_8cc_a59af5cb2404da5d33f54e62b4c9d1813}{rank}}\ =\ \mbox{\hyperlink{structEigen_1_1internal_1_1array__size}{internal::array\_size<Dimensions>::value}};}
\DoxyCodeLine{00070\ \ \ \mbox{\hyperlink{structEigen_1_1internal_1_1TensorPrinter_a8021cfd7526ef9baf49379ff95465ab2}{internal::TensorPrinter<Evaluator,\ rank>::run}}(os,\ tensor);}
\DoxyCodeLine{00071\ }
\DoxyCodeLine{00072\ \ \ \textcolor{comment}{//\ Cleanup.}}
\DoxyCodeLine{00073\ \ \ tensor.cleanup();}
\DoxyCodeLine{00074\ \ \ \textcolor{keywordflow}{return}\ os;}
\DoxyCodeLine{00075\ \}}
\DoxyCodeLine{00076\ }
\DoxyCodeLine{00077\ \}\ \textcolor{comment}{//\ end\ namespace\ Eigen}}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ EIGEN\_CXX11\_TENSOR\_TENSOR\_IO\_H}}

\end{DoxyCode}
