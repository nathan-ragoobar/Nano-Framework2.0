\doxysection{Tensor\+Contraction\+Sycl.\+h}
\hypertarget{OriginalStuff_2eigen_2unsupported_2Eigen_2CXX11_2src_2Tensor_2TensorContractionSycl_8h_source}{}\label{OriginalStuff_2eigen_2unsupported_2Eigen_2CXX11_2src_2Tensor_2TensorContractionSycl_8h_source}\index{OriginalStuff/eigen/unsupported/Eigen/CXX11/src/Tensor/TensorContractionSycl.h@{OriginalStuff/eigen/unsupported/Eigen/CXX11/src/Tensor/TensorContractionSycl.h}}
\mbox{\hyperlink{OriginalStuff_2eigen_2unsupported_2Eigen_2CXX11_2src_2Tensor_2TensorContractionSycl_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ This\ file\ is\ part\ of\ Eigen,\ a\ lightweight\ C++\ template\ library\ for\ linear\ algebra.}}
\DoxyCodeLine{00002\ \textcolor{comment}{//}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ Mehdi\ Goli\ \ \ \ Codeplay\ Software\ Ltd.}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Ralph\ Potter\ \ Codeplay\ Software\ Ltd.}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ Luke\ Iwanski\ \ Codeplay\ Software\ Ltd.}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ Contact:\ <eigen@codeplay.com>}}
\DoxyCodeLine{00007\ \textcolor{comment}{//}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ This\ Source\ Code\ Form\ is\ subject\ to\ the\ terms\ of\ the\ Mozilla\ Public\ License\ v.\ 2.0.\ If\ a\ copy\ of\ the\ MPL\ was\ not}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ distributed\ with\ this\ file,\ You\ can\ obtain\ one\ at\ http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{00010\ }
\DoxyCodeLine{00011\ \textcolor{comment}{/*****************************************************************}}
\DoxyCodeLine{00012\ \textcolor{comment}{\ *\ TensorContractionSycl.h}}
\DoxyCodeLine{00013\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00014\ \textcolor{comment}{\ *\ \(\backslash\)brief:}}
\DoxyCodeLine{00015\ \textcolor{comment}{\ *\ \ TensorContractionSycl.h,\ provides\ various\ tensor\ contraction\ kernel\ for\ SYCL\ backend}}
\DoxyCodeLine{00016\ \textcolor{comment}{\ *}}
\DoxyCodeLine{00017\ \textcolor{comment}{\ *****************************************************************/}}
\DoxyCodeLine{00018\ }
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_CXX11\_TENSOR\_TENSOR\_CONTRACTION\_SYCL\_H}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#define\ EIGEN\_CXX11\_TENSOR\_TENSOR\_CONTRACTION\_SYCL\_H}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceEigen}{Eigen}}\ \{}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{keyword}{namespace\ }TensorSycl\ \{}
\DoxyCodeLine{00025\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceinternal}{internal}}\ \{}
\DoxyCodeLine{00026\ }
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_SYCL\_DISABLE\_GEMV}}
\DoxyCodeLine{00042\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Scalar,\ \textcolor{keyword}{typename}\ StorageIndex,\ StorageIndex\ NCWindow,\ StorageIndex\ CFactor,\ StorageIndex\ NCFactor>}
\DoxyCodeLine{00043\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TVPanelSize}{TVPanelSize}}\ \{}
\DoxyCodeLine{00044\ \ \ \textcolor{comment}{//\ LocalThreadSizeC:\ determines\ total\ number\ of\ thread\ per\ workgroup\ for\ the\ contracting\ dimension}}
\DoxyCodeLine{00045\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TVPanelSize_a8eef4d38992279fdbf0e328161f255dc}{LocalThreadSizeC}}\ =\ EIGEN\_SYCL\_LOCAL\_THREAD\_DIM0;}
\DoxyCodeLine{00046\ \ \ \textcolor{comment}{//\ LocalThreadSizeNC:\ determines\ total\ number\ of\ thread\ per\ workgroup\ for\ the\ non-\/contracting\ dimension}}
\DoxyCodeLine{00047\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TVPanelSize_af0204b64840c2efd55b49f21235fc61d}{LocalThreadSizeNC}}\ =\ EIGEN\_SYCL\_LOCAL\_THREAD\_DIM1;}
\DoxyCodeLine{00048\ \ \ \textcolor{comment}{//\ TileSizeDimNC:\ determines\ the\ tile\ size\ for\ the\ non-\/contracting\ dimension}}
\DoxyCodeLine{00049\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TVPanelSize_a165405647dfa6a67f588446c3c18e335}{TileSizeDimNC}}\ =\ NCWindow\ /\ NCFactor;}
\DoxyCodeLine{00050\ \ \ \textcolor{comment}{//\ TileSizeDimC:\ determines\ the\ tile\ size\ for\ the\ contracting\ dimension}}
\DoxyCodeLine{00051\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TVPanelSize_ac5384343df9833c887bb6df546def3d2}{TileSizeDimC}}\ =\ CFactor\ *\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TVPanelSize_af0204b64840c2efd55b49f21235fc61d}{LocalThreadSizeNC}}\ *\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TVPanelSize_a8eef4d38992279fdbf0e328161f255dc}{LocalThreadSizeC}};}
\DoxyCodeLine{00052\ \ \ \textcolor{comment}{//\ WorkLoadPerThreadNC\ :\ determines\ workload\ per\ thread\ for\ loading\ the\ non-\/contracting\ dimension}}
\DoxyCodeLine{00053\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TVPanelSize_ab73e3cedf0f102102fb0ec4b8bade676}{WorkLoadPerThreadNC}}\ =\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TVPanelSize_a165405647dfa6a67f588446c3c18e335}{TileSizeDimNC}}\ /\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TVPanelSize_af0204b64840c2efd55b49f21235fc61d}{LocalThreadSizeNC}};}
\DoxyCodeLine{00054\ \ \ \textcolor{comment}{//\ WorkLoadPerThreadC:\ determines\ workload\ per\ thread\ for\ loading\ the\ non-\/contracting\ dimension}}
\DoxyCodeLine{00055\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TVPanelSize_a9e2b31e1ddf1bdebf1dd8f7b3893cf47}{WorkLoadPerThreadC}}\ =\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TVPanelSize_ac5384343df9833c887bb6df546def3d2}{TileSizeDimC}}\ /\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TVPanelSize_a8eef4d38992279fdbf0e328161f255dc}{LocalThreadSizeC}};}
\DoxyCodeLine{00056\ \ \ \textcolor{comment}{//\ BC\ :\ determines\ if\ supporting\ bank\ conflict\ is\ required}}
\DoxyCodeLine{00057\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TVPanelSize_a1ff8c32566cb3e24f26b629856ea6200}{BC}}\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{00058\ \};}
\DoxyCodeLine{00059\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00060\ }
\DoxyCodeLine{00078\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Scalar,\ \textcolor{keyword}{typename}\ StorageIndex,\ StorageIndex\ REG\_SIZE\_M,\ StorageIndex\ REG\_SIZE\_N,\ StorageIndex\ TSDK>}
\DoxyCodeLine{00079\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize}{TTPanelSize}}\ \{}
\DoxyCodeLine{00080\ \ \ \textcolor{comment}{//\ TileSizeDimK:\ determines\ Tile\ size\ for\ dimension\ K.\ The\ packet\ size\ is\ assumed\ to\ be\ considered}}
\DoxyCodeLine{00081\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_a0d9d43326b738e2eecc800047fa7f929}{TileSizeDimK}}\ =\ TSDK;}
\DoxyCodeLine{00082\ \ \ \textcolor{comment}{//\ WorkLoadPerThreadM\ :\ determines\ workload\ per\ thread\ for\ loading\ the\ M\ dimension\ This\ can\ be\ varied\ based\ on\ the}}
\DoxyCodeLine{00083\ \ \ \textcolor{comment}{//\ available\ register\ on\ a\ chosen\ device(can\ be\ controlled\ by\ EIGEN\_SYCL\_REG\_M\ macro//}}
\DoxyCodeLine{00084\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_SYCL\_REG\_M}}
\DoxyCodeLine{00085\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_aeed883eb7cac42598c61d428706766b2}{WorkLoadPerThreadM}}\ =\ REG\_SIZE\_M;}
\DoxyCodeLine{00086\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00087\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_aeed883eb7cac42598c61d428706766b2}{WorkLoadPerThreadM}}\ =\ EIGEN\_SYCL\_REG\_M;}
\DoxyCodeLine{00088\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00089\ \textcolor{comment}{//\ WorkLoadPerThreadN\ :\ determines\ workload\ per\ thread\ for\ loading\ the\ N\ dimension\ This\ can\ be\ varied\ based\ on\ the}}
\DoxyCodeLine{00090\ \textcolor{comment}{//\ available\ register\ on\ a\ chosen\ device(can\ be\ controlled\ by\ EIGEN\_SYCL\_REG\_N\ macro}}
\DoxyCodeLine{00091\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_SYCL\_REG\_N}}
\DoxyCodeLine{00092\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_ab21b7e2eb19eeab46dd7d113aec7028a}{WorkLoadPerThreadN}}\ =\ REG\_SIZE\_N;}
\DoxyCodeLine{00093\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00094\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_ab21b7e2eb19eeab46dd7d113aec7028a}{WorkLoadPerThreadN}}\ =\ EIGEN\_SYCL\_REG\_N;}
\DoxyCodeLine{00095\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00096\ \ \ \textcolor{comment}{//\ LocalThreadSizeM:\ determines\ total\ number\ of\ thread\ per\ workgroup\ for\ the\ m\ dimension}}
\DoxyCodeLine{00097\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_a362fb0704400f0c4b3259c99e327e522}{LocalThreadSizeM}}\ =\ EIGEN\_SYCL\_LOCAL\_THREAD\_DIM0;}
\DoxyCodeLine{00098\ \ \ \textcolor{comment}{//\ LocalThreadSizeN:\ determines\ total\ number\ of\ thread\ per\ workgroup\ for\ the\ n\ dimension}}
\DoxyCodeLine{00099\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_a17877540326ceb9e2b98626f5f90c583}{LocalThreadSizeN}}\ =\ EIGEN\_SYCL\_LOCAL\_THREAD\_DIM1;}
\DoxyCodeLine{00100\ \ \ \textcolor{comment}{//\ TileSizeDimM:\ determines\ the\ tile\ size\ for\ the\ m\ dimension}}
\DoxyCodeLine{00101\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_ab44d34855e36a28600e4af34a06ac859}{TileSizeDimM}}\ =\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_a362fb0704400f0c4b3259c99e327e522}{LocalThreadSizeM}}\ *\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_aeed883eb7cac42598c61d428706766b2}{WorkLoadPerThreadM}};}
\DoxyCodeLine{00102\ \ \ \textcolor{comment}{//\ TileSizeDimN:\ determines\ the\ tile\ size\ for\ the\ n\ dimension}}
\DoxyCodeLine{00103\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_a2ac128c6707347ef58aed8ba526b6ac2}{TileSizeDimN}}\ =\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_a17877540326ceb9e2b98626f5f90c583}{LocalThreadSizeN}}\ *\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_ab21b7e2eb19eeab46dd7d113aec7028a}{WorkLoadPerThreadN}};}
\DoxyCodeLine{00104\ \ \ \textcolor{comment}{//\ LoadPerThreadLhs:\ determines\ workload\ per\ thread\ for\ loading\ Lhs\ Tensor.\ This\ must\ be\ divisable\ by\ packetsize}}
\DoxyCodeLine{00105\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_acddaa1b2b382615b7f6c854b79212a1f}{LoadPerThreadLhs}}\ =}
\DoxyCodeLine{00106\ \ \ \ \ \ \ ((\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_a0d9d43326b738e2eecc800047fa7f929}{TileSizeDimK}}\ *\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_aeed883eb7cac42598c61d428706766b2}{WorkLoadPerThreadM}}\ *\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_ab21b7e2eb19eeab46dd7d113aec7028a}{WorkLoadPerThreadN}})\ /\ (\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_a2ac128c6707347ef58aed8ba526b6ac2}{TileSizeDimN}}));}
\DoxyCodeLine{00107\ \ \ \textcolor{comment}{//\ LoadPerThreadRhs:\ determines\ workload\ per\ thread\ for\ loading\ Rhs\ Tensor.\ This\ must\ be\ divisable\ by\ packetsize}}
\DoxyCodeLine{00108\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_a90cc8a94c36dbc68b3c4a97d63c1d65a}{LoadPerThreadRhs}}\ =}
\DoxyCodeLine{00109\ \ \ \ \ \ \ ((\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_a0d9d43326b738e2eecc800047fa7f929}{TileSizeDimK}}\ *\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_aeed883eb7cac42598c61d428706766b2}{WorkLoadPerThreadM}}\ *\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_ab21b7e2eb19eeab46dd7d113aec7028a}{WorkLoadPerThreadN}})\ /\ (\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_ab44d34855e36a28600e4af34a06ac859}{TileSizeDimM}}));}
\DoxyCodeLine{00110\ \ \ \textcolor{comment}{//\ BC\ :\ determines\ if\ supporting\ bank\ conflict\ is\ required}}
\DoxyCodeLine{00111\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_aa4dcb4edfb4dfe2ce28c0ca90d3a8a37}{BC}}\ =\ \textcolor{keyword}{true};}
\DoxyCodeLine{00112\ \ \ \textcolor{comment}{//\ DoubleBuffer:\ determines\ if\ double\ buffering\ technique\ should\ be\ used\ (This\ can\ be\ disabled\ by}}
\DoxyCodeLine{00113\ \ \ \textcolor{comment}{//\ EIGEN\_SYCL\_DISABLE\_DOUBLE\_BUFFER\ macro\ when\ the\ device\ doesnot\ have\ sufficient\ \ local\ memory)}}
\DoxyCodeLine{00114\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize_a96d77e683158a6ee51456526b06f5c0d}{DoubleBuffer}}\ =}
\DoxyCodeLine{00115\ \textcolor{preprocessor}{\#ifdef\ EIGEN\_SYCL\_DISABLE\_DOUBLE\_BUFFER}}
\DoxyCodeLine{00116\ \ \ \ \ \ \ \textcolor{keyword}{false};}
\DoxyCodeLine{00117\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \textcolor{keyword}{true};}
\DoxyCodeLine{00119\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00120\ \};}
\DoxyCodeLine{00121\ }
\DoxyCodeLine{00122\ \textcolor{comment}{/*\ !}}
\DoxyCodeLine{00123\ \textcolor{comment}{\ *\ \(\backslash\)brief\ contraction\_type:\ an\ enum\ class\ representing\ the\ Tensor\ Contraction\ implementation\ algorithm.\ This\ is\ used\ to}}
\DoxyCodeLine{00124\ \textcolor{comment}{\ *\ specialize\ the\ contraction\ algorithm\ based\ on\ device\ support\ for\ dedicated\ local\ memory.}}
\DoxyCodeLine{00125\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00126\ \textcolor{keyword}{enum\ class}\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_ae779b94e3f0127525eda5ff1db87719d}{contraction\_type}}\ \{\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_ae779b94e3f0127525eda5ff1db87719daf5ddaf0ca7929578b408c909429f68f2}{local}},\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_ae779b94e3f0127525eda5ff1db87719da26ff8111dc314a846f011f7e732cb258}{no\_local}}\ \};}
\DoxyCodeLine{00127\ \textcolor{comment}{/*\ !}}
\DoxyCodeLine{00128\ \textcolor{comment}{\ *\ \(\backslash\)brief\ data\_source\ an\ enum\ class\ determining\ the\ location\ of\ the\ data\ in\ a\ memory\ hierarchy\ (global,\ local,\ private).}}
\DoxyCodeLine{00129\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00130\ \textcolor{keyword}{enum\ class}\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a53853470d5aa77f5b514e787c9869b6d}{data\_source}}\ \{\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a53853470d5aa77f5b514e787c9869b6da888a55ffc767f9e7b202f58296692e77}{global\_mem}},\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a53853470d5aa77f5b514e787c9869b6dafd01253ac6480e4563878d941d4189b9}{local\_mem}},\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a53853470d5aa77f5b514e787c9869b6da367e668f993a89961d71795ed85a9572}{private\_mem}}\ \};}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00157\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{bool}\ PacketLoad,\ \textcolor{keywordtype}{bool}\ is\_coalesced\_layout,\ bool,\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1PacketType}{PacketType}},\ \textcolor{keyword}{typename}\ TensorMapper,}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ StorageIndex>}
\DoxyCodeLine{00159\ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ typename\ ::Eigen::internal::enable\_if<PacketLoad,\ PacketType>::type\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a3d81c856ccaedf571fc13a9cb62f01b9}{read}}(}
\DoxyCodeLine{00160\ \ \ \ \ \textcolor{keyword}{const}\ TensorMapper\ \&tensorMapper,\ \textcolor{keyword}{const}\ StorageIndex\ \&NCIndex,\ \textcolor{keyword}{const}\ StorageIndex\ \&CIndex,\ \textcolor{keyword}{const}\ StorageIndex\ \&ld)\ \{}
\DoxyCodeLine{00161\ \ \ \textcolor{keyword}{const}\ StorageIndex\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}}\ =\ (is\_coalesced\_layout)\ ?\ NCIndex\ :\ CIndex;}
\DoxyCodeLine{00162\ \ \ \textcolor{keyword}{const}\ StorageIndex\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}}\ =\ (is\_coalesced\_layout)\ ?\ CIndex\ :\ NCIndex;}
\DoxyCodeLine{00163\ \ \ \textcolor{keywordflow}{return}\ tensorMapper.get\_tensor().template\ packet<Unaligned>(\mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}}\ +\ (\mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}}\ *\ ld));}
\DoxyCodeLine{00164\ \}}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00188\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{bool}\ PacketLoad,\ \textcolor{keywordtype}{bool},\ \textcolor{keywordtype}{bool}\ IsRhs,\ \textcolor{keyword}{typename}\ PacketType,\ \textcolor{keyword}{typename}\ TensorMapper,\ \textcolor{keyword}{typename}\ StorageIndex>}
\DoxyCodeLine{00189\ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ typename\ ::Eigen::internal::enable\_if<!PacketLoad,\ PacketType>::type\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a3d81c856ccaedf571fc13a9cb62f01b9}{read}}(}
\DoxyCodeLine{00190\ \ \ \ \ \textcolor{keyword}{const}\ TensorMapper\ \&tensorMapper,\ \textcolor{keyword}{const}\ StorageIndex\ \&NCIndex,\ \textcolor{keyword}{const}\ StorageIndex\ \&CIndex,\ \textcolor{keyword}{const}\ StorageIndex\ \&)\ \{}
\DoxyCodeLine{00191\ \ \ \textcolor{keyword}{const}\ StorageIndex\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}}\ =\ (IsRhs)\ ?\ CIndex\ :\ NCIndex;}
\DoxyCodeLine{00192\ \ \ \textcolor{keyword}{const}\ StorageIndex\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}}\ =\ (IsRhs)\ ?\ NCIndex\ :\ CIndex;}
\DoxyCodeLine{00193\ \ \ \textcolor{keywordflow}{return}\ tensorMapper(\mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}},\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}});}
\DoxyCodeLine{00194\ \}}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00217\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ StorageIndex,\ StorageIndex\ ld,\ data\_source\ dt,\ \textcolor{keyword}{typename}\ PacketType,\ \textcolor{keyword}{typename}\ DataScalar>}
\DoxyCodeLine{00218\ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}}
\DoxyCodeLine{00219\ \ \ \ \ typename\ ::Eigen::internal::enable\_if<dt\ !=\ data\_source::global\_mem,\ void>::type}
\DoxyCodeLine{00220\ \ \ \ \ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a812e0989b17a374d999f4a1e820e6144}{write}}(\mbox{\hyperlink{structEigen_1_1PacketType}{PacketType}}\ \&packet\_data,\ DataScalar\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc__test_8cc_a935adc2e417a61d7eb6f04efb18ba031}{ptr}})\ \{}
\DoxyCodeLine{00221\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \textcolor{keywordtype}{int}\ PacketSize\ =\ \mbox{\hyperlink{structEigen_1_1internal_1_1unpacket__traits}{Eigen::internal::unpacket\_traits<PacketType>::size}};}
\DoxyCodeLine{00222\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a3c7e37b5f6cd41e80197523bca19b505}{EIGEN\_UNROLL\_LOOP}}}
\DoxyCodeLine{00223\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ =\ 0;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ <\ PacketSize;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}++)\ \{}
\DoxyCodeLine{00224\ \ \ \ \ *\mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc__test_8cc_a935adc2e417a61d7eb6f04efb18ba031}{ptr}}\ =\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1PacketWrapper_a837076cd4f63f2ccd0b21be75e7a53ba}{PacketWrapper<PacketType,\ PacketSize>::scalarize}}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ packet\_data);}
\DoxyCodeLine{00225\ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc__test_8cc_a935adc2e417a61d7eb6f04efb18ba031}{ptr}}\ +=\ ld;}
\DoxyCodeLine{00226\ \ \ \}}
\DoxyCodeLine{00227\ \}}
\DoxyCodeLine{00228\ }
\DoxyCodeLine{00244\ \textcolor{keyword}{template}\ <data\_source\ dt,\ \textcolor{keyword}{typename}\ PacketType,\ \textcolor{keyword}{typename}\ DataScalar>}
\DoxyCodeLine{00245\ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ typename\ ::Eigen::internal::enable\_if<}
\DoxyCodeLine{00246\ \ \ \ \ \mbox{\hyperlink{structEigen_1_1internal_1_1unpacket__traits}{Eigen::internal::unpacket\_traits<PacketType>::size}}\ !=\ 1\ \&\&\ dt\ ==\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a53853470d5aa77f5b514e787c9869b6da888a55ffc767f9e7b202f58296692e77}{data\_source::global\_mem}},\ \textcolor{keywordtype}{void}>::type}
\DoxyCodeLine{00247\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a812e0989b17a374d999f4a1e820e6144}{write}}(\mbox{\hyperlink{structEigen_1_1PacketType}{PacketType}}\ \&packet\_data,\ DataScalar\ *\mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc__test_8cc_a935adc2e417a61d7eb6f04efb18ba031}{ptr}})\ \{}
\DoxyCodeLine{00248\ \ \ \mbox{\hyperlink{namespaceEigen_1_1internal_abcb1c5d429335ed8c976a6b238287a2e}{::Eigen::internal::pstoreu<DataScalar,\ PacketType>}}(\mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc__test_8cc_a935adc2e417a61d7eb6f04efb18ba031}{ptr}},\ packet\_data);}
\DoxyCodeLine{00249\ \}}
\DoxyCodeLine{00250\ }
\DoxyCodeLine{00264\ \textcolor{keyword}{template}\ <data\_source\ dt,\ \textcolor{keyword}{typename}\ PacketType,\ \textcolor{keyword}{typename}\ DataScalar>}
\DoxyCodeLine{00265\ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ typename\ ::Eigen::internal::enable\_if<}
\DoxyCodeLine{00266\ \ \ \ \ \mbox{\hyperlink{structEigen_1_1internal_1_1unpacket__traits}{Eigen::internal::unpacket\_traits<PacketType>::size}}\ ==\ 1\ \&\&\ dt\ ==\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a53853470d5aa77f5b514e787c9869b6da888a55ffc767f9e7b202f58296692e77}{data\_source::global\_mem}},\ \textcolor{keywordtype}{void}>::type}
\DoxyCodeLine{00267\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a812e0989b17a374d999f4a1e820e6144}{write}}(\mbox{\hyperlink{structEigen_1_1PacketType}{PacketType}}\ \&packet\_data,\ DataScalar\ *\mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc__test_8cc_a935adc2e417a61d7eb6f04efb18ba031}{ptr}})\ \{}
\DoxyCodeLine{00268\ \ \ *\mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc__test_8cc_a935adc2e417a61d7eb6f04efb18ba031}{ptr}}\ =\ packet\_data;}
\DoxyCodeLine{00269\ \}}
\DoxyCodeLine{00270\ }
\DoxyCodeLine{00276\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{bool}\ is\_\textcolor{keywordtype}{int}ernal>}
\DoxyCodeLine{00277\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_af2d7a8b9b6f2fe9490f0c6e19c3def24}{check\_boundary}}(\textcolor{keywordtype}{bool})\ \{}
\DoxyCodeLine{00278\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{true};}
\DoxyCodeLine{00279\ \}}
\DoxyCodeLine{00280\ }
\DoxyCodeLine{00286\ \textcolor{keyword}{template}\ <>}
\DoxyCodeLine{00287\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a8e9827c7f09b16662b86b15d3cc77ece}{check\_boundary<false>}}(\textcolor{keywordtype}{bool}\ cond)\ \{}
\DoxyCodeLine{00288\ \ \ \textcolor{keywordflow}{return}\ cond;}
\DoxyCodeLine{00289\ \}}
\DoxyCodeLine{00290\ }
\DoxyCodeLine{00317\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{bool}\ is\_transposed,\ \textcolor{keywordtype}{bool}\ is\_rhs\_,\ \textcolor{keywordtype}{bool}\ packet\_load\_,\ \textcolor{keyword}{typename}\ PacketType>}
\DoxyCodeLine{00318\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1BlockProperties}{BlockProperties}}\ \{}
\DoxyCodeLine{00319\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1BlockProperties_a60f63cf571a7e0e7a066025c490244df}{packet\_load}}\ =\ packet\_load\_;}
\DoxyCodeLine{00320\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{unionEigen_1_1internal_1_1Packet}{Eigen::internal::unpacket\_traits<PacketType>::type}}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1BlockProperties_aa0758d86f1beec17a3d54432e36bae04}{OutScalar}};}
\DoxyCodeLine{00321\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1BlockProperties_a448ac824dc95d4befff02b89f57a48e0}{is\_rhs}}\ =\ is\_rhs\_;}
\DoxyCodeLine{00322\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorLazyEvaluatorWritable}{Eigen::internal::conditional<packet\_load,\ PacketType,\ OutScalar>::type}}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1BlockProperties_a69e530b33d936e80f1525569f6eb76c0}{OutType}};}
\DoxyCodeLine{00323\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1BlockProperties_a44ba92f8b33c0c71b85ad6e863c0153a}{elements\_per\_access}}\ =\ \mbox{\hyperlink{structEigen_1_1internal_1_1unpacket__traits}{Eigen::internal::unpacket\_traits<OutType>::size}};}
\DoxyCodeLine{00324\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1BlockProperties_a82181e36eeb17efd4bdea79096f0cb95}{is\_coalesced\_layout}}\ =\ !(is\_transposed\ \string^\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1BlockProperties_a448ac824dc95d4befff02b89f57a48e0}{is\_rhs}});}
\DoxyCodeLine{00325\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1BlockProperties_a7f68662110c4e9f27f74877f3229db2c}{nc\_stride}}\ =\ (\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1BlockProperties_a82181e36eeb17efd4bdea79096f0cb95}{is\_coalesced\_layout}}\ ?\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1BlockProperties_a44ba92f8b33c0c71b85ad6e863c0153a}{elements\_per\_access}}\ :\ 1);}
\DoxyCodeLine{00326\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1BlockProperties_aaf29f75bb401bc298c1a5b6debafde7f}{c\_stride}}\ =\ (\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1BlockProperties_a82181e36eeb17efd4bdea79096f0cb95}{is\_coalesced\_layout}}\ ?\ 1\ :\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1BlockProperties_a44ba92f8b33c0c71b85ad6e863c0153a}{elements\_per\_access}});}
\DoxyCodeLine{00327\ \};}
\DoxyCodeLine{00328\ }
\DoxyCodeLine{00368\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ StorageIndex>}
\DoxyCodeLine{00369\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties}{ThreadProperties}}\ \{}
\DoxyCodeLine{00370\ \ \ \textcolor{keyword}{const}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_a8d448fab09dea361e6b863c2b909f4cd}{linearLocalThreadId}};}
\DoxyCodeLine{00371\ \ \ \textcolor{keyword}{const}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_a1f8c141965df12c841a4537e2de4e641}{kGroupId}};}
\DoxyCodeLine{00372\ \ \ \textcolor{keyword}{const}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_a015de15d574896ff77e8a1c37c5d044b}{mGroupOffset}};}
\DoxyCodeLine{00373\ \ \ \textcolor{keyword}{const}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_a052d05954f4a43631d48130cb9878ff4}{nGroupOffset}};}
\DoxyCodeLine{00374\ \ \ \textcolor{keyword}{const}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_abb2688fe3effd2dec35b9643105efbc4}{kGroupOffset}};}
\DoxyCodeLine{00375\ \ \ \textcolor{keyword}{const}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_a15df9cd6e86ec280c34d58814409e636}{mLocalOffset}};}
\DoxyCodeLine{00376\ \ \ \textcolor{keyword}{const}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_a8dc4f4316bde5e4078f0128feef9482f}{nLocalOffset}};}
\DoxyCodeLine{00377\ \ \ \textcolor{keyword}{const}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_acf655f29dbb176db71b8c60c4dc35eae}{mGlobalOffset}};}
\DoxyCodeLine{00378\ \ \ \textcolor{keyword}{const}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_af64a6acf6172994487cbdc08d7926482}{nGlobalOffset}};}
\DoxyCodeLine{00379\ \ \ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_ab6650dd7c0719699e34b5c0cffeaa18a}{kSize}};}
\DoxyCodeLine{00380\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_aea00fd9e831efc96452c37ef36b0e45a}{is\_internal}};}
\DoxyCodeLine{00381\ \ \ \textcolor{comment}{//\ this\ is\ used\ to\ adjust\ the\ last\ block}}
\DoxyCodeLine{00382\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_af8be935c19305b2a92b2034d7a7858f2}{ThreadProperties}}(}
\DoxyCodeLine{00383\ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ linearLocalThreadId\_,\ \textcolor{keyword}{const}\ StorageIndex\ kGroupId\_,\ \textcolor{keyword}{const}\ StorageIndex\ mGroupOffset\_,}
\DoxyCodeLine{00384\ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ nGroupOffset\_,\ \textcolor{keyword}{const}\ StorageIndex\ kGroupOffset\_,\ \textcolor{keyword}{const}\ StorageIndex\ mLocalOffset\_,}
\DoxyCodeLine{00385\ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ nLocalOffset\_,\ \textcolor{keyword}{const}\ StorageIndex\ mGlobalOffset\_,\ \textcolor{keyword}{const}\ StorageIndex\ nGlobalOffset\_,}
\DoxyCodeLine{00386\ \ \ \ \ \ \ StorageIndex\ kSize\_,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ is\_internal\_)}
\DoxyCodeLine{00387\ \ \ \ \ \ \ :\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_a8d448fab09dea361e6b863c2b909f4cd}{linearLocalThreadId}}(linearLocalThreadId\_),}
\DoxyCodeLine{00388\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_a1f8c141965df12c841a4537e2de4e641}{kGroupId}}(kGroupId\_),}
\DoxyCodeLine{00389\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_a015de15d574896ff77e8a1c37c5d044b}{mGroupOffset}}(mGroupOffset\_),}
\DoxyCodeLine{00390\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_a052d05954f4a43631d48130cb9878ff4}{nGroupOffset}}(nGroupOffset\_),}
\DoxyCodeLine{00391\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_abb2688fe3effd2dec35b9643105efbc4}{kGroupOffset}}(kGroupOffset\_),}
\DoxyCodeLine{00392\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_a15df9cd6e86ec280c34d58814409e636}{mLocalOffset}}(mLocalOffset\_),}
\DoxyCodeLine{00393\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_a8dc4f4316bde5e4078f0128feef9482f}{nLocalOffset}}(nLocalOffset\_),}
\DoxyCodeLine{00394\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_acf655f29dbb176db71b8c60c4dc35eae}{mGlobalOffset}}(mGlobalOffset\_),}
\DoxyCodeLine{00395\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_af64a6acf6172994487cbdc08d7926482}{nGlobalOffset}}(nGlobalOffset\_),}
\DoxyCodeLine{00396\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_ab6650dd7c0719699e34b5c0cffeaa18a}{kSize}}(kSize\_),}
\DoxyCodeLine{00397\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_aea00fd9e831efc96452c37ef36b0e45a}{is\_internal}}(is\_internal\_)\ \{\}}
\DoxyCodeLine{00398\ \};}
\DoxyCodeLine{00399\ }
\DoxyCodeLine{00450\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutScalar,\ \textcolor{keyword}{typename}\ LhsScalar,\ \textcolor{keyword}{typename}\ RhsScalar,\ \textcolor{keyword}{typename}\ OutAccessor,\ \textcolor{keyword}{typename}\ LhsMapper,}
\DoxyCodeLine{00451\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ RhsMapper,\ \textcolor{keyword}{typename}\ StorageIndex,\ \textcolor{keyword}{typename}\ Properties,\ \textcolor{keyword}{typename}\ TripleDim,\ \textcolor{keywordtype}{bool}\ Vectorizable,}
\DoxyCodeLine{00452\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ input\_mapper\_properties,\ \textcolor{keywordtype}{bool}\ IsFinal,\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_ae779b94e3f0127525eda5ff1db87719d}{contraction\_type}}\ contraction\_tp>}
\DoxyCodeLine{00453\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel}{TensorContractionKernel}}\ \{}
\DoxyCodeLine{00454\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00455\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Eigen::TensorSycl::internal::Vectorise<OutScalar,\ Eigen::SyclDevice,\ Vectorizable>::PacketReturnType}
\DoxyCodeLine{00456\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a9389c9a9efdc54656f4e792be46d3a77}{PacketReturnType}};}
\DoxyCodeLine{00457\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_aa72a318769d7facfd60510c7daa10629}{PacketSize}}\ =}
\DoxyCodeLine{00458\ \ \ \ \ \ \ Eigen::TensorSycl::internal::Vectorise<OutScalar,\ Eigen::SyclDevice,\ Vectorizable>::PacketSize;}
\DoxyCodeLine{00459\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a9bbdd615c7691b79d5f1e1158684fbf5}{is\_lhs\_transposed}}\ =}
\DoxyCodeLine{00460\ \ \ \ \ \ \ !\mbox{\hyperlink{structEigen_1_1internal_1_1TensorContractionInputMapperTrait}{::Eigen::internal::TensorContractionInputMapperTrait<LhsMapper>::inner\_dim\_contiguous}};}
\DoxyCodeLine{00461\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ad4f0071e85096efcd95da55db942553b}{is\_rhs\_transposed}}\ =}
\DoxyCodeLine{00462\ \ \ \ \ \ \ !\mbox{\hyperlink{structEigen_1_1internal_1_1TensorContractionInputMapperTrait}{::Eigen::internal::TensorContractionInputMapperTrait<RhsMapper>::inner\_dim\_contiguous}};}
\DoxyCodeLine{00463\ }
\DoxyCodeLine{00464\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1BlockProperties}{BlockProperties}}<\mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a9bbdd615c7691b79d5f1e1158684fbf5}{is\_lhs\_transposed}},\ \textcolor{keyword}{false},\ input\_mapper\_properties::is\_lhs\_matrix\ \&\&\ Vectorizable,}
\DoxyCodeLine{00465\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a9389c9a9efdc54656f4e792be46d3a77}{PacketReturnType}}>}
\DoxyCodeLine{00466\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a4ccd62beab7fab156a456ac87154a6b6}{LHSBlockProperties}};}
\DoxyCodeLine{00467\ }
\DoxyCodeLine{00468\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1BlockProperties}{BlockProperties}}<\mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ad4f0071e85096efcd95da55db942553b}{is\_rhs\_transposed}},\ \textcolor{keyword}{true},\ input\_mapper\_properties::is\_rhs\_matrix\ \&\&\ Vectorizable,}
\DoxyCodeLine{00469\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a9389c9a9efdc54656f4e792be46d3a77}{PacketReturnType}}>}
\DoxyCodeLine{00470\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ab402c6b0806eef042680d489df14d3ad}{RHSBlockProperties}};}
\DoxyCodeLine{00471\ }
\DoxyCodeLine{00472\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_aad0b4db1d2c00e5cd995c183a34b68e9}{NStride}}\ =}
\DoxyCodeLine{00473\ \ \ \ \ \ \ contraction\_tp\ ==\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_ae779b94e3f0127525eda5ff1db87719daf5ddaf0ca7929578b408c909429f68f2}{contraction\_type::local}}\ ?\ Properties::WorkLoadPerThreadN\ :\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1BlockProperties_a7f68662110c4e9f27f74877f3229db2c}{RHSBlockProperties::nc\_stride}};}
\DoxyCodeLine{00474\ }
\DoxyCodeLine{00475\ \ \ \textcolor{keyword}{typedef}\ cl::sycl::accessor<OutScalar,\ 1,\ cl::sycl::access::mode::read\_write,\ cl::sycl::access::target::local>\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_accb10a13a8dbb29fdfff6e7bdb605823}{Scratch}};}
\DoxyCodeLine{00476\ \ \ \textcolor{keyword}{typedef}\ cl::sycl::multi\_ptr<OutScalar,\ cl::sycl::access::address\_space::local\_space>\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ae71a551a3f73c5026bf42201eddc167a}{local\_ptr}};}
\DoxyCodeLine{00477\ \ \ \textcolor{keyword}{typedef}\ OutScalar\ *\ \textcolor{comment}{/*cl::sycl::multi\_ptr<OutScalar,\ cl::sycl::access::address\_space::private\_space>*/}\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a8b3215b60f6432dae308b3da2abd1f34}{private\_ptr}};}
\DoxyCodeLine{00478\ \ \ \textcolor{keyword}{typedef}}
\DoxyCodeLine{00479\ \ \ \ \ \ \ typename\ ::Eigen::internal::conditional<contraction\_tp\ ==\ contraction\_type::local,\ local\_ptr,\ private\_ptr>::type}
\DoxyCodeLine{00480\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a5cb18f52fc90ccb3e4d84973c1e2e583}{tile\_ptr}};}
\DoxyCodeLine{00481\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a59bd1d1a2bade01c543d91ee1ffc278f}{LSDL}}\ =\ contraction\_tp\ ==\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_ae779b94e3f0127525eda5ff1db87719daf5ddaf0ca7929578b408c909429f68f2}{contraction\_type::local}}}
\DoxyCodeLine{00482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ Properties::TileSizeDimM\ +\ Properties::BC}
\DoxyCodeLine{00483\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ Properties::WorkLoadPerThreadM;}
\DoxyCodeLine{00484\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_afb68bbf9ebc4e04cdf1bbda738988f14}{LSDR}}\ =\ contraction\_tp\ ==\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_ae779b94e3f0127525eda5ff1db87719daf5ddaf0ca7929578b408c909429f68f2}{contraction\_type::local}}}
\DoxyCodeLine{00485\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ Properties::TileSizeDimN\ +\ Properties::BC}
\DoxyCodeLine{00486\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ Properties::WorkLoadPerThreadN;}
\DoxyCodeLine{00487\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a1431abbddc168450ebe9603a072ed0cf}{LocalOffset}}\ =\ Properties::LocalThreadSizeM\ *\ Properties::LocalThreadSizeN;}
\DoxyCodeLine{00488\ }
\DoxyCodeLine{00501\ \ \ \textcolor{keyword}{template}\ <contraction\_type,\ StorageIndex>}
\DoxyCodeLine{00502\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1MemHolder}{MemHolder}}\ \{}
\DoxyCodeLine{00503\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a5cb18f52fc90ccb3e4d84973c1e2e583}{tile\_ptr}}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1MemHolder_ab9f1f63870157558467c0b1cda92e64f}{ptr}};}
\DoxyCodeLine{00504\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1MemHolder_accd33003b9ee0aa9cc315f845ed01861}{MemHolder}}(\mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ae71a551a3f73c5026bf42201eddc167a}{local\_ptr}}\ block\_start\_ptr)\ :\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1MemHolder_ab9f1f63870157558467c0b1cda92e64f}{ptr}}(block\_start\_ptr)\ \{\}}
\DoxyCodeLine{00505\ \ \ \};}
\DoxyCodeLine{00509\ \ \ \textcolor{keyword}{template}\ <StorageIndex\ MemSize>}
\DoxyCodeLine{00510\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1MemHolder}{MemHolder}}<\mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_ae779b94e3f0127525eda5ff1db87719d}{contraction\_type}}::\mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_ae779b94e3f0127525eda5ff1db87719da26ff8111dc314a846f011f7e732cb258}{no\_local}},\ MemSize>\ \{}
\DoxyCodeLine{00511\ \ \ \ \ OutScalar\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1MemHolder_ab9f1f63870157558467c0b1cda92e64f}{ptr}}[MemSize]\ =\ \{OutScalar\{0\}\};}
\DoxyCodeLine{00512\ \ \ \};}
\DoxyCodeLine{00535\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory}{TiledMemory}}\ \{}
\DoxyCodeLine{00536\ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1MemHolder}{MemHolder<contraction\_tp,\ Properties::WorkLoadPerThreadM\ *\ Properties::TileSizeDimK>}}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_ac801e9c8aafa234522bd197747af7b3d}{lhs\_scratch\_extract}};}
\DoxyCodeLine{00537\ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1MemHolder}{MemHolder<contraction\_tp,\ Properties::WorkLoadPerThreadN\ *\ Properties::TileSizeDimK>}}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_a418ab88014f6630010cedc1afa547354}{rhs\_scratch\_extract}};}
\DoxyCodeLine{00538\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a5cb18f52fc90ccb3e4d84973c1e2e583}{tile\_ptr}}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_ae436b05da0ee75b88e5818b3409ea6a1}{lhs\_scratch\_ptr\_compute}};}
\DoxyCodeLine{00539\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a5cb18f52fc90ccb3e4d84973c1e2e583}{tile\_ptr}}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_a5e5d9be5edc6c778c5f278f84ab3c6c4}{rhs\_scratch\_ptr\_compute}};}
\DoxyCodeLine{00540\ \ \ \ \ \textcolor{keyword}{const}\ std::pair<StorageIndex,\ StorageIndex>\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_ade573bc5fb8e7bce4e595eacdb33bfac}{lhs\_extract\_index}};}
\DoxyCodeLine{00541\ \ \ \ \ \textcolor{keyword}{const}\ std::pair<StorageIndex,\ StorageIndex>\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_a5bae886f27cdca1ffea10549c48aa722}{rhs\_extract\_index}};}
\DoxyCodeLine{00542\ \ \ \ \ \textcolor{keyword}{template}\ <contraction\_type\ tp\ =\ contraction\_tp>}
\DoxyCodeLine{00543\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}}
\DoxyCodeLine{00544\ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_a3060f0dbc1071c88cf41830d2b9c12dc}{TiledMemory}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties}{ThreadProperties<StorageIndex>}}\ \&,\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ae71a551a3f73c5026bf42201eddc167a}{local\_ptr}},}
\DoxyCodeLine{00545\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ typename\ ::Eigen::internal::enable\_if<tp\ ==\ contraction\_type::no\_local>::type\ *\ =\ 0)}
\DoxyCodeLine{00546\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_ac801e9c8aafa234522bd197747af7b3d}{lhs\_scratch\_extract}}\{\},}
\DoxyCodeLine{00547\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_a418ab88014f6630010cedc1afa547354}{rhs\_scratch\_extract}}\{\},}
\DoxyCodeLine{00548\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_ae436b05da0ee75b88e5818b3409ea6a1}{lhs\_scratch\_ptr\_compute}}(\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_ac801e9c8aafa234522bd197747af7b3d}{lhs\_scratch\_extract}}.\mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc__test_8cc_a935adc2e417a61d7eb6f04efb18ba031}{ptr}}),}
\DoxyCodeLine{00549\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_a5e5d9be5edc6c778c5f278f84ab3c6c4}{rhs\_scratch\_ptr\_compute}}(\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_a418ab88014f6630010cedc1afa547354}{rhs\_scratch\_extract}}.\mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc__test_8cc_a935adc2e417a61d7eb6f04efb18ba031}{ptr}}),}
\DoxyCodeLine{00550\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_ade573bc5fb8e7bce4e595eacdb33bfac}{lhs\_extract\_index}}(\mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__benchmark_8cc_ab43c7a62bb76edb17a7deacc3400de7c}{pair}}<StorageIndex,\ StorageIndex>(StorageIndex\{0\},\ StorageIndex\{0\})),}
\DoxyCodeLine{00551\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_a5bae886f27cdca1ffea10549c48aa722}{rhs\_extract\_index}}(\mbox{\hyperlink{namespacestd}{std}}::\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__benchmark_8cc_ab43c7a62bb76edb17a7deacc3400de7c}{pair}}<StorageIndex,\ StorageIndex>(StorageIndex\{0\},\ StorageIndex\{0\}))\ \{\}}
\DoxyCodeLine{00552\ }
\DoxyCodeLine{00553\ \ \ \ \ \textcolor{keyword}{template}\ <contraction\_type\ tp\ =\ contraction\_tp>}
\DoxyCodeLine{00554\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}}
\DoxyCodeLine{00555\ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_afda5da341b5f4a79c0b9719efc03cc3b}{TiledMemory}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties}{ThreadProperties<StorageIndex>}}\ \&thread\_properties,\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ae71a551a3f73c5026bf42201eddc167a}{local\_ptr}}\ block\_start\_ptr,}
\DoxyCodeLine{00556\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ typename\ ::Eigen::internal::enable\_if<tp\ ==\ contraction\_type::local>::type\ *\ =\ 0)}
\DoxyCodeLine{00557\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_ac801e9c8aafa234522bd197747af7b3d}{lhs\_scratch\_extract}}\{block\_start\_ptr\},}
\DoxyCodeLine{00558\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_a418ab88014f6630010cedc1afa547354}{rhs\_scratch\_extract}}\{\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_ac801e9c8aafa234522bd197747af7b3d}{lhs\_scratch\_extract}}.\mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc__test_8cc_a935adc2e417a61d7eb6f04efb18ba031}{ptr}}\ +}
\DoxyCodeLine{00559\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ((Properties::DoubleBuffer\ +\ 1)\ *\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a59bd1d1a2bade01c543d91ee1ffc278f}{LSDL}}\ *\ Properties::TileSizeDimK)\},}
\DoxyCodeLine{00560\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_ae436b05da0ee75b88e5818b3409ea6a1}{lhs\_scratch\_ptr\_compute}}(\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_ac801e9c8aafa234522bd197747af7b3d}{lhs\_scratch\_extract}}.\mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc__test_8cc_a935adc2e417a61d7eb6f04efb18ba031}{ptr}}\ +\ thread\_properties.mLocalOffset),}
\DoxyCodeLine{00561\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_a5e5d9be5edc6c778c5f278f84ab3c6c4}{rhs\_scratch\_ptr\_compute}}(\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_a418ab88014f6630010cedc1afa547354}{rhs\_scratch\_extract}}.\mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc__test_8cc_a935adc2e417a61d7eb6f04efb18ba031}{ptr}}\ +\ thread\_properties.nLocalOffset),}
\DoxyCodeLine{00562\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_ade573bc5fb8e7bce4e595eacdb33bfac}{lhs\_extract\_index}}(}
\DoxyCodeLine{00563\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a5aa834bcc0a453abf04b6981507edd5f}{local\_id\_extract}}<\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1BlockProperties}{LHSBlockProperties}},\ Properties::TileSizeDimM>(thread\_properties.linearLocalThreadId)),}
\DoxyCodeLine{00564\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_a5bae886f27cdca1ffea10549c48aa722}{rhs\_extract\_index}}(}
\DoxyCodeLine{00565\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a5aa834bcc0a453abf04b6981507edd5f}{local\_id\_extract}}<\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1BlockProperties}{RHSBlockProperties}},\ Properties::TileSizeDimN>(thread\_properties.linearLocalThreadId))\ \{\}}
\DoxyCodeLine{00566\ \ \ \};}
\DoxyCodeLine{00567\ }
\DoxyCodeLine{00568\ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_accb10a13a8dbb29fdfff6e7bdb605823}{Scratch}}\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ad63f9757743718e78f4f83f361d95e27}{scratch}};}
\DoxyCodeLine{00569\ \ \ \textcolor{keyword}{const}\ LhsMapper\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ae18a2c02e4480eefef84259c42980524}{lhs}};}
\DoxyCodeLine{00570\ \ \ \textcolor{keyword}{const}\ RhsMapper\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_aaf0fa30d0f7678c339e6cc6edd2746ee}{rhs}};}
\DoxyCodeLine{00571\ \ \ OutAccessor\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_af6088e8b5c2a9b2d674edda777d1eeb1}{out\_res}};}
\DoxyCodeLine{00572\ \ \ \textcolor{keyword}{const}\ StorageIndex\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a19a51818c29ba1ad67900dafecf58f85}{groupSizeM}};}
\DoxyCodeLine{00573\ \ \ \textcolor{keyword}{const}\ StorageIndex\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_af9052641c622ae3c31eb39005b436e03}{groupSizeN}};}
\DoxyCodeLine{00574\ \ \ \textcolor{keyword}{const}\ StorageIndex\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ab51ca4b6906514b17b8ea19c5ef16479}{numTiles}};}
\DoxyCodeLine{00575\ \ \ \textcolor{keyword}{const}\ TripleDim\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}};}
\DoxyCodeLine{00576\ }
\DoxyCodeLine{00577\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a52195231424f7ce54327bb78949d3199}{TensorContractionKernel}}(\mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_accb10a13a8dbb29fdfff6e7bdb605823}{Scratch}}\ scratch\_,\ \textcolor{keyword}{const}\ LhsMapper\ lhs\_,}
\DoxyCodeLine{00578\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ RhsMapper\ rhs\_,\ OutAccessor\ out\_res\_,}
\DoxyCodeLine{00579\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ groupSizeM\_,}
\DoxyCodeLine{00580\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ groupSizeN\_,}
\DoxyCodeLine{00581\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ numTiles\_,}
\DoxyCodeLine{00582\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ TripleDim\ triple\_dim\_)}
\DoxyCodeLine{00583\ \ \ \ \ \ \ :\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ad63f9757743718e78f4f83f361d95e27}{scratch}}(scratch\_),}
\DoxyCodeLine{00584\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ae18a2c02e4480eefef84259c42980524}{lhs}}(lhs\_),}
\DoxyCodeLine{00585\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_aaf0fa30d0f7678c339e6cc6edd2746ee}{rhs}}(rhs\_),}
\DoxyCodeLine{00586\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_af6088e8b5c2a9b2d674edda777d1eeb1}{out\_res}}(out\_res\_),}
\DoxyCodeLine{00587\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a19a51818c29ba1ad67900dafecf58f85}{groupSizeM}}(groupSizeM\_),}
\DoxyCodeLine{00588\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_af9052641c622ae3c31eb39005b436e03}{groupSizeN}}(groupSizeN\_),}
\DoxyCodeLine{00589\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ab51ca4b6906514b17b8ea19c5ef16479}{numTiles}}(numTiles\_),}
\DoxyCodeLine{00590\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}(triple\_dim\_)\ \{\}}
\DoxyCodeLine{00591\ }
\DoxyCodeLine{00592\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a13b11b0aa7be85f764acc1ae033436f5}{TensorContractionKernel}}(\mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_accb10a13a8dbb29fdfff6e7bdb605823}{Scratch}}\ scratch\_,\ \textcolor{keyword}{const}\ LhsMapper\ lhs\_,}
\DoxyCodeLine{00593\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ RhsMapper\ rhs\_,\ OutAccessor\ out\_res\_,}
\DoxyCodeLine{00594\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ groupSizeM\_,}
\DoxyCodeLine{00595\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ numTiles\_,}
\DoxyCodeLine{00596\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ TripleDim\ triple\_dim\_)}
\DoxyCodeLine{00597\ \ \ \ \ \ \ :\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel}{TensorContractionKernel}}(scratch\_,\ lhs\_,\ rhs\_,\ out\_res\_,\ groupSizeM\_,\ 1,\ numTiles\_,\ triple\_dim\_)\ \{\}}
\DoxyCodeLine{00598\ }
\DoxyCodeLine{00599\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_aff938847a25a84d5c5b9d5059fec5878}{operator()}}(cl::sycl::nd\_item<1>\ itemID)\ \{}
\DoxyCodeLine{00600\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ linearLocalThreadId\ =\ itemID.get\_local\_id(0);}
\DoxyCodeLine{00601\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ nLocalThreadId\ =\ linearLocalThreadId\ /\ Properties::LocalThreadSizeM;}
\DoxyCodeLine{00602\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ mLocalThreadId\ =\ linearLocalThreadId\ \%\ Properties::LocalThreadSizeM;}
\DoxyCodeLine{00603\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ mGroupId\ =\ itemID.get\_group(0)\ \%\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a19a51818c29ba1ad67900dafecf58f85}{groupSizeM}};}
\DoxyCodeLine{00604\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ tmp\ =\ itemID.get\_group(0)\ /\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a19a51818c29ba1ad67900dafecf58f85}{groupSizeM}};}
\DoxyCodeLine{00605\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ nGroupId\ =\ IsFinal\ ?\ tmp\ :\ tmp\ \%\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_af9052641c622ae3c31eb39005b436e03}{groupSizeN}};}
\DoxyCodeLine{00606\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ kGroupId\ =\ IsFinal\ ?\ 0\ :\ tmp\ /\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_af9052641c622ae3c31eb39005b436e03}{groupSizeN}};}
\DoxyCodeLine{00607\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ mGroupOffset\ =\ mGroupId\ *\ Properties::TileSizeDimM;}
\DoxyCodeLine{00608\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ nGroupOffset\ =\ nGroupId\ *\ Properties::TileSizeDimN;}
\DoxyCodeLine{00609\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ mLocalOffset\ =\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_aa72a318769d7facfd60510c7daa10629}{PacketSize}}\ *\ mLocalThreadId;}
\DoxyCodeLine{00610\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ nLocalOffset\ =\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_aad0b4db1d2c00e5cd995c183a34b68e9}{NStride}}\ *\ nLocalThreadId;}
\DoxyCodeLine{00611\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ mGlobalOffset\ =\ mGroupOffset\ +\ mLocalOffset;}
\DoxyCodeLine{00612\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ nGlobalOffset\ =\ nGroupOffset\ +\ nLocalOffset;}
\DoxyCodeLine{00613\ }
\DoxyCodeLine{00614\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ kSizePerWG\ =\ IsFinal\ ?\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}.K\ :\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ab51ca4b6906514b17b8ea19c5ef16479}{numTiles}}\ *\ Properties::TileSizeDimK;}
\DoxyCodeLine{00615\ \ \ \ \ StorageIndex\ kGroupOffset\ =\ kGroupId\ *\ kSizePerWG;}
\DoxyCodeLine{00616\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ is\_internal\ =\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}.M\ -\/\ mGroupOffset\ >=\ Properties::TileSizeDimM\ \&\&}
\DoxyCodeLine{00617\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}.N\ -\/\ nGroupOffset\ >=\ Properties::TileSizeDimN\ \&\&}
\DoxyCodeLine{00618\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}.K\ -\/\ kGroupOffset\ >=\ kSizePerWG;}
\DoxyCodeLine{00619\ \ \ \ \ \textcolor{comment}{//\ this\ is\ used\ to\ adjust\ the\ last\ block}}
\DoxyCodeLine{00620\ \ \ \ \ StorageIndex\ kSize\ =\ IsFinal\ ?\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}.K\ :\ std::min(kSizePerWG,\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}.K\ -\/\ kGroupOffset);}
\DoxyCodeLine{00621\ \ \ \ \ \textcolor{comment}{//\ This\ is\ used\ to\ find\ out\ the\ lats\ K\ offset\ so\ that\ kGroupOffset\ -\/kSize\ can\ compute\ the\ coffset\ for\ loading\ to}}
\DoxyCodeLine{00622\ \ \ \ \ \textcolor{comment}{//\ tile}}
\DoxyCodeLine{00623\ \ \ \ \ kGroupOffset\ +=\ kSize;}
\DoxyCodeLine{00624\ }
\DoxyCodeLine{00625\ \ \ \ \ \textcolor{keyword}{auto}\ thread\_properties\ =}
\DoxyCodeLine{00626\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties}{ThreadProperties<StorageIndex>}}(linearLocalThreadId,\ kGroupId,\ mGroupOffset,\ nGroupOffset,\ kGroupOffset,}
\DoxyCodeLine{00627\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ mLocalOffset,\ nLocalOffset,\ mGlobalOffset,\ nGlobalOffset,\ kSize,\ is\_internal);}
\DoxyCodeLine{00628\ }
\DoxyCodeLine{00629\ \ \ \ \ \textcolor{keyword}{auto}\ out\_ptr\ =\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_af6088e8b5c2a9b2d674edda777d1eeb1}{out\_res}}.get\_pointer()\ +\ (IsFinal\ ?\ 0\ :\ thread\_properties.kGroupId\ *\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}.M\ *\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}.N);}
\DoxyCodeLine{00630\ }
\DoxyCodeLine{00631\ \ \ \ \ (thread\_properties.is\_internal)\ ?\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ad8e5160f49b2a9fbf153d88d91bdddc5}{compute\_panel<true>}}(itemID,\ thread\_properties,\ out\_ptr)}
\DoxyCodeLine{00632\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ad8e5160f49b2a9fbf153d88d91bdddc5}{compute\_panel<false>}}(itemID,\ thread\_properties,\ out\_ptr);}
\DoxyCodeLine{00633\ \ \ \}}
\DoxyCodeLine{00634\ \ \ \textcolor{comment}{//\ The\ compute\ block\ computes\ the\ contraction\ operation\ private\ block\ for\ each\ thread\ and\ store\ the\ resutl\ in\ the}}
\DoxyCodeLine{00635\ \ \ \textcolor{comment}{//\ privateRes\ memory\ of\ Each\ computation\ the\ compute\ block\ function\ is\ independent\ of\ local\ and\ no\ local\ concepts\ as}}
\DoxyCodeLine{00636\ \ \ \textcolor{comment}{//\ it\ only\ compute\ the\ block\ on\ each\ thread's\ private\ memory\ space}}
\DoxyCodeLine{00637\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a4dab5db8ade549a9c350b82e549f48c9}{compute\_block\_per\_tile}}(OutScalar\ *lhs\_block\_ptr,\ OutScalar\ *rhs\_block\_ptr,}
\DoxyCodeLine{00638\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a9389c9a9efdc54656f4e792be46d3a77}{PacketReturnType}}\ *privateRes)\ \{}
\DoxyCodeLine{00639\ \ \ \ \ StorageIndex\ idx\ =\ 0;}
\DoxyCodeLine{00640\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ lhs\_stride\ =}
\DoxyCodeLine{00641\ \ \ \ \ \ \ \ \ contraction\_tp\ ==\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_ae779b94e3f0127525eda5ff1db87719daf5ddaf0ca7929578b408c909429f68f2}{contraction\_type::local}}\ ?\ (\mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_aa72a318769d7facfd60510c7daa10629}{PacketSize}}\ *\ Properties::LocalThreadSizeM)\ :\ 1;}
\DoxyCodeLine{00642\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a3c7e37b5f6cd41e80197523bca19b505}{EIGEN\_UNROLL\_LOOP}}}
\DoxyCodeLine{00643\ \ \ \ \ \textcolor{keywordflow}{for}\ (StorageIndex\ wLPTN\ =\ 0;\ wLPTN\ <\ Properties::WorkLoadPerThreadN;\ wLPTN++)\ \{}
\DoxyCodeLine{00644\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ rhsPacket\ =\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a9389c9a9efdc54656f4e792be46d3a77}{PacketReturnType}}\{*(rhs\_block\_ptr\ +\ wLPTN)\};}
\DoxyCodeLine{00645\ \ \ \ \ \ \ StorageIndex\ lhs\_index\ =\ 0;}
\DoxyCodeLine{00646\ \ \ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a3c7e37b5f6cd41e80197523bca19b505}{EIGEN\_UNROLL\_LOOP}}}
\DoxyCodeLine{00647\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (StorageIndex\ wLPTM\ =\ 0;\ wLPTM\ <\ Properties::WorkLoadPerThreadM\ /\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_aa72a318769d7facfd60510c7daa10629}{PacketSize}};\ wLPTM++)\ \{}
\DoxyCodeLine{00648\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a9389c9a9efdc54656f4e792be46d3a77}{PacketReturnType}}\ lhsPack\{\};}
\DoxyCodeLine{00649\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1PacketWrapper_a593316f1414e12d0aae361e9c7af0a9f}{Eigen::TensorSycl::internal::PacketWrapper<PacketReturnType,\ PacketSize>::set\_packet}}(lhsPack,}
\DoxyCodeLine{00650\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ lhs\_block\_ptr\ +\ lhs\_index);}
\DoxyCodeLine{00651\ \ \ \ \ \ \ \ \ privateRes[idx]\ =\ \mbox{\hyperlink{namespaceEigen_1_1internal_a74b4d1fb91602aebe1ae5742e8c2d566}{::Eigen::internal::pmadd}}(lhsPack,\ rhsPacket,\ privateRes[idx]);}
\DoxyCodeLine{00652\ }
\DoxyCodeLine{00653\ \ \ \ \ \ \ \ \ lhs\_index\ +=\ lhs\_stride;}
\DoxyCodeLine{00654\ \ \ \ \ \ \ \ \ idx++;}
\DoxyCodeLine{00655\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00656\ \ \ \ \ \}}
\DoxyCodeLine{00657\ \ \ \}}
\DoxyCodeLine{00658\ \ \ \textcolor{comment}{//\ The\ store\ function\ write\ the\ computed\ contraction\ operation\ in\ the\ private\ memory\ of\ each\ thread\ to\ the\ global}}
\DoxyCodeLine{00659\ \ \ \textcolor{comment}{//\ memory.\ The\ store\ function\ is\ independent\ of\ local\ and\ no\ local\ concepts\ s\ that\ it\ can\ be\ abstract\ out\ in\ the\ base}}
\DoxyCodeLine{00660\ \ \ \textcolor{comment}{//\ class.}}
\DoxyCodeLine{00661\ \ \ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{bool}\ is\_\textcolor{keywordtype}{int}ernal\_block,\ StorageIndex\ PrivateNStr\textcolor{keywordtype}{id}e,\ \textcolor{keyword}{typename}\ OutPtr>}
\DoxyCodeLine{00662\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a4a0b0c042e3126b9d5ca36ec000db8c1}{store}}(OutPtr\ *out\_ptr,\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a9389c9a9efdc54656f4e792be46d3a77}{PacketReturnType}}\ *privateRes,}
\DoxyCodeLine{00663\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ StorageIndex\ mGlobalOffset,\ StorageIndex\ nGlobalOffset)\ \{}
\DoxyCodeLine{00664\ \ \ \ \ \textcolor{keyword}{auto}\ chk\_bound\ =\ [\&](\textcolor{keyword}{const}\ StorageIndex\ \&mIndex,\ \textcolor{keyword}{const}\ StorageIndex\ \&nIndex)\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \{}
\DoxyCodeLine{00665\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ (mIndex\ +\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_aa72a318769d7facfd60510c7daa10629}{PacketSize}}\ -\/\ 1\ <\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}.M\ \&\&\ nGlobalOffset\ +\ nIndex\ <\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}.N);}
\DoxyCodeLine{00666\ \ \ \ \ \};}
\DoxyCodeLine{00667\ \ \ \ \ \textcolor{comment}{//\ when\ local\ memory\ is\ not\ used\ M\ and\ N\ are\ both\ accessed\ in\ a\ coalesced\ way.\ However,\ when\ local\ memory\ is}}
\DoxyCodeLine{00668\ \ \ \ \ \textcolor{comment}{//\ available\ the\ k*N\ is\ transposed\ in\ the\ local\ to\ N*K\ therefore,\ each\ blocks\ operates\ on\ blockId*}}
\DoxyCodeLine{00669\ \ \ \ \ \textcolor{comment}{//\ WorkLoadPerThreadN\ slice\ of\ N}}
\DoxyCodeLine{00670\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ GlobalNStride\ =}
\DoxyCodeLine{00671\ \ \ \ \ \ \ \ \ contraction\_tp\ ==\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_ae779b94e3f0127525eda5ff1db87719daf5ddaf0ca7929578b408c909429f68f2}{contraction\_type::local}}\ ?\ 1\ :\ Properties::LocalThreadSizeN;}
\DoxyCodeLine{00672\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a3c7e37b5f6cd41e80197523bca19b505}{EIGEN\_UNROLL\_LOOP}}}
\DoxyCodeLine{00673\ \ \ \ \ \textcolor{keywordflow}{for}\ (StorageIndex\ wLPTN\ =\ 0;\ wLPTN\ <\ Properties::WorkLoadPerThreadN\ /\ PrivateNStride;\ wLPTN++)\ \{}
\DoxyCodeLine{00674\ \ \ \ \ \ \ \textcolor{comment}{//\ output\ leading\ dimension}}
\DoxyCodeLine{00675\ \ \ \ \ \ \ StorageIndex\ outputLD\ =\ 0;}
\DoxyCodeLine{00676\ \ \ \ \ \ \ \textcolor{comment}{//\ When\ local\ memory\ is\ used\ the\ PrivateNstride\ is\ always\ 1\ because\ the\ coalesed\ access\ on\ N\ is\ loaded\ into\ Local}}
\DoxyCodeLine{00677\ \ \ \ \ \ \ \textcolor{comment}{//\ memory\ and\ extracting\ from\ local\ to\ global\ is\ the\ same\ as\ no\ transposed\ version.\ However,\ when\ local\ memory\ is}}
\DoxyCodeLine{00678\ \ \ \ \ \ \ \textcolor{comment}{//\ not\ used\ and\ RHS\ is\ transposed\ we\ packetize\ the\ load\ for\ RHS.}}
\DoxyCodeLine{00679\ \ \ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a3c7e37b5f6cd41e80197523bca19b505}{EIGEN\_UNROLL\_LOOP}}}
\DoxyCodeLine{00680\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (StorageIndex\ nId\ =\ 0;\ nId\ <\ PrivateNStride;\ nId++)\ \{}
\DoxyCodeLine{00681\ \ \ \ \ \ \ \ \ StorageIndex\ globalRow\ =\ mGlobalOffset;}
\DoxyCodeLine{00682\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a3c7e37b5f6cd41e80197523bca19b505}{EIGEN\_UNROLL\_LOOP}}}
\DoxyCodeLine{00683\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (StorageIndex\ wLPTM\ =\ 0;\ wLPTM\ <\ Properties::WorkLoadPerThreadM\ /\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_aa72a318769d7facfd60510c7daa10629}{PacketSize}};\ wLPTM++)\ \{}
\DoxyCodeLine{00684\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a9389c9a9efdc54656f4e792be46d3a77}{PacketReturnType}}\ privetOut\ =\ privateRes[wLPTM];}
\DoxyCodeLine{00685\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_af2d7a8b9b6f2fe9490f0c6e19c3def24}{check\_boundary<is\_internal\_block>}}(chk\_bound(globalRow,\ nId)))\ \{}
\DoxyCodeLine{00686\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ Store\ the\ final\ results\ in\ C.\ The\ C\ matrix\ has\ always\ M\ as\ a\ first\ StorageIndex\ and\ N\ as\ a\ second}}
\DoxyCodeLine{00687\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ StorageIndex\ Therefore\ it\ is\ always\ coalesced\ layout}}
\DoxyCodeLine{00688\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a812e0989b17a374d999f4a1e820e6144}{write<data\_source::global\_mem>}}(privetOut,\ out\_ptr\ +\ outputLD\ +\ globalRow);}
\DoxyCodeLine{00689\ \ \ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00690\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a3c7e37b5f6cd41e80197523bca19b505}{EIGEN\_UNROLL\_LOOP}}}
\DoxyCodeLine{00691\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (StorageIndex\ mId\ =\ 0;\ mId\ <\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_aa72a318769d7facfd60510c7daa10629}{PacketSize}};\ mId++)\ \{}
\DoxyCodeLine{00692\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ StorageIndex\ mOffset\ =\ globalRow\ +\ mId;}
\DoxyCodeLine{00693\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (mOffset\ <\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}.M\ \&\&\ (nGlobalOffset\ +\ nId\ <\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}.N))\ \{}
\DoxyCodeLine{00694\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ out\_ptr[mOffset\ +\ outputLD]\ =}
\DoxyCodeLine{00695\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1PacketWrapper_a837076cd4f63f2ccd0b21be75e7a53ba}{Eigen::TensorSycl::internal::PacketWrapper<PacketReturnType,\ PacketSize>::scalarize}}(mId,\ privetOut);}
\DoxyCodeLine{00696\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00697\ \ \ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00698\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00699\ \ \ \ \ \ \ \ \ \ \ globalRow\ +=\ (\mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_aa72a318769d7facfd60510c7daa10629}{PacketSize}}\ *\ Properties::LocalThreadSizeM);}
\DoxyCodeLine{00700\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00701\ \ \ \ \ \ \ \ \ outputLD\ +=\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}.M;}
\DoxyCodeLine{00702\ \ \ \ \ \ \ \ \ privateRes\ +=\ Properties::WorkLoadPerThreadM\ /\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_aa72a318769d7facfd60510c7daa10629}{PacketSize}};}
\DoxyCodeLine{00703\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00704\ \ \ \ \ \ \ out\_ptr\ +=\ (GlobalNStride\ *\ outputLD);}
\DoxyCodeLine{00705\ }
\DoxyCodeLine{00706\ \ \ \ \ \ \ nGlobalOffset\ +=\ (PrivateNStride\ *\ GlobalNStride);}
\DoxyCodeLine{00707\ \ \ \ \ \}}
\DoxyCodeLine{00708\ \ \ \}}
\DoxyCodeLine{00709\ \ \ \textcolor{comment}{//\ when\ no\ local\ memory\ is\ used\ the\ following\ extract\_block\ will\ be\ enabled}}
\DoxyCodeLine{00710\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ InputBlockProperties,\ \textcolor{keywordtype}{bool}\ is\_internal\_block,\ \textcolor{keyword}{typename}\ Input,\ \textcolor{keyword}{typename}\ PrivateReg,}
\DoxyCodeLine{00711\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_ae779b94e3f0127525eda5ff1db87719d}{contraction\_type}}\ contract\_tp\ =\ contraction\_tp>}
\DoxyCodeLine{00712\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}}
\DoxyCodeLine{00713\ \ \ \ \ \ \ typename\ ::Eigen::internal::enable\_if<contract\_tp\ ==\ contraction\_type::no\_local>::type}
\DoxyCodeLine{00714\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ab1d95476a27a108643ae63d01e0de200}{extract\_block}}(\textcolor{keyword}{const}\ Input\ \&inpt,\ PrivateReg\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a8b3215b60f6432dae308b3da2abd1f34}{private\_ptr}},\ \textcolor{keyword}{const}\ std::pair<StorageIndex,\ StorageIndex>\ \&,}
\DoxyCodeLine{00715\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ \&ncOffset,\ \textcolor{keyword}{const}\ StorageIndex\ cOffset)\ \{}
\DoxyCodeLine{00716\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ LocalThreadSizeNC\ =}
\DoxyCodeLine{00717\ \ \ \ \ \ \ \ \ InputBlockProperties::is\_rhs\ ?\ Properties::LocalThreadSizeN\ :\ Properties::LocalThreadSizeM;}
\DoxyCodeLine{00718\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ WorkLoadPerThreadNC\ =}
\DoxyCodeLine{00719\ \ \ \ \ \ \ \ \ InputBlockProperties::is\_rhs\ ?\ Properties::WorkLoadPerThreadN\ :\ Properties::WorkLoadPerThreadM;}
\DoxyCodeLine{00720\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ \&NC\ =\ InputBlockProperties::is\_rhs\ ?\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}.N\ :\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}.M;}
\DoxyCodeLine{00721\ }
\DoxyCodeLine{00722\ \ \ \ \ \textcolor{keyword}{auto}\ chk\_bound\ =\ [\&](\textcolor{keyword}{const}\ StorageIndex\ \&CIndex,\ \textcolor{keyword}{const}\ StorageIndex\ \&NCIndex)\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \{}
\DoxyCodeLine{00723\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ((CIndex\ +\ InputBlockProperties::c\_stride\ -\/\ 1\ <\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}.K)\ \&\&}
\DoxyCodeLine{00724\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (NCIndex\ +\ InputBlockProperties::nc\_stride\ -\/\ 1\ <\ NC));}
\DoxyCodeLine{00725\ \ \ \ \ \};}
\DoxyCodeLine{00726\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ ld\ =\ InputBlockProperties::is\_coalesced\_layout\ ?\ NC\ :\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}.K;}
\DoxyCodeLine{00727\ \ \ \ \ StorageIndex\ cIndex\ =\ cOffset;}
\DoxyCodeLine{00728\ }
\DoxyCodeLine{00729\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a3c7e37b5f6cd41e80197523bca19b505}{EIGEN\_UNROLL\_LOOP}}}
\DoxyCodeLine{00730\ \ \ \ \ \textcolor{keywordflow}{for}\ (StorageIndex\ cId\ =\ 0;\ cId\ <\ Properties::TileSizeDimK\ /\ InputBlockProperties::c\_stride;\ cId++)\ \{}
\DoxyCodeLine{00731\ \ \ \ \ \ \ StorageIndex\ ncIndex\ =\ ncOffset;}
\DoxyCodeLine{00732\ \ \ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a3c7e37b5f6cd41e80197523bca19b505}{EIGEN\_UNROLL\_LOOP}}}
\DoxyCodeLine{00733\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (StorageIndex\ ncId\ =\ 0;\ ncId\ <\ WorkLoadPerThreadNC\ /\ InputBlockProperties::nc\_stride;\ ncId++)\ \{}
\DoxyCodeLine{00734\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_af2d7a8b9b6f2fe9490f0c6e19c3def24}{check\_boundary<is\_internal\_block>}}(chk\_bound(cIndex,\ ncIndex)))\ \{}
\DoxyCodeLine{00735\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_aa0ccb5ee6d882ee3605ff47745c6467b}{val}}\ =}
\DoxyCodeLine{00736\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a3d81c856ccaedf571fc13a9cb62f01b9}{read}}<InputBlockProperties::packet\_load,\ InputBlockProperties::is\_coalesced\_layout,}
\DoxyCodeLine{00737\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ InputBlockProperties::is\_rhs,\ \textcolor{keyword}{typename}\ InputBlockProperties::OutType>(inpt,\ ncIndex,\ cIndex,\ ld);}
\DoxyCodeLine{00738\ }
\DoxyCodeLine{00739\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a812e0989b17a374d999f4a1e820e6144}{write}}<StorageIndex,\ (InputBlockProperties::is\_coalesced\_layout\ ?\ 1\ :\ WorkLoadPerThreadNC),}
\DoxyCodeLine{00740\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a53853470d5aa77f5b514e787c9869b6da367e668f993a89961d71795ed85a9572}{data\_source::private\_mem}}>(\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_aa0ccb5ee6d882ee3605ff47745c6467b}{val}},\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a8b3215b60f6432dae308b3da2abd1f34}{private\_ptr}});}
\DoxyCodeLine{00741\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00742\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a3c7e37b5f6cd41e80197523bca19b505}{EIGEN\_UNROLL\_LOOP}}}
\DoxyCodeLine{00743\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (StorageIndex\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ =\ 0;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ <\ InputBlockProperties::elements\_per\_access;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}++)\ \{}
\DoxyCodeLine{00744\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ ncInd\ =\ ncIndex\ +\ (InputBlockProperties::is\_coalesced\_layout\ ?\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ :\ 0);}
\DoxyCodeLine{00745\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ cInd\ =\ cIndex\ +\ (InputBlockProperties::is\_coalesced\_layout\ ?\ 0\ :\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}});}
\DoxyCodeLine{00746\ \ \ \ \ \ \ \ \ \ \ \ \ OutScalar\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_aa0ccb5ee6d882ee3605ff47745c6467b}{val}}\ =}
\DoxyCodeLine{00747\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (ncInd\ <\ NC\ \&\&\ cInd\ <\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}.K)}
\DoxyCodeLine{00748\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a3d81c856ccaedf571fc13a9cb62f01b9}{read<false,\ InputBlockProperties::is\_coalesced\_layout,\ InputBlockProperties::is\_rhs,\ OutScalar>}}(}
\DoxyCodeLine{00749\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ inpt,\ ncInd,\ cInd,\ ld)}
\DoxyCodeLine{00750\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ OutScalar(0);}
\DoxyCodeLine{00751\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a812e0989b17a374d999f4a1e820e6144}{write}}<StorageIndex,\ (InputBlockProperties::is\_coalesced\_layout\ ?\ 1\ :\ WorkLoadPerThreadNC),}
\DoxyCodeLine{00752\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a53853470d5aa77f5b514e787c9869b6da367e668f993a89961d71795ed85a9572}{data\_source::private\_mem}}>(}
\DoxyCodeLine{00753\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_aa0ccb5ee6d882ee3605ff47745c6467b}{val}},\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a8b3215b60f6432dae308b3da2abd1f34}{private\_ptr}}\ +\ (InputBlockProperties::is\_coalesced\_layout\ ?\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ :\ 0)\ +}
\DoxyCodeLine{00754\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ((InputBlockProperties::is\_coalesced\_layout\ ?\ 0\ :\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}})\ *\ WorkLoadPerThreadNC));}
\DoxyCodeLine{00755\ \ \ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00756\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00757\ }
\DoxyCodeLine{00758\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ if\ it\ is\ lhs\ we\ have\ to\ load\ it\ packetised\ when\ the\ packet\ size\ is\ >\ 1,\ because\ the\ output\ is\ coalesced.\ So}}
\DoxyCodeLine{00759\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ even\ if\ M\ is\ not\ accessed\ in\ a\ coalesced\ mode,\ we\ have\ to\ load\ packet\_size\ number\ of\ m\ per\ thread.}}
\DoxyCodeLine{00760\ \ \ \ \ \ \ \ \ ncIndex\ =\ (!InputBlockProperties::is\_rhs\ \&\&\ InputBlockProperties::nc\_stride\ ==\ 1\ \&\&\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_aa72a318769d7facfd60510c7daa10629}{PacketSize}}\ !=\ 1)}
\DoxyCodeLine{00761\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ ncOffset\ +\ (ncId\ +\ 1)\ \%\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_aa72a318769d7facfd60510c7daa10629}{PacketSize}}\ +\ ((ncId\ +\ 1)\ /\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_aa72a318769d7facfd60510c7daa10629}{PacketSize}})\ *\ LocalThreadSizeNC}
\DoxyCodeLine{00762\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ (ncIndex\ +\ InputBlockProperties::nc\_stride\ *\ LocalThreadSizeNC);}
\DoxyCodeLine{00763\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a8b3215b60f6432dae308b3da2abd1f34}{private\_ptr}}\ +=\ InputBlockProperties::nc\_stride;}
\DoxyCodeLine{00764\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00765\ \ \ \ \ \ \ \textcolor{comment}{//\ the\ previous\ for\ loop\ (\ private\_ptr\ +=\ (ncId\ *\ nc\_stride))\ has\ already\ moved\ ptr\ with\ one\ WorkLoadPerThreadNC}}
\DoxyCodeLine{00766\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a8b3215b60f6432dae308b3da2abd1f34}{private\_ptr}}\ +=\ (InputBlockProperties::c\_stride\ -\/\ 1)\ *\ WorkLoadPerThreadNC;}
\DoxyCodeLine{00767\ \ \ \ \ \ \ cIndex\ +=\ InputBlockProperties::c\_stride;}
\DoxyCodeLine{00768\ \ \ \ \ \}}
\DoxyCodeLine{00769\ \ \ \}}
\DoxyCodeLine{00770\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ InputBlockProperties,\ StorageIndex\ TileSizeDimNC>}
\DoxyCodeLine{00771\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ std::pair<StorageIndex,\ StorageIndex>\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a5aa834bcc0a453abf04b6981507edd5f}{local\_id\_extract}}(}
\DoxyCodeLine{00772\ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ \&linearLocalThreadId)\ \{}
\DoxyCodeLine{00773\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ localThreadNC\ =}
\DoxyCodeLine{00774\ \ \ \ \ \ \ \ \ (InputBlockProperties::is\_coalesced\_layout)}
\DoxyCodeLine{00775\ \ \ \ \ \ \ \ \ \ \ \ \ ?\ linearLocalThreadId\ \%\ (TileSizeDimNC\ /\ InputBlockProperties::nc\_stride)}
\DoxyCodeLine{00776\ \ \ \ \ \ \ \ \ \ \ \ \ :\ linearLocalThreadId\ /\ (Properties::TileSizeDimK\ /\ InputBlockProperties::c\_stride);}
\DoxyCodeLine{00777\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ localThreadC\ =}
\DoxyCodeLine{00778\ \ \ \ \ \ \ \ \ (InputBlockProperties::is\_coalesced\_layout)}
\DoxyCodeLine{00779\ \ \ \ \ \ \ \ \ \ \ \ \ ?\ linearLocalThreadId\ /\ (TileSizeDimNC\ /\ InputBlockProperties::nc\_stride)}
\DoxyCodeLine{00780\ \ \ \ \ \ \ \ \ \ \ \ \ :\ linearLocalThreadId\ \%\ (Properties::TileSizeDimK\ /\ InputBlockProperties::c\_stride);}
\DoxyCodeLine{00781\ \ \ \ \ \textcolor{keywordflow}{return}\ std::pair<StorageIndex,\ StorageIndex>(localThreadNC,\ localThreadC);}
\DoxyCodeLine{00782\ \ \ \}}
\DoxyCodeLine{00783\ }
\DoxyCodeLine{00784\ \ \ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{bool}\ db\ =\ Properties::DoubleBuffer,\ contraction\_type\ ctp\ =\ contraction\_tp>}
\DoxyCodeLine{00785\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}}
\DoxyCodeLine{00786\ \ \ \ \ \ \ typename\ ::Eigen::internal::enable\_if<db\ \&\&\ ctp\ ==\ contraction\_type::local>::type}
\DoxyCodeLine{00787\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a31bb476a71bdc1788efff6203c0dd492}{sync\_mem}}(\textcolor{keyword}{const}\ cl::sycl::nd\_item<1>\ \&,\ \textcolor{keywordtype}{bool}\ \&db\_offset)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00788\ \ \ \ \ db\_offset\ =\ !db\_offset;}
\DoxyCodeLine{00789\ \ \ \}}
\DoxyCodeLine{00790\ }
\DoxyCodeLine{00791\ \ \ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{bool}\ db\ =\ Properties::DoubleBuffer,\ contraction\_type\ ctp\ =\ contraction\_tp>}
\DoxyCodeLine{00792\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}}
\DoxyCodeLine{00793\ \ \ \ \ \ \ typename\ ::Eigen::internal::enable\_if<!db\ \&\&\ ctp\ ==\ contraction\_type::local>::type}
\DoxyCodeLine{00794\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ac76d41752a912680f0738884abaf93c2}{sync\_mem}}(\textcolor{keyword}{const}\ cl::sycl::nd\_item<1>\ \&itemID,\ \textcolor{keywordtype}{bool}\ \&)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00795\ \ \ \ \ itemID.barrier(cl::sycl::access::fence\_space::local\_space);}
\DoxyCodeLine{00796\ \ \ \}}
\DoxyCodeLine{00797\ }
\DoxyCodeLine{00798\ \ \ \textcolor{keyword}{template}\ <contraction\_type\ ctp\ =\ contraction\_tp>}
\DoxyCodeLine{00799\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}}
\DoxyCodeLine{00800\ \ \ \ \ \ \ typename\ ::Eigen::internal::enable\_if<ctp\ ==\ contraction\_type::no\_local>::type}
\DoxyCodeLine{00801\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a0a8b0941f52aa0ea2e304737e2b57c14}{sync\_mem}}(\textcolor{keyword}{const}\ cl::sycl::nd\_item<1>\ \&,\ \textcolor{keywordtype}{bool}\ \&)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00802\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00803\ \ \ \}}
\DoxyCodeLine{00804\ }
\DoxyCodeLine{00805\ \ \ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{bool}\ need\_sync,\ contraction\_type\ ctp\ =\ contraction\_tp>}
\DoxyCodeLine{00806\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}}
\DoxyCodeLine{00807\ \ \ \ \ \ \ typename\ ::Eigen::internal::enable\_if<need\_sync\ \&\&\ ctp\ ==\ contraction\_type::no\_local>::type}
\DoxyCodeLine{00808\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a631cda6c1fe7ed0cc49ff8d366361530}{sync\_thread}}(\textcolor{keyword}{const}\ cl::sycl::nd\_item<1>\ \&}
\DoxyCodeLine{00809\ \#ifdef\ EIGEN\_SYCL\_ARM\_GPU\_CACHE\_OPTIMISATION}
\DoxyCodeLine{00810\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ itemID}
\DoxyCodeLine{00811\ \#endif}
\DoxyCodeLine{00812\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ )\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00813\ \textcolor{preprocessor}{\#ifdef\ EIGEN\_SYCL\_ARM\_GPU\_CACHE\_OPTIMISATION}}
\DoxyCodeLine{00814\ \ \ \ \ itemID.barrier(cl::sycl::access::fence\_spacce::local\_space);}
\DoxyCodeLine{00815\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00816\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00817\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00818\ \ \ \}}
\DoxyCodeLine{00819\ \ \ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{bool}\ need\_sync,\ contraction\_type\ ctp\ =\ contraction\_tp>}
\DoxyCodeLine{00820\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}}
\DoxyCodeLine{00821\ \ \ \ \ \ \ typename\ ::Eigen::internal::enable\_if<need\_sync\ \&\&\ ctp\ ==\ contraction\_type::local>::type}
\DoxyCodeLine{00822\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a9e02678593de948386b772ba8fc69d89}{sync\_thread}}(\textcolor{keyword}{const}\ cl::sycl::nd\_item<1>\ \&itemID)\ \{}
\DoxyCodeLine{00823\ \ \ \ \ itemID.barrier(cl::sycl::access::fence\_space::local\_space);}
\DoxyCodeLine{00824\ \ \ \}}
\DoxyCodeLine{00825\ \ \ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{bool}\ need\_sync>}
\DoxyCodeLine{00826\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ typename\ ::Eigen::internal::enable\_if<!need\_sync>::type\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_afe456704bd914319ed5968639c6c0805}{sync\_thread}}(}
\DoxyCodeLine{00827\ \ \ \ \ \ \ \textcolor{keyword}{const}\ cl::sycl::nd\_item<1>\ \&)\ \{}
\DoxyCodeLine{00828\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{00829\ \ \ \}}
\DoxyCodeLine{00830\ }
\DoxyCodeLine{00831\ \ \ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{bool}\ is\_\textcolor{keywordtype}{int}ernal\_block>}
\DoxyCodeLine{00832\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a3c773242711bc9d7ccf157d8accf16f1}{compute\_tile\_per\_panel}}(\textcolor{keyword}{const}\ cl::sycl::nd\_item<1>\ \&itemID,}
\DoxyCodeLine{00833\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties}{ThreadProperties<StorageIndex>}}\ \&thread\_properties,}
\DoxyCodeLine{00834\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory}{TiledMemory}}\ \&tiled\_input\_block,}
\DoxyCodeLine{00835\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a9389c9a9efdc54656f4e792be46d3a77}{PacketReturnType}}\ *privateRes,\ \textcolor{keywordtype}{bool}\ \&db\_offset)\ \{}
\DoxyCodeLine{00836\ \ \ \ \ \textcolor{comment}{//\ Tiling\ the\ Rhs\ block\ from\ global\ to\ local\ memory}}
\DoxyCodeLine{00837\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ab1d95476a27a108643ae63d01e0de200}{extract\_block<RHSBlockProperties,\ is\_internal\_block>}}(}
\DoxyCodeLine{00838\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_aaf0fa30d0f7678c339e6cc6edd2746ee}{rhs}},\ tiled\_input\_block.\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_a418ab88014f6630010cedc1afa547354}{rhs\_scratch\_extract}}.\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1MemHolder_ab9f1f63870157558467c0b1cda92e64f}{ptr}}\ +\ (db\_offset\ *\ Properties::TileSizeDimK\ *\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_afb68bbf9ebc4e04cdf1bbda738988f14}{LSDR}}),}
\DoxyCodeLine{00839\ \ \ \ \ \ \ \ \ tiled\_input\_block.\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_a5bae886f27cdca1ffea10549c48aa722}{rhs\_extract\_index}},}
\DoxyCodeLine{00840\ \ \ \ \ \ \ \ \ contraction\_tp\ ==\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_ae779b94e3f0127525eda5ff1db87719daf5ddaf0ca7929578b408c909429f68f2}{contraction\_type::local}}\ ?\ thread\_properties.\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_a052d05954f4a43631d48130cb9878ff4}{nGroupOffset}}\ :\ thread\_properties.\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_af64a6acf6172994487cbdc08d7926482}{nGlobalOffset}},}
\DoxyCodeLine{00841\ \ \ \ \ \ \ \ \ thread\_properties.\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_abb2688fe3effd2dec35b9643105efbc4}{kGroupOffset}}\ -\/\ thread\_properties.\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_ab6650dd7c0719699e34b5c0cffeaa18a}{kSize}});}
\DoxyCodeLine{00842\ }
\DoxyCodeLine{00843\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a631cda6c1fe7ed0cc49ff8d366361530}{sync\_thread<contraction\_tp\ ==\ contraction\_type::no\_local>}}(itemID);}
\DoxyCodeLine{00844\ }
\DoxyCodeLine{00845\ \ \ \ \ \textcolor{comment}{//\ Tiling\ the\ Lhs\ block\ from\ global\ to\ local\ memory}}
\DoxyCodeLine{00846\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ab1d95476a27a108643ae63d01e0de200}{extract\_block<LHSBlockProperties,\ is\_internal\_block>}}(}
\DoxyCodeLine{00847\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ae18a2c02e4480eefef84259c42980524}{lhs}},\ tiled\_input\_block.\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_ac801e9c8aafa234522bd197747af7b3d}{lhs\_scratch\_extract}}.\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1MemHolder_ab9f1f63870157558467c0b1cda92e64f}{ptr}}\ +\ (db\_offset\ *\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a59bd1d1a2bade01c543d91ee1ffc278f}{LSDL}}\ *\ Properties::TileSizeDimK),}
\DoxyCodeLine{00848\ \ \ \ \ \ \ \ \ tiled\_input\_block.\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_ade573bc5fb8e7bce4e595eacdb33bfac}{lhs\_extract\_index}},}
\DoxyCodeLine{00849\ \ \ \ \ \ \ \ \ contraction\_tp\ ==\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_ae779b94e3f0127525eda5ff1db87719daf5ddaf0ca7929578b408c909429f68f2}{contraction\_type::local}}\ ?\ thread\_properties.\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_a015de15d574896ff77e8a1c37c5d044b}{mGroupOffset}}\ :\ thread\_properties.\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_acf655f29dbb176db71b8c60c4dc35eae}{mGlobalOffset}},}
\DoxyCodeLine{00850\ \ \ \ \ \ \ \ \ thread\_properties.\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_abb2688fe3effd2dec35b9643105efbc4}{kGroupOffset}}\ -\/\ thread\_properties.\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_ab6650dd7c0719699e34b5c0cffeaa18a}{kSize}});}
\DoxyCodeLine{00851\ }
\DoxyCodeLine{00852\ \ \ \ \ \textcolor{comment}{//\ itemID.barrier(cl::sycl::access::fence\_space::local\_space);}}
\DoxyCodeLine{00853\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a631cda6c1fe7ed0cc49ff8d366361530}{sync\_thread<contraction\_tp\ ==\ contraction\_type::local>}}(itemID);}
\DoxyCodeLine{00854\ \ \ \ \ \textcolor{comment}{//\ switch\ to\ compute\ mede}}
\DoxyCodeLine{00855\ \ \ \ \ StorageIndex\ lhs\_offset\ =\ (db\_offset\ *\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a59bd1d1a2bade01c543d91ee1ffc278f}{LSDL}}\ *\ Properties::TileSizeDimK);}
\DoxyCodeLine{00856\ \ \ \ \ StorageIndex\ rhs\_offset\ =\ (db\_offset\ *\ Properties::TileSizeDimK\ *\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_afb68bbf9ebc4e04cdf1bbda738988f14}{LSDR}});}
\DoxyCodeLine{00857\ \ \ \ \ \textcolor{comment}{//\ Loop\ over\ the\ values\ of\ a\ single\ tile}}
\DoxyCodeLine{00858\ \ \ \ \ \textcolor{keywordflow}{for}\ (StorageIndex\ k\ =\ 0;\ k\ <\ Properties::TileSizeDimK;\ k++)\ \{}
\DoxyCodeLine{00859\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a4dab5db8ade549a9c350b82e549f48c9}{compute\_block\_per\_tile}}(tiled\_input\_block.\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_ae436b05da0ee75b88e5818b3409ea6a1}{lhs\_scratch\_ptr\_compute}}\ +\ lhs\_offset,}
\DoxyCodeLine{00860\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ tiled\_input\_block.\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory_a5e5d9be5edc6c778c5f278f84ab3c6c4}{rhs\_scratch\_ptr\_compute}}\ +\ rhs\_offset,\ privateRes);}
\DoxyCodeLine{00861\ \ \ \ \ \ \ lhs\_offset\ +=\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a59bd1d1a2bade01c543d91ee1ffc278f}{LSDL}};}
\DoxyCodeLine{00862\ \ \ \ \ \ \ rhs\_offset\ +=\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_afb68bbf9ebc4e04cdf1bbda738988f14}{LSDR}};}
\DoxyCodeLine{00863\ \ \ \ \ \}}
\DoxyCodeLine{00864\ \ \ \ \ \textcolor{comment}{//\ computing\ the\ K\ index\ for\ the\ next\ tile}}
\DoxyCodeLine{00865\ \ \ \ \ thread\_properties.\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_ab6650dd7c0719699e34b5c0cffeaa18a}{kSize}}\ -\/=\ Properties::TileSizeDimK;}
\DoxyCodeLine{00866\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a31bb476a71bdc1788efff6203c0dd492}{sync\_mem}}(itemID,\ db\_offset);}
\DoxyCodeLine{00867\ \ \ \}}
\DoxyCodeLine{00868\ }
\DoxyCodeLine{00869\ \ \ \textcolor{comment}{//\ when\ local\ memory\ is\ available\ the\ following\ compute\_panel\ will\ be\ enabled}}
\DoxyCodeLine{00870\ \ \ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{bool}\ is\_\textcolor{keywordtype}{int}ernal\_block,\ \textcolor{keyword}{typename}\ OutPtr>}
\DoxyCodeLine{00871\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ad8e5160f49b2a9fbf153d88d91bdddc5}{compute\_panel}}(\textcolor{keyword}{const}\ cl::sycl::nd\_item<1>\ \&itemID,}
\DoxyCodeLine{00872\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties}{ThreadProperties<StorageIndex>}}\ \&thread\_properties,}
\DoxyCodeLine{00873\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ OutPtr\ out\_ptr)\ \{}
\DoxyCodeLine{00874\ \ \ \ \ \textcolor{keyword}{auto}\ tiled\_input\_block\ =\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_1_1TiledMemory}{TiledMemory}}\{thread\_properties,\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ad63f9757743718e78f4f83f361d95e27}{scratch}}.get\_pointer()\};}
\DoxyCodeLine{00875\ \ \ \ \ \textcolor{comment}{//\ Allocate\ register\ space}}
\DoxyCodeLine{00876\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a9389c9a9efdc54656f4e792be46d3a77}{PacketReturnType}}\ privateRes[Properties::WorkLoadPerThreadM\ *\ Properties::WorkLoadPerThreadN\ /\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_aa72a318769d7facfd60510c7daa10629}{PacketSize}}]\ =\ \{}
\DoxyCodeLine{00877\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a9389c9a9efdc54656f4e792be46d3a77}{PacketReturnType}}\{0\}\};}
\DoxyCodeLine{00878\ \ \ \ \ \textcolor{keywordtype}{bool}\ db\_offset\ =\ 0;}
\DoxyCodeLine{00879\ }
\DoxyCodeLine{00880\ \ \ \ \ \textcolor{keywordflow}{while}\ (thread\_properties.\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_ab6650dd7c0719699e34b5c0cffeaa18a}{kSize}}\ >=\ Properties::TileSizeDimK)\ \{}
\DoxyCodeLine{00881\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a3c773242711bc9d7ccf157d8accf16f1}{compute\_tile\_per\_panel<is\_internal\_block>}}(itemID,\ thread\_properties,\ tiled\_input\_block,\ privateRes,\ db\_offset);}
\DoxyCodeLine{00882\ \ \ \ \ \}}
\DoxyCodeLine{00883\ \ \ \ \ \textcolor{keywordflow}{if}\ (thread\_properties.\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_ab6650dd7c0719699e34b5c0cffeaa18a}{kSize}}\ >\ 0)\ \{}
\DoxyCodeLine{00884\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a3c773242711bc9d7ccf157d8accf16f1}{compute\_tile\_per\_panel<false>}}(itemID,\ thread\_properties,\ tiled\_input\_block,\ privateRes,\ db\_offset);}
\DoxyCodeLine{00885\ \ \ \ \ \}}
\DoxyCodeLine{00886\ }
\DoxyCodeLine{00887\ \ \ \ \ \textcolor{comment}{//\ Storing\ the\ final\ results\ in\ the\ output}}
\DoxyCodeLine{00888\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a4a0b0c042e3126b9d5ca36ec000db8c1}{store}}<is\_internal\_block,}
\DoxyCodeLine{00889\ \ \ \ \ \ \ \ \ \ \ contraction\_tp\ ==\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_ae779b94e3f0127525eda5ff1db87719daf5ddaf0ca7929578b408c909429f68f2}{contraction\_type::local}}\ ?\ \textcolor{keyword}{static\_cast<}StorageIndex\textcolor{keyword}{>}(1)\ :\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1BlockProperties_a7f68662110c4e9f27f74877f3229db2c}{RHSBlockProperties::nc\_stride}}>(}
\DoxyCodeLine{00890\ \ \ \ \ \ \ \ \ out\_ptr\ +\ thread\_properties.\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_af64a6acf6172994487cbdc08d7926482}{nGlobalOffset}}\ *\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}.M,\ privateRes,\ thread\_properties.\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_acf655f29dbb176db71b8c60c4dc35eae}{mGlobalOffset}},}
\DoxyCodeLine{00891\ \ \ \ \ \ \ \ \ thread\_properties.\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1ThreadProperties_af64a6acf6172994487cbdc08d7926482}{nGlobalOffset}});}
\DoxyCodeLine{00892\ \ \ \}}
\DoxyCodeLine{00893\ \ \ \textcolor{comment}{//\ When\ local\ memory\ is\ available\ the\ following\ extract\_block\ will\ be\ enabled}}
\DoxyCodeLine{00894\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ InputBlockProperties,\ \textcolor{keywordtype}{bool}\ is\_internal\_block,\ \textcolor{keyword}{typename}\ Input,\ \textcolor{keyword}{typename}\ Local,}
\DoxyCodeLine{00895\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_ae779b94e3f0127525eda5ff1db87719d}{contraction\_type}}\ contract\_tp\ =\ contraction\_tp>}
\DoxyCodeLine{00896\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}}
\DoxyCodeLine{00897\ \ \ \ \ \ \ typename\ ::Eigen::internal::enable\_if<contract\_tp\ ==\ contraction\_type::local>::type}
\DoxyCodeLine{00898\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ab2a2e9dcff79c991f15d0b163325e7d1}{extract\_block}}(\textcolor{keyword}{const}\ Input\ \&inpt,\ Local\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ae71a551a3f73c5026bf42201eddc167a}{local\_ptr}},\ \textcolor{keyword}{const}\ std::pair<StorageIndex,\ StorageIndex>\&\ local\_index,}
\DoxyCodeLine{00899\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ \&ncOffset,\ \textcolor{keyword}{const}\ StorageIndex\ cOffset)\ \{}
\DoxyCodeLine{00900\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ TileSizeDimNC\ =}
\DoxyCodeLine{00901\ \ \ \ \ \ \ \ \ InputBlockProperties::is\_rhs\ ?\ Properties::TileSizeDimN\ :\ Properties::TileSizeDimM;}
\DoxyCodeLine{00902\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ LoadPerThread\ =}
\DoxyCodeLine{00903\ \ \ \ \ \ \ \ \ InputBlockProperties::is\_rhs\ ?\ Properties::LoadPerThreadRhs\ :\ Properties::LoadPerThreadLhs;}
\DoxyCodeLine{00904\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ LSD\ =\ InputBlockProperties::is\_rhs\ ?\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_afb68bbf9ebc4e04cdf1bbda738988f14}{LSDR}}\ :\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a59bd1d1a2bade01c543d91ee1ffc278f}{LSDL}};}
\DoxyCodeLine{00905\ \ \ \ \ \textcolor{keyword}{static\_assert}(((\mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a1431abbddc168450ebe9603a072ed0cf}{LocalOffset}}\ \%\ (TileSizeDimNC\ /\ InputBlockProperties::nc\_stride)\ ==\ 0)\ \&\&}
\DoxyCodeLine{00906\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a1431abbddc168450ebe9603a072ed0cf}{LocalOffset}}\ \%\ (Properties::TileSizeDimK\ /\ InputBlockProperties::c\_stride)\ ==\ 0)),}
\DoxyCodeLine{00907\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}\ LocalOffset\ must\ be\ divisable\ by\ stride"{}});}
\DoxyCodeLine{00908\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ \&NC\ =\ InputBlockProperties::is\_rhs\ ?\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}.N\ :\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}.M;}
\DoxyCodeLine{00909\ \ \ \ \ StorageIndex\ localThreadNC\ =\ local\_index.first;}
\DoxyCodeLine{00910\ \ \ \ \ StorageIndex\ localThreadC\ =\ local\_index.second;}
\DoxyCodeLine{00911\ \ \ \ \ \textcolor{keyword}{auto}\ chk\_bound\ =\ [\&](\textcolor{keyword}{const}\ StorageIndex\ \&CIndex,\ \textcolor{keyword}{const}\ StorageIndex\ \&NCIndex)\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \{}
\DoxyCodeLine{00912\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ ((CIndex\ +\ InputBlockProperties::c\_stride\ -\/\ 1\ <\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}.K)\ \&\&}
\DoxyCodeLine{00913\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (NCIndex\ +\ InputBlockProperties::nc\_stride\ -\/\ 1\ <\ NC));}
\DoxyCodeLine{00914\ \ \ \ \ \};}
\DoxyCodeLine{00915\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a3c7e37b5f6cd41e80197523bca19b505}{EIGEN\_UNROLL\_LOOP}}}
\DoxyCodeLine{00916\ \ \ \ \ \textcolor{keywordflow}{for}\ (StorageIndex\ lPT\ =\ 0;\ lPT\ <\ LoadPerThread\ /\ InputBlockProperties::elements\_per\_access;\ lPT++)\ \{}
\DoxyCodeLine{00917\ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ CIndex\ =\ cOffset\ +\ (InputBlockProperties::c\_stride\ *\ localThreadC);}
\DoxyCodeLine{00918\ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ NCIndex\ =\ ncOffset\ +\ (InputBlockProperties::nc\_stride\ *\ localThreadNC);}
\DoxyCodeLine{00919\ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ ld\ =\ InputBlockProperties::is\_coalesced\_layout\ ?\ NC\ :\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}.K;}
\DoxyCodeLine{00920\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_af2d7a8b9b6f2fe9490f0c6e19c3def24}{check\_boundary<is\_internal\_block>}}(chk\_bound(CIndex,\ NCIndex)))\ \{}
\DoxyCodeLine{00921\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_aa0ccb5ee6d882ee3605ff47745c6467b}{val}}\ =}
\DoxyCodeLine{00922\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a3d81c856ccaedf571fc13a9cb62f01b9}{read}}<InputBlockProperties::packet\_load,\ InputBlockProperties::is\_coalesced\_layout,}
\DoxyCodeLine{00923\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ InputBlockProperties::is\_rhs,\ \textcolor{keyword}{typename}\ InputBlockProperties::OutType>(inpt,\ NCIndex,\ CIndex,\ ld);}
\DoxyCodeLine{00924\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a812e0989b17a374d999f4a1e820e6144}{write<StorageIndex,\ (InputBlockProperties::is\_coalesced\_layout\ ?\ 1\ :\ LSD),\ data\_source::local\_mem>}}(}
\DoxyCodeLine{00925\ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_aa0ccb5ee6d882ee3605ff47745c6467b}{val}},\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ae71a551a3f73c5026bf42201eddc167a}{local\_ptr}}\ +\ (InputBlockProperties::nc\_stride\ *\ localThreadNC)\ +}
\DoxyCodeLine{00926\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (InputBlockProperties::c\_stride\ *\ localThreadC\ *\ LSD));}
\DoxyCodeLine{00927\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00928\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a3c7e37b5f6cd41e80197523bca19b505}{EIGEN\_UNROLL\_LOOP}}}
\DoxyCodeLine{00929\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (StorageIndex\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ =\ 0;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ <\ InputBlockProperties::elements\_per\_access;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}++)\ \{}
\DoxyCodeLine{00930\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ nCInd\ =\ NCIndex\ +\ (InputBlockProperties::is\_coalesced\_layout\ ?\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ :\ 0);}
\DoxyCodeLine{00931\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ cInd\ =\ CIndex\ +\ (InputBlockProperties::is\_coalesced\_layout\ ?\ 0\ :\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}});}
\DoxyCodeLine{00932\ \ \ \ \ \ \ \ \ \ \ OutScalar\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_aa0ccb5ee6d882ee3605ff47745c6467b}{val}}\ =}
\DoxyCodeLine{00933\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (nCInd\ <\ NC\ \&\&\ cInd\ <\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a92a4151d945b4d36f948f125f3f3afcf}{triple\_dim}}.K)}
\DoxyCodeLine{00934\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a3d81c856ccaedf571fc13a9cb62f01b9}{read<false,\ InputBlockProperties::is\_coalesced\_layout,\ InputBlockProperties::is\_rhs,\ OutScalar>}}(}
\DoxyCodeLine{00935\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ inpt,\ nCInd,\ cInd,\ ld)}
\DoxyCodeLine{00936\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ OutScalar(0);}
\DoxyCodeLine{00937\ }
\DoxyCodeLine{00938\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a812e0989b17a374d999f4a1e820e6144}{write<StorageIndex,\ (InputBlockProperties::is\_coalesced\_layout\ ?\ 1\ :\ LSD),\ data\_source::local\_mem>}}(}
\DoxyCodeLine{00939\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_aa0ccb5ee6d882ee3605ff47745c6467b}{val}},\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_ae71a551a3f73c5026bf42201eddc167a}{local\_ptr}}\ +\ (InputBlockProperties::nc\_stride\ *\ localThreadNC)\ +}
\DoxyCodeLine{00940\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (InputBlockProperties::is\_coalesced\_layout\ ?\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ :\ 0)\ +}
\DoxyCodeLine{00941\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ((InputBlockProperties::c\_stride\ *\ localThreadC\ +}
\DoxyCodeLine{00942\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (InputBlockProperties::is\_coalesced\_layout\ ?\ 0\ :\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}))\ *}
\DoxyCodeLine{00943\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LSD));}
\DoxyCodeLine{00944\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00945\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00946\ \ \ \ \ \ \ localThreadNC\ +=\ (InputBlockProperties::is\_coalesced\_layout)}
\DoxyCodeLine{00947\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a1431abbddc168450ebe9603a072ed0cf}{LocalOffset}}\ \%\ (TileSizeDimNC\ /\ InputBlockProperties::nc\_stride)}
\DoxyCodeLine{00948\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a1431abbddc168450ebe9603a072ed0cf}{LocalOffset}}\ /\ (Properties::TileSizeDimK\ /\ InputBlockProperties::c\_stride);}
\DoxyCodeLine{00949\ \ \ \ \ \ \ localThreadC\ +=\ (InputBlockProperties::is\_coalesced\_layout)}
\DoxyCodeLine{00950\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a1431abbddc168450ebe9603a072ed0cf}{LocalOffset}}\ /\ (TileSizeDimNC\ /\ InputBlockProperties::nc\_stride)}
\DoxyCodeLine{00951\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel_a1431abbddc168450ebe9603a072ed0cf}{LocalOffset}}\ \%\ (Properties::TileSizeDimK\ /\ InputBlockProperties::c\_stride);}
\DoxyCodeLine{00952\ \ \ \ \ \}}
\DoxyCodeLine{00953\ \ \ \}}
\DoxyCodeLine{00954\ \};}
\DoxyCodeLine{00955\ }
\DoxyCodeLine{00956\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_SYCL\_DISABLE\_GEMV}}
\DoxyCodeLine{00957\ }
\DoxyCodeLine{00999\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutScalar,\ \textcolor{keyword}{typename}\ OutAccessor,\ \textcolor{keyword}{typename}\ VectorMapper,\ \textcolor{keyword}{typename}\ TensorMapper,\ \textcolor{keyword}{typename}\ StorageIndex,}
\DoxyCodeLine{01000\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ Properties,\ StorageIndex\ KFactor,\ \textcolor{keywordtype}{bool}\ Vectorizable,\ \textcolor{keywordtype}{bool}\ is\_lhs\_vec,\ \textcolor{keywordtype}{bool}\ IsFinal>}
\DoxyCodeLine{01001\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor}{GeneralVectorTensor}}\ \{}
\DoxyCodeLine{01002\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ Eigen::TensorSycl::internal::Vectorise<OutScalar,\ Eigen::SyclDevice,\ Vectorizable>::PacketReturnType}
\DoxyCodeLine{01003\ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a2f4a21ee9e51d3d1da4c5849630fef50}{PacketReturnType}};}
\DoxyCodeLine{01004\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_ac62cb97e82aaf8be8ed811936d264de1}{PacketSize}}\ =}
\DoxyCodeLine{01005\ \ \ \ \ \ \ Eigen::TensorSycl::internal::Vectorise<OutScalar,\ Eigen::SyclDevice,\ Vectorizable>::PacketSize;}
\DoxyCodeLine{01006\ \ \ \textcolor{keyword}{typedef}\ cl::sycl::accessor<OutScalar,\ 1,\ cl::sycl::access::mode::read\_write,\ cl::sycl::access::target::local>\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_ac22d288f491066a3386aa50e125f7031}{Scratch}};}
\DoxyCodeLine{01007\ }
\DoxyCodeLine{01008\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a0b6e601ede5fd574f41644026d1265e0}{OutScratchOffset}}\ =}
\DoxyCodeLine{01009\ \ \ \ \ \ \ KFactor\ *\ Properties::LocalThreadSizeC\ *\ Properties::LocalThreadSizeNC;}
\DoxyCodeLine{01010\ }
\DoxyCodeLine{01011\ \ \ \textcolor{comment}{//\ Since\ the\ access\ layout\ for\ a\ vector\ can\ always\ be\ coalesced,\ when\ LHS\ is\ a\ vector,\ we\ pass\ false\ and\ false\ to\ make}}
\DoxyCodeLine{01012\ \ \ \textcolor{comment}{//\ sure\ that\ the\ !\string^\ is\ true\ When\ RHS\ is\ a\ vector,\ we\ pass\ true\ and\ true\ to\ make\ sure\ that\ the\ !\string^\ is\ true.}}
\DoxyCodeLine{01013\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1BlockProperties}{BlockProperties<is\_lhs\_vec\ ?\ false\ :\ true,\ is\_lhs\_vec\ ?\ false\ :\ true,\ Vectorizable,\ PacketReturnType>}}}
\DoxyCodeLine{01014\ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a0228669c92ccbcc36cf62c486b382456}{VecBlockProperties}};}
\DoxyCodeLine{01015\ }
\DoxyCodeLine{01016\ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_ac22d288f491066a3386aa50e125f7031}{Scratch}}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a05c3357d6d4bdbbd83d72eb67d23d0fd}{scratch}};}
\DoxyCodeLine{01017\ \ \ \textcolor{keyword}{const}\ VectorMapper\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_af8a38775dbc86b7c0937825bde1b7745}{vec}};}
\DoxyCodeLine{01018\ \ \ \textcolor{keyword}{const}\ TensorMapper\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a6210a1865d7843176d6ad982f2ebdd25}{mat}};}
\DoxyCodeLine{01019\ \ \ OutAccessor\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_ab63a9b9da2e948f73f891619619b0560}{out\_res}};}
\DoxyCodeLine{01020\ \ \ \textcolor{keyword}{const}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a97fd09801e9b4e02285011345bb019fd}{nonContractGroupSize}};}
\DoxyCodeLine{01021\ \ \ \textcolor{keyword}{const}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a8c98567493c58c6ab60dd4eef39d195b}{nonContractDim}};}
\DoxyCodeLine{01022\ \ \ \textcolor{keyword}{const}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_aa6eaeac749e4429aba20d52004d8ec49}{contractDim}};}
\DoxyCodeLine{01023\ }
\DoxyCodeLine{01024\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a4935d692e607509a13fd1fbee37c3934}{GeneralVectorTensor}}(\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_ac22d288f491066a3386aa50e125f7031}{Scratch}}\ scratch\_,\ \textcolor{keyword}{const}\ VectorMapper\ vec\_,}
\DoxyCodeLine{01025\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ TensorMapper\ mat\_,\ OutAccessor\ out\_res\_,}
\DoxyCodeLine{01026\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ nonContractGroupSize\_,}
\DoxyCodeLine{01027\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ nonContractDim\_,}
\DoxyCodeLine{01028\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ contractDim\_)}
\DoxyCodeLine{01029\ \ \ \ \ \ \ :\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a05c3357d6d4bdbbd83d72eb67d23d0fd}{scratch}}(scratch\_),}
\DoxyCodeLine{01030\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_af8a38775dbc86b7c0937825bde1b7745}{vec}}(vec\_),}
\DoxyCodeLine{01031\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a6210a1865d7843176d6ad982f2ebdd25}{mat}}(mat\_),}
\DoxyCodeLine{01032\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_ab63a9b9da2e948f73f891619619b0560}{out\_res}}(out\_res\_),}
\DoxyCodeLine{01033\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a97fd09801e9b4e02285011345bb019fd}{nonContractGroupSize}}(nonContractGroupSize\_),}
\DoxyCodeLine{01034\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a8c98567493c58c6ab60dd4eef39d195b}{nonContractDim}}(nonContractDim\_),}
\DoxyCodeLine{01035\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_aa6eaeac749e4429aba20d52004d8ec49}{contractDim}}(contractDim\_)\ \{\}}
\DoxyCodeLine{01036\ }
\DoxyCodeLine{01037\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a2015f075597b5b5e5855dc7db2cb3f50}{operator()}}(cl::sycl::nd\_item<1>\ itemID)\ \{}
\DoxyCodeLine{01038\ \ \ \ \ \textcolor{keyword}{auto}\ scratch\_ptr\ =\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a05c3357d6d4bdbbd83d72eb67d23d0fd}{scratch}}.get\_pointer();}
\DoxyCodeLine{01039\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ linearLocalThreadId\ =\ itemID.get\_local\_id(0);}
\DoxyCodeLine{01040\ \ \ \ \ StorageIndex\ nonContractId\ =\ is\_lhs\_vec\ ?\ linearLocalThreadId\ /\ Properties::LocalThreadSizeC}
\DoxyCodeLine{01041\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ linearLocalThreadId\ \%\ Properties::LocalThreadSizeNC;}
\DoxyCodeLine{01042\ \ \ \ \ StorageIndex\ contractId\ =\ is\_lhs\_vec\ ?\ linearLocalThreadId\ \%\ Properties::LocalThreadSizeC}
\DoxyCodeLine{01043\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ linearLocalThreadId\ /\ Properties::LocalThreadSizeNC;}
\DoxyCodeLine{01044\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ cGroupSize\ =\ itemID.get\_group\_range(0)\ /\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a97fd09801e9b4e02285011345bb019fd}{nonContractGroupSize}};}
\DoxyCodeLine{01045\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ nonContractGroupId\ =}
\DoxyCodeLine{01046\ \ \ \ \ \ \ \ \ is\_lhs\_vec\ ?\ itemID.get\_group(0)\ /\ cGroupSize\ :\ itemID.get\_group(0)\ \%\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a97fd09801e9b4e02285011345bb019fd}{nonContractGroupSize}};}
\DoxyCodeLine{01047\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ contractGroupId\ =}
\DoxyCodeLine{01048\ \ \ \ \ \ \ \ \ is\_lhs\_vec\ ?\ itemID.get\_group(0)\ \%\ cGroupSize\ :\ itemID.get\_group(0)\ /\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a97fd09801e9b4e02285011345bb019fd}{nonContractGroupSize}};}
\DoxyCodeLine{01049\ \ \ \ \ \textcolor{keyword}{auto}\ out\_ptr\ =\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_ab63a9b9da2e948f73f891619619b0560}{out\_res}}.get\_pointer()\ +\ (IsFinal\ ?\ 0\ :\ contractGroupId\ *\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a8c98567493c58c6ab60dd4eef39d195b}{nonContractDim}});}
\DoxyCodeLine{01050\ }
\DoxyCodeLine{01051\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ nonContractGroupOffset\ =\ nonContractGroupId\ *\ Properties::TileSizeDimNC;}
\DoxyCodeLine{01052\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ contractGroupOffset\ =\ contractGroupId\ *\ Properties::TileSizeDimC;}
\DoxyCodeLine{01053\ \ \ \ \ \textcolor{keyword}{auto}\ outScratchIndex\ =\ nonContractId\ +\ contractId\ *\ Properties::LocalThreadSizeNC;}
\DoxyCodeLine{01054\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ globalNonContractDimOffset\ =\ nonContractGroupOffset\ +\ nonContractId;}
\DoxyCodeLine{01055\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ globalContractDimOffset\ =\ contractGroupOffset\ +\ contractId;}
\DoxyCodeLine{01056\ \ \ \ \ \textcolor{keyword}{auto}\ local\_output\ =\ scratch\_ptr\ +\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a0b6e601ede5fd574f41644026d1265e0}{OutScratchOffset}};}
\DoxyCodeLine{01057\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ is\_internal\ =\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a8c98567493c58c6ab60dd4eef39d195b}{nonContractDim}}\ -\/\ nonContractGroupOffset\ >=\ Properties::TileSizeDimNC\ \&\&}
\DoxyCodeLine{01058\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_aa6eaeac749e4429aba20d52004d8ec49}{contractDim}}\ -\/\ contractGroupOffset\ >=\ Properties::TileSizeDimC;}
\DoxyCodeLine{01059\ \ \ \ \ is\_internal}
\DoxyCodeLine{01060\ \ \ \ \ \ \ \ \ ?\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a2a8439d4ef9c109a6d1d06b23b824a33}{compute\_panel<true>}}(itemID,\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_af8a38775dbc86b7c0937825bde1b7745}{vec}},\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a6210a1865d7843176d6ad982f2ebdd25}{mat}},\ local\_output,\ out\_ptr,}
\DoxyCodeLine{01061\ \#ifdef\ \mbox{\hyperlink{eigen_2unsupported_2Eigen_2CXX11_2src_2Tensor_2TensorMacros_8h_aaed4c3a59fa23ded7e3bdc11870872c2}{EIGEN\_SYCL\_LOCAL\_MEM\_UNSET\_OR\_ON}}}
\DoxyCodeLine{01062\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ scratch\_ptr,\ contractGroupOffset,}
\DoxyCodeLine{01063\ \#endif}
\DoxyCodeLine{01064\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nonContractGroupOffset,\ linearLocalThreadId,\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_aa6eaeac749e4429aba20d52004d8ec49}{contractDim}},\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a8c98567493c58c6ab60dd4eef39d195b}{nonContractDim}},\ contractId,}
\DoxyCodeLine{01065\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nonContractId,\ globalContractDimOffset,\ globalNonContractDimOffset,\ outScratchIndex)}
\DoxyCodeLine{01066\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a2a8439d4ef9c109a6d1d06b23b824a33}{compute\_panel<false>}}(itemID,\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_af8a38775dbc86b7c0937825bde1b7745}{vec}},\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a6210a1865d7843176d6ad982f2ebdd25}{mat}},\ local\_output,\ out\_ptr,}
\DoxyCodeLine{01067\ \#ifdef\ \mbox{\hyperlink{eigen_2unsupported_2Eigen_2CXX11_2src_2Tensor_2TensorMacros_8h_aaed4c3a59fa23ded7e3bdc11870872c2}{EIGEN\_SYCL\_LOCAL\_MEM\_UNSET\_OR\_ON}}}
\DoxyCodeLine{01068\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ scratch\_ptr,\ contractGroupOffset,}
\DoxyCodeLine{01069\ \#endif}
\DoxyCodeLine{01070\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nonContractGroupOffset,\ linearLocalThreadId,\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_aa6eaeac749e4429aba20d52004d8ec49}{contractDim}},\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a8c98567493c58c6ab60dd4eef39d195b}{nonContractDim}},\ contractId,}
\DoxyCodeLine{01071\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nonContractId,\ globalContractDimOffset,\ globalNonContractDimOffset,\ outScratchIndex);}
\DoxyCodeLine{01072\ \ \ \}}
\DoxyCodeLine{01073\ \ \ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{bool}\ is\_\textcolor{keywordtype}{int}ernal\_block,\ \textcolor{keyword}{typename}\ OutPtr>}
\DoxyCodeLine{01074\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a2a8439d4ef9c109a6d1d06b23b824a33}{compute\_panel}}(}
\DoxyCodeLine{01075\ \ \ \ \ \ \ \textcolor{keyword}{const}\ cl::sycl::nd\_item<1>\ \&itemID,\ \textcolor{keyword}{const}\ VectorMapper\ \&\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_af8a38775dbc86b7c0937825bde1b7745}{vec}},\ \textcolor{keyword}{const}\ TensorMapper\ \&\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a6210a1865d7843176d6ad982f2ebdd25}{mat}},\ OutScalar\ *local\_output,}
\DoxyCodeLine{01076\ \ \ \ \ \ \ OutPtr\ out\_ptr,}
\DoxyCodeLine{01077\ \#ifdef\ \mbox{\hyperlink{eigen_2unsupported_2Eigen_2CXX11_2src_2Tensor_2TensorMacros_8h_aaed4c3a59fa23ded7e3bdc11870872c2}{EIGEN\_SYCL\_LOCAL\_MEM\_UNSET\_OR\_ON}}}
\DoxyCodeLine{01078\ \ \ \ \ \ \ OutScalar\ *scratch\_ptr,\ \textcolor{keyword}{const}\ StorageIndex\ contractGroupOffset,}
\DoxyCodeLine{01079\ \#endif}
\DoxyCodeLine{01080\ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ nonContractGroupOffset,\ \textcolor{keyword}{const}\ StorageIndex\ linearLocalThreadId,\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_aa6eaeac749e4429aba20d52004d8ec49}{contractDim}},}
\DoxyCodeLine{01081\ \ \ \ \ \ \ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a8c98567493c58c6ab60dd4eef39d195b}{nonContractDim}},\ StorageIndex\ contractId,\ StorageIndex\ nonContractId,}
\DoxyCodeLine{01082\ \ \ \ \ \ \ StorageIndex\ globalContractDimOffset,\ StorageIndex\ globalNonContractDimOffset,\ StorageIndex\ outScratchIndex)\ \{}
\DoxyCodeLine{01083\ \ \ \ \ OutScalar\ outScalar[Properties::WorkLoadPerThreadNC]\ =\ \{OutScalar(0)\};}
\DoxyCodeLine{01084\ \ \ \ \ \textcolor{comment}{//\ Reading\ the\ vector}}
\DoxyCodeLine{01085\ \textcolor{preprocessor}{\#ifdef\ EIGEN\_SYCL\_LOCAL\_MEM\_UNSET\_OR\_ON}}
\DoxyCodeLine{01086\ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ vectorOffset\ =\ contractGroupOffset\ +\ linearLocalThreadId;}
\DoxyCodeLine{01087\ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a62faa97772c77ede92af4848ab5a0765}{extract\_block}}<\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a0228669c92ccbcc36cf62c486b382456}{VecBlockProperties}},\ is\_internal\_block,\ KFactor,}
\DoxyCodeLine{01088\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Properties::LocalThreadSizeNC\ *\ Properties::LocalThreadSizeC>(\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_af8a38775dbc86b7c0937825bde1b7745}{vec}},\ scratch\_ptr,\ linearLocalThreadId,}
\DoxyCodeLine{01089\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ vectorOffset,\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_aa6eaeac749e4429aba20d52004d8ec49}{contractDim}});}
\DoxyCodeLine{01090\ }
\DoxyCodeLine{01091\ \ \ \ \ itemID.barrier(cl::sycl::access::fence\_space::local\_space);}
\DoxyCodeLine{01092\ \ \ \ \ \textcolor{keyword}{auto}\ in\_scratch\_ptr\ =\ scratch\_ptr\ +\ contractId;}
\DoxyCodeLine{01093\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01094\ }
\DoxyCodeLine{01095\ \ \ \ \ StorageIndex\ privateOffsetC\ =\ 0;}
\DoxyCodeLine{01096\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a3c7e37b5f6cd41e80197523bca19b505}{EIGEN\_UNROLL\_LOOP}}}
\DoxyCodeLine{01097\ \ \ \ \ \textcolor{keywordflow}{for}\ (StorageIndex\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ =\ 0;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ <\ Properties::WorkLoadPerThreadC;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}++)\ \{}
\DoxyCodeLine{01098\ \ \ \ \ \ \ StorageIndex\ privateOffsetNC\ =\ 0;}
\DoxyCodeLine{01099\ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ contract\_conds\ =\ ((globalContractDimOffset\ +\ privateOffsetC)\ <\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_aa6eaeac749e4429aba20d52004d8ec49}{contractDim}});}
\DoxyCodeLine{01100\ \textcolor{preprocessor}{\#ifdef\ EIGEN\_SYCL\_LOCAL\_MEM\_UNSET\_OR\_ON}}
\DoxyCodeLine{01101\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ vecScalar\ =\ *in\_scratch\_ptr;}
\DoxyCodeLine{01102\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{01103\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ vecScalar\ =\ (\mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_af2d7a8b9b6f2fe9490f0c6e19c3def24}{check\_boundary<is\_internal\_block>}}(contract\_conds))}
\DoxyCodeLine{01104\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_af8a38775dbc86b7c0937825bde1b7745}{vec}}(is\_lhs\_vec\ ?\ StorageIndex(0)\ :\ globalContractDimOffset\ +\ privateOffsetC,}
\DoxyCodeLine{01105\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ is\_lhs\_vec\ ?\ globalContractDimOffset\ +\ privateOffsetC\ :\ StorageIndex(0))}
\DoxyCodeLine{01106\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ OutScalar(0);}
\DoxyCodeLine{01107\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01108\ \ \ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a3c7e37b5f6cd41e80197523bca19b505}{EIGEN\_UNROLL\_LOOP}}}
\DoxyCodeLine{01109\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (StorageIndex\ j\ =\ 0;\ j\ <\ Properties::WorkLoadPerThreadNC;\ j++)\ \{}
\DoxyCodeLine{01110\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ matScalar\ =\ (\mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_af2d7a8b9b6f2fe9490f0c6e19c3def24}{check\_boundary<is\_internal\_block>}}(}
\DoxyCodeLine{01111\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ contract\_conds\ \&\&\ ((globalNonContractDimOffset\ +\ privateOffsetNC)\ <\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a8c98567493c58c6ab60dd4eef39d195b}{nonContractDim}})))}
\DoxyCodeLine{01112\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a6210a1865d7843176d6ad982f2ebdd25}{mat}}(is\_lhs\_vec\ ?\ globalContractDimOffset\ +\ privateOffsetC}
\DoxyCodeLine{01113\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ globalNonContractDimOffset\ +\ privateOffsetNC,}
\DoxyCodeLine{01114\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ is\_lhs\_vec\ ?\ globalNonContractDimOffset\ +\ privateOffsetNC}
\DoxyCodeLine{01115\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ globalContractDimOffset\ +\ privateOffsetC)}
\DoxyCodeLine{01116\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ OutScalar(0);}
\DoxyCodeLine{01117\ }
\DoxyCodeLine{01118\ \ \ \ \ \ \ \ \ outScalar[j]\ =\ cl::sycl::mad(matScalar,\ vecScalar,\ outScalar[j]);}
\DoxyCodeLine{01119\ \ \ \ \ \ \ \ \ privateOffsetNC\ +=\ Properties::LocalThreadSizeNC;}
\DoxyCodeLine{01120\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01121\ \ \ \ \ \ \ privateOffsetC\ +=\ Properties::LocalThreadSizeC;}
\DoxyCodeLine{01122\ \textcolor{preprocessor}{\#ifdef\ EIGEN\_SYCL\_LOCAL\_MEM\_UNSET\_OR\_ON}}
\DoxyCodeLine{01123\ \ \ \ \ \ \ in\_scratch\_ptr\ +=\ Properties::LocalThreadSizeC;}
\DoxyCodeLine{01124\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01125\ \ \ \ \ \}}
\DoxyCodeLine{01126\ }
\DoxyCodeLine{01127\ \ \ \ \ \textcolor{keyword}{auto}\ out\_scratch\_ptr\ =\ local\_output\ +\ outScratchIndex;}
\DoxyCodeLine{01128\ \ \ \ \ \textcolor{comment}{//\ Each\ block\ of\ 16*16\ element\ in\ shared\ memory\ should\ reduce\ to\ 16*1}}
\DoxyCodeLine{01129\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a3c7e37b5f6cd41e80197523bca19b505}{EIGEN\_UNROLL\_LOOP}}}
\DoxyCodeLine{01130\ \ \ \ \ \textcolor{keywordflow}{for}\ (StorageIndex\ j\ =\ 0;\ j\ <\ Properties::WorkLoadPerThreadNC;\ j++)\ \{}
\DoxyCodeLine{01131\ \ \ \ \ \ \ *out\_scratch\_ptr\ =\ outScalar[j];}
\DoxyCodeLine{01132\ }
\DoxyCodeLine{01133\ \ \ \ \ \ \ out\_scratch\_ptr\ +=\ (Properties::LocalThreadSizeNC\ *\ Properties::LocalThreadSizeC);}
\DoxyCodeLine{01134\ \ \ \ \ \}}
\DoxyCodeLine{01135\ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_lhs\_vec)\ \{}
\DoxyCodeLine{01136\ \ \ \ \ \ \ nonContractId\ =\ linearLocalThreadId\ \%\ Properties::LocalThreadSizeNC;}
\DoxyCodeLine{01137\ \ \ \ \ \ \ contractId\ =\ linearLocalThreadId\ /\ Properties::LocalThreadSizeNC;}
\DoxyCodeLine{01138\ \ \ \ \ \ \ outScratchIndex\ =\ nonContractId\ +\ contractId\ *\ Properties::LocalThreadSizeNC;}
\DoxyCodeLine{01139\ \ \ \ \ \}}
\DoxyCodeLine{01140\ }
\DoxyCodeLine{01141\ \ \ \ \ out\_scratch\_ptr\ =\ local\_output\ +\ outScratchIndex;}
\DoxyCodeLine{01142\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a3c7e37b5f6cd41e80197523bca19b505}{EIGEN\_UNROLL\_LOOP}}}
\DoxyCodeLine{01143\ \ \ \ \ \textcolor{keywordflow}{for}\ (StorageIndex\ j\ =\ 0;\ j\ <\ Properties::WorkLoadPerThreadNC;\ j++)\ \{}
\DoxyCodeLine{01144\ \ \ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a3c7e37b5f6cd41e80197523bca19b505}{EIGEN\_UNROLL\_LOOP}}}
\DoxyCodeLine{01145\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (StorageIndex\ offset\ =\ Properties::LocalThreadSizeC\ >>\ 1;\ offset\ >\ 0;\ offset\ >>=\ 1)\ \{}
\DoxyCodeLine{01146\ \ \ \ \ \ \ \ \ itemID.barrier(cl::sycl::access::fence\_space::local\_space);}
\DoxyCodeLine{01147\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (contractId\ <\ offset)\ \{}
\DoxyCodeLine{01148\ \ \ \ \ \ \ \ \ \ \ StorageIndex\ myNeigbourId\ =\ (Properties::LocalThreadSizeNC\ *\ offset);}
\DoxyCodeLine{01149\ \ \ \ \ \ \ \ \ \ \ *out\_scratch\_ptr\ +=\ out\_scratch\_ptr[myNeigbourId];}
\DoxyCodeLine{01150\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01151\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01152\ \ \ \ \ \ \ \textcolor{comment}{//\ moving\ to\ next\ 16\ by\ 16\ block}}
\DoxyCodeLine{01153\ \ \ \ \ \ \ out\_scratch\_ptr\ +=\ (Properties::LocalThreadSizeNC\ *\ Properties::LocalThreadSizeC);}
\DoxyCodeLine{01154\ \ \ \ \ \}}
\DoxyCodeLine{01155\ }
\DoxyCodeLine{01156\ \ \ \ \ \textcolor{keywordflow}{if}\ (contractId\ ==\ 0)\ \{}
\DoxyCodeLine{01157\ \ \ \ \ \ \ out\_scratch\_ptr\ =\ local\_output\ +\ nonContractId;}
\DoxyCodeLine{01158\ \ \ \ \ \ \ StorageIndex\ global\_final\_offset\ =\ nonContractGroupOffset\ +\ nonContractId;}
\DoxyCodeLine{01159\ \ \ \ \ \ \ out\_ptr\ +=\ global\_final\_offset;}
\DoxyCodeLine{01160\ \ \ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a3c7e37b5f6cd41e80197523bca19b505}{EIGEN\_UNROLL\_LOOP}}}
\DoxyCodeLine{01161\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (StorageIndex\ j\ =\ 0;\ j\ <\ Properties::WorkLoadPerThreadNC;\ j++)\ \{}
\DoxyCodeLine{01162\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_af2d7a8b9b6f2fe9490f0c6e19c3def24}{check\_boundary<is\_internal\_block>}}(global\_final\_offset\ <\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a8c98567493c58c6ab60dd4eef39d195b}{nonContractDim}}))\ \{}
\DoxyCodeLine{01163\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ res\ =\ *out\_scratch\_ptr;}
\DoxyCodeLine{01164\ }
\DoxyCodeLine{01165\ \ \ \ \ \ \ \ \ \ \ *out\_ptr\ =\ res;}
\DoxyCodeLine{01166\ \ \ \ \ \ \ \ \ \ \ out\_ptr\ +=\ Properties::LocalThreadSizeNC;}
\DoxyCodeLine{01167\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01168\ \ \ \ \ \ \ \ \ \textcolor{comment}{//\ moving\ to\ next\ 16\ by\ 16\ block\ to\ ge\ the\ next\ 16\ reduced\ elements}}
\DoxyCodeLine{01169\ \ \ \ \ \ \ \ \ out\_scratch\_ptr\ +=\ (Properties::LocalThreadSizeNC\ *\ Properties::LocalThreadSizeC);}
\DoxyCodeLine{01170\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!(is\_internal\_block))\ global\_final\_offset\ +=\ Properties::LocalThreadSizeNC;}
\DoxyCodeLine{01171\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01172\ \ \ \ \ \}}
\DoxyCodeLine{01173\ \ \ \}}
\DoxyCodeLine{01174\ }
\DoxyCodeLine{01175\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ InputBlockProperties,\ \textcolor{keywordtype}{bool}\ is\_internal\_block,\ \textcolor{keywordtype}{int}\ CFactor,\ \textcolor{keywordtype}{int}\ GroupSize,\ \textcolor{keyword}{typename}\ Input,}
\DoxyCodeLine{01176\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ Local>}
\DoxyCodeLine{01177\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor_a62faa97772c77ede92af4848ab5a0765}{extract\_block}}(\textcolor{keyword}{const}\ Input\ \&inpt,\ Local\ *local\_ptr,}
\DoxyCodeLine{01178\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ \&linearLocalThreadId,}
\DoxyCodeLine{01179\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ \&cOffset,\ \textcolor{keyword}{const}\ StorageIndex\ \&\mbox{\hyperlink{abseil-cpp_2absl_2hash_2internal_2city__test_8cc_ac54ae397901fe700628cafadea3c5208}{C}})\ \{}
\DoxyCodeLine{01180\ \ \ \ \ local\_ptr\ +=\ InputBlockProperties::c\_stride\ *\ linearLocalThreadId;}
\DoxyCodeLine{01181\ \ \ \ \ StorageIndex\ cIndex\ =\ cOffset;}
\DoxyCodeLine{01182\ \ \ \ \ \textcolor{keywordflow}{for}\ (StorageIndex\ cId\ =\ 0;\ cId\ <\ CFactor\ /\ InputBlockProperties::c\_stride;\ cId++)\ \{}
\DoxyCodeLine{01183\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_af2d7a8b9b6f2fe9490f0c6e19c3def24}{check\_boundary<is\_internal\_block>}}(cIndex\ +\ InputBlockProperties::c\_stride\ -\/\ 1\ <\ \mbox{\hyperlink{abseil-cpp_2absl_2hash_2internal_2city__test_8cc_ac54ae397901fe700628cafadea3c5208}{C}}))\ \{}
\DoxyCodeLine{01184\ \ \ \ \ \ \ \ \ \textcolor{keyword}{auto}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_aa0ccb5ee6d882ee3605ff47745c6467b}{val}}\ =\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a3d81c856ccaedf571fc13a9cb62f01b9}{read}}<InputBlockProperties::packet\_load,\ InputBlockProperties::is\_coalesced\_layout,}
\DoxyCodeLine{01185\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ InputBlockProperties::is\_rhs,\ \textcolor{keyword}{typename}\ InputBlockProperties::OutType>(inpt,\ StorageIndex(0),}
\DoxyCodeLine{01186\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cIndex,\ StorageIndex(1));}
\DoxyCodeLine{01187\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a812e0989b17a374d999f4a1e820e6144}{write<StorageIndex,\ 1,\ data\_source::local\_mem>}}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_aa0ccb5ee6d882ee3605ff47745c6467b}{val}},\ local\_ptr);}
\DoxyCodeLine{01188\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01189\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a3c7e37b5f6cd41e80197523bca19b505}{EIGEN\_UNROLL\_LOOP}}}
\DoxyCodeLine{01190\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (StorageIndex\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ =\ 0;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ <\ InputBlockProperties::elements\_per\_access;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}++)\ \{}
\DoxyCodeLine{01191\ \ \ \ \ \ \ \ \ \ \ OutScalar\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_aa0ccb5ee6d882ee3605ff47745c6467b}{val}}\ =}
\DoxyCodeLine{01192\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (cIndex\ +\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ <\ \mbox{\hyperlink{abseil-cpp_2absl_2hash_2internal_2city__test_8cc_ac54ae397901fe700628cafadea3c5208}{C}})}
\DoxyCodeLine{01193\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a3d81c856ccaedf571fc13a9cb62f01b9}{read<false,\ InputBlockProperties::is\_coalesced\_layout,\ InputBlockProperties::is\_rhs,\ OutScalar>}}(}
\DoxyCodeLine{01194\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ inpt,\ StorageIndex(0),\ cIndex\ +\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ StorageIndex(1))}
\DoxyCodeLine{01195\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ OutScalar(0);}
\DoxyCodeLine{01196\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_a812e0989b17a374d999f4a1e820e6144}{write<StorageIndex,\ 1,\ data\_source::local\_mem>}}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2internal_2raw__hash__set__test_8cc_aa0ccb5ee6d882ee3605ff47745c6467b}{val}},\ local\_ptr\ +\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}});}
\DoxyCodeLine{01197\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01198\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01199\ \ \ \ \ \ \ local\_ptr\ +=\ InputBlockProperties::c\_stride\ *\ GroupSize;}
\DoxyCodeLine{01200\ \ \ \ \ \ \ cIndex\ +=\ InputBlockProperties::c\_stride\ *\ GroupSize;}
\DoxyCodeLine{01201\ \ \ \ \ \}}
\DoxyCodeLine{01202\ \ \ \}}
\DoxyCodeLine{01203\ \};}
\DoxyCodeLine{01204\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01205\ }
\DoxyCodeLine{01206\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_SYCL\_DISABLE\_SCALAR}}
\DoxyCodeLine{01207\ }
\DoxyCodeLine{01239\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ OutScalar,\ \textcolor{keyword}{typename}\ LhsScalar,\ \textcolor{keyword}{typename}\ RhsScalar,\ \textcolor{keyword}{typename}\ OutAccessor,\ \textcolor{keyword}{typename}\ LhsMapper,}
\DoxyCodeLine{01240\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ RhsMapper,\ \textcolor{keyword}{typename}\ StorageIndex,\ \textcolor{keywordtype}{bool}\ Vectorizable>}
\DoxyCodeLine{01241\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralScalarContraction}{GeneralScalarContraction}}\ \{}
\DoxyCodeLine{01242\ \ \ \textcolor{keyword}{typedef}\ cl::sycl::accessor<OutScalar,\ 1,\ cl::sycl::access::mode::read\_write,\ cl::sycl::access::target::local>\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralScalarContraction_a3fdddafd06882eef92d3766ef977fda2}{Scratch}};}
\DoxyCodeLine{01243\ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralScalarContraction_a3fdddafd06882eef92d3766ef977fda2}{Scratch}}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralScalarContraction_a5af103db0eabec64d5ffc152dd16bece}{scratch}};}
\DoxyCodeLine{01244\ \ \ \textcolor{keyword}{const}\ LhsMapper\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralScalarContraction_af296e693b370a3afcc8d6457aa0f3c29}{lhs}};}
\DoxyCodeLine{01245\ \ \ \textcolor{keyword}{const}\ RhsMapper\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralScalarContraction_abe685a7bf48bdad87eb472af733dd7b5}{rhs}};}
\DoxyCodeLine{01246\ \ \ OutAccessor\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralScalarContraction_a45856fb9cd2cb1322b33180f2bcdb863}{out\_res}};}
\DoxyCodeLine{01247\ \ \ \textcolor{keyword}{const}\ StorageIndex\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralScalarContraction_ac361cc7e94a286767d433ffb5e093e20}{rng}};}
\DoxyCodeLine{01248\ }
\DoxyCodeLine{01249\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}}
\DoxyCodeLine{01250\ \ \ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralScalarContraction_abaff70ddd3a2d534c5df397e8cfee7ff}{GeneralScalarContraction}}(\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralScalarContraction_a3fdddafd06882eef92d3766ef977fda2}{Scratch}}\ scratch\_,\ \textcolor{keyword}{const}\ LhsMapper\ lhs\_,\ \textcolor{keyword}{const}\ RhsMapper\ rhs\_,\ OutAccessor\ out\_res\_,}
\DoxyCodeLine{01251\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ StorageIndex\ rng\_)}
\DoxyCodeLine{01252\ \ \ \ \ \ \ :\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralScalarContraction_a5af103db0eabec64d5ffc152dd16bece}{scratch}}(scratch\_),\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralScalarContraction_af296e693b370a3afcc8d6457aa0f3c29}{lhs}}(lhs\_),\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralScalarContraction_abe685a7bf48bdad87eb472af733dd7b5}{rhs}}(rhs\_),\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralScalarContraction_a45856fb9cd2cb1322b33180f2bcdb863}{out\_res}}(out\_res\_),\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralScalarContraction_ac361cc7e94a286767d433ffb5e093e20}{rng}}(rng\_)\ \{\}}
\DoxyCodeLine{01253\ }
\DoxyCodeLine{01254\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralScalarContraction_a94d883f4df105b03f45c2f52a898d37b}{operator()}}(cl::sycl::nd\_item<1>\ itemID)\ \{}
\DoxyCodeLine{01255\ \ \ \ \ \textcolor{keyword}{auto}\ out\_ptr\ =\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralScalarContraction_a45856fb9cd2cb1322b33180f2bcdb863}{out\_res}}.get\_pointer();}
\DoxyCodeLine{01256\ \ \ \ \ \textcolor{keyword}{auto}\ scratch\_ptr\ =\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralScalarContraction_a5af103db0eabec64d5ffc152dd16bece}{scratch}}.get\_pointer().get();}
\DoxyCodeLine{01257\ }
\DoxyCodeLine{01258\ \ \ \ \ StorageIndex\ globalid\ =\ itemID.get\_global\_id(0);}
\DoxyCodeLine{01259\ \ \ \ \ StorageIndex\ localid\ =\ itemID.get\_local\_id(0);}
\DoxyCodeLine{01260\ \ \ \ \ OutScalar\ accumulator\ =\ OutScalar(0);}
\DoxyCodeLine{01261\ \ \ \ \ \textcolor{keywordflow}{for}\ (StorageIndex\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ =\ globalid;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ <\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralScalarContraction_ac361cc7e94a286767d433ffb5e093e20}{rng}};\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ +=\ itemID.get\_global\_range(0))\ \{}
\DoxyCodeLine{01262\ \ \ \ \ \ \ accumulator\ =\ cl::sycl::mad(\mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralScalarContraction_af296e693b370a3afcc8d6457aa0f3c29}{lhs}}(0,\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}),\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralScalarContraction_abe685a7bf48bdad87eb472af733dd7b5}{rhs}}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ 0),\ accumulator);}
\DoxyCodeLine{01263\ \ \ \ \ \}}
\DoxyCodeLine{01264\ \ \ \ \ \textcolor{keyword}{auto}\ out\_scratch\_ptr\ =\ scratch\_ptr\ +\ localid;}
\DoxyCodeLine{01265\ \ \ \ \ *out\_scratch\_ptr\ =\ accumulator;}
\DoxyCodeLine{01266\ \ \ \ \ \textcolor{keywordflow}{for}\ (StorageIndex\ offset\ =\ itemID.get\_local\_range(0)\ >>\ 1;\ offset\ >\ 0;\ offset\ >>=\ 1)\ \{}
\DoxyCodeLine{01267\ \ \ \ \ \ \ itemID.barrier(cl::sycl::access::fence\_space::local\_space);}
\DoxyCodeLine{01268\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (localid\ <\ offset)\ \{}
\DoxyCodeLine{01269\ \ \ \ \ \ \ \ \ *out\_scratch\_ptr\ =\ (accumulator\ +=\ out\_scratch\_ptr[offset]);}
\DoxyCodeLine{01270\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01271\ \ \ \ \ \}}
\DoxyCodeLine{01272\ \ \ \ \ \textcolor{keywordflow}{if}\ (localid\ ==\ 0)\ \{}
\DoxyCodeLine{01273\ \ \ \ \ \ \ out\_ptr[itemID.get\_group(0)]\ =\ accumulator;}
\DoxyCodeLine{01274\ \ \ \ \ \}}
\DoxyCodeLine{01275\ \ \ \}}
\DoxyCodeLine{01276\ \};}
\DoxyCodeLine{01277\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01278\ }
\DoxyCodeLine{01279\ \}\ \ \textcolor{comment}{//\ namespace\ internal}}
\DoxyCodeLine{01280\ \}\ \ \textcolor{comment}{//\ namespace\ TensorSycl}}
\DoxyCodeLine{01281\ }
\DoxyCodeLine{01282\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Indices,\ \textcolor{keyword}{typename}\ LeftArgType,\ \textcolor{keyword}{typename}\ RightArgType,\ \textcolor{keyword}{typename}\ OutputKernelType>}
\DoxyCodeLine{01283\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1TensorEvaluator}{TensorEvaluator}}<const\ \mbox{\hyperlink{classEigen_1_1TensorContractionOp}{TensorContractionOp}}<\mbox{\hyperlink{structEigen_1_1TensorContractionEvaluatorBase_a71b5df51f300752a7d1c6f0ab6a13afd}{Indices}},\ \mbox{\hyperlink{structEigen_1_1TensorContractionEvaluatorBase_aac321c7a2dd37af50cd8aa119eeb74a8}{LeftArgType}},\ \mbox{\hyperlink{structEigen_1_1TensorContractionEvaluatorBase_a6ca341c4f488e5bf8c4250d2ae087412}{RightArgType}},\ \mbox{\hyperlink{structEigen_1_1TensorContractionEvaluatorBase_ab2d1d5cd018af9795d4ac65dec4ea949}{OutputKernelType}}>,}
\DoxyCodeLine{01284\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen}{Eigen}}::SyclDevice>}
\DoxyCodeLine{01285\ \ \ \ \ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structEigen_1_1TensorContractionEvaluatorBase}{TensorContractionEvaluatorBase}}<TensorEvaluator<}
\DoxyCodeLine{01286\ \ \ \ \ \ \ \ \ \ \ const\ TensorContractionOp<Indices,\ LeftArgType,\ RightArgType,\ OutputKernelType>,\ Eigen::SyclDevice>>\ \{}
\DoxyCodeLine{01287\ \ \ \textcolor{keyword}{static\_assert}(std::is\_same<OutputKernelType,\ const\ NoOpOutputKernel>::value,}
\DoxyCodeLine{01288\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}SYCL\ tensor\ contraction\ does\ not\ support\ output\ kernels."{}});}
\DoxyCodeLine{01289\ }
\DoxyCodeLine{01290\ \ \ \textcolor{keyword}{typedef}\ Eigen::SyclDevice\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aea12aa4ed08fa675fce54cd410750789}{Device}};}
\DoxyCodeLine{01291\ }
\DoxyCodeLine{01292\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator}{TensorEvaluator<const\ TensorContractionOp<Indices,\ LeftArgType,\ RightArgType,\ OutputKernelType>}},\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aea12aa4ed08fa675fce54cd410750789}{Device}}>\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05a9250aee1077eb80afa2a1f0af14346}{Self}};}
\DoxyCodeLine{01293\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1TensorContractionEvaluatorBase}{TensorContractionEvaluatorBase<Self>}}\ \mbox{\hyperlink{structEigen_1_1TensorContractionEvaluatorBase}{Base}};}
\DoxyCodeLine{01294\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1TensorContractionOp}{TensorContractionOp<Indices,\ LeftArgType,\ RightArgType,\ OutputKernelType>}}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_a8eaecc8ebad5944e6b07db62311b4b49}{XprType}};}
\DoxyCodeLine{01295\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1remove__const_afe3dbb0bdee2ec8eed4416723d75bc90}{internal::remove\_const<typename\ XprType::Scalar>::type}}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_a163cadb184cc08462355caf1031115a4}{Scalar}};}
\DoxyCodeLine{01296\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1TensorContractionOp_af5f933c7895e092dfe920f5234d89b7e}{XprType::Index}}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}};}
\DoxyCodeLine{01297\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1TensorContractionOp_a5ec0667934f84b6fd393fc84504be236}{XprType::CoeffReturnType}}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_a664eb29b0c38061939b400fbc551c580}{CoeffReturnType}};}
\DoxyCodeLine{01298\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1PacketType_a1eeaa0a6cdf53f6f0fc3eebacf9590ec}{PacketType<CoeffReturnType,\ Device>::type}}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_adff49220cea7a3b0f0abb78fbdaf8287}{PacketReturnType}};}
\DoxyCodeLine{01299\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1StorageMemory}{Base::Storage}}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_a9cd0cdfa9a85e8e08e3be30386bdfd19}{Storage}};}
\DoxyCodeLine{01300\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1TensorContractionEvaluatorBase_a7c57e47d657c3ea3baa111f6434cd041}{Base::EvaluatorPointerType}}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_a313409ea575a90d467d38ef6053a540e}{EvaluatorPointerType}};}
\DoxyCodeLine{01301\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_083a1eff592f90e8cdaaa1ce64fe82753}{TripleDim}}\ \{}
\DoxyCodeLine{01302\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ M;}
\DoxyCodeLine{01303\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ \mbox{\hyperlink{eigen_2unsupported_2Eigen_2CXX11_2src_2Tensor_2TensorIntDiv_8h_ab2b6b0c222cd1ce70d6a831f57241e59}{N}};}
\DoxyCodeLine{01304\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ K;}
\DoxyCodeLine{01305\ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_083a1eff592f90e8cdaaa1ce64fe82753_af2a16dd3819f858fae4a16c88f7869c9}{TripleDim}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ M\_,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ N\_,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ K\_)\ :\ M(M\_),\ \mbox{\hyperlink{eigen_2unsupported_2Eigen_2CXX11_2src_2Tensor_2TensorIntDiv_8h_ab2b6b0c222cd1ce70d6a831f57241e59}{N}}(N\_),\ K(K\_)\ \{\}}
\DoxyCodeLine{01306\ \ \ \};}
\DoxyCodeLine{01307\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{01308\ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_ab5b731db71101dd0e4a8453fa43f9881aad2f498adfc79da8b4728669ac46f653}{Layout}}\ =\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator}{TensorEvaluator<LeftArgType,\ Device>::Layout}},}
\DoxyCodeLine{01309\ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_ab5b731db71101dd0e4a8453fa43f9881af2762e97058bc608b68a22f4b1b04e93}{PacketAccess}}\ =\ (\mbox{\hyperlink{structEigen_1_1PacketType}{PacketType<CoeffReturnType,\ Device>::size}}\ >\ 1),}
\DoxyCodeLine{01310\ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_ab5b731db71101dd0e4a8453fa43f9881ac640372be225eef68e5820ba30f09bed}{BlockAccess}}\ =\ \textcolor{keyword}{false},}
\DoxyCodeLine{01311\ \ \ \};}
\DoxyCodeLine{01312\ }
\DoxyCodeLine{01313\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \textcolor{keywordtype}{int}\ LDims\ =\ Base::LDims;}
\DoxyCodeLine{01314\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \textcolor{keywordtype}{int}\ RDims\ =\ Base::RDims;}
\DoxyCodeLine{01315\ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \textcolor{keywordtype}{int}\ ContractDims\ =\ Base::ContractDims;}
\DoxyCodeLine{01316\ }
\DoxyCodeLine{01317\ \ \ \textcolor{keyword}{typedef}\ array<StorageIndex,\ LDims>\ left\_dim\_mapper\_t;}
\DoxyCodeLine{01318\ \ \ \textcolor{keyword}{typedef}\ array<StorageIndex,\ RDims>\ right\_dim\_mapper\_t;}
\DoxyCodeLine{01319\ }
\DoxyCodeLine{01320\ \ \ \textcolor{keyword}{typedef}\ array<StorageIndex,\ ContractDims>\ contract\_t;}
\DoxyCodeLine{01321\ \ \ \textcolor{keyword}{typedef}\ array<StorageIndex,\ LDims\ -\/\ ContractDims>\ left\_nocontract\_t;}
\DoxyCodeLine{01322\ \ \ \textcolor{keyword}{typedef}\ array<StorageIndex,\ RDims\ -\/\ ContractDims>\ right\_nocontract\_t;}
\DoxyCodeLine{01323\ }
\DoxyCodeLine{01324\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ NumDims\ =\ LDims\ +\ RDims\ -\/\ 2\ *\ ContractDims;}
\DoxyCodeLine{01325\ }
\DoxyCodeLine{01326\ \ \ \textcolor{keyword}{typedef}\ DSizes<StorageIndex,\ NumDims>\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_ac4139a59583bb1e6385d3a0195548b6b}{Dimensions}};}
\DoxyCodeLine{01327\ }
\DoxyCodeLine{01328\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_a1f3e017095b2d83138929129ec8546e7}{TensorEvaluator<typename\ Base::EvalLeftArgType,\ Device>}}\ LeftEvaluator;}
\DoxyCodeLine{01329\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_a1f3e017095b2d83138929129ec8546e7}{TensorEvaluator<typename\ Base::EvalRightArgType,\ Device>}}\ RightEvaluator;}
\DoxyCodeLine{01330\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1remove__const_afe3dbb0bdee2ec8eed4416723d75bc90}{Eigen::internal::remove\_const<typename\ LeftEvaluator::CoeffReturnType>::type}}\ LhsScalar;}
\DoxyCodeLine{01331\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1remove__const_afe3dbb0bdee2ec8eed4416723d75bc90}{Eigen::internal::remove\_const<typename\ RightEvaluator::CoeffReturnType>::type}}\ RhsScalar;}
\DoxyCodeLine{01332\ }
\DoxyCodeLine{01333\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ LeftEvaluator::Dimensions\ LeftDimensions;}
\DoxyCodeLine{01334\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ RightEvaluator::Dimensions\ RightDimensions;}
\DoxyCodeLine{01335\ }
\DoxyCodeLine{01336\ \ \ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{bool}\ lhs\_inner\_dim\_contiguous,\ \textcolor{keywordtype}{bool}\ rhs\_inner\_dim\_contiguous,\ \textcolor{keywordtype}{bool}\ rhs\_inner\_dim\_reordered>}
\DoxyCodeLine{01337\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_03a8e8221b7c3507b472c0a7fc6fd11a8}{input\_mapper\_propertis}}\ \{}
\DoxyCodeLine{01338\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \textcolor{keywordtype}{bool}\ is\_lhs\_matrix\ =\ (LDims\ ==\ 2\ \&\&\ ContractDims\ ==\ 1)\ ||\ lhs\_inner\_dim\_contiguous;}
\DoxyCodeLine{01339\ \ \ \ \ \textcolor{keyword}{static}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \textcolor{keywordtype}{bool}\ is\_rhs\_matrix\ =}
\DoxyCodeLine{01340\ \ \ \ \ \ \ \ \ (RDims\ ==\ 2\ \&\&\ ContractDims\ ==\ 1)\ ||\ (rhs\_inner\_dim\_contiguous\ \&\&\ !rhs\_inner\_dim\_reordered);}
\DoxyCodeLine{01341\ \ \ \};}
\DoxyCodeLine{01342\ }
\DoxyCodeLine{01343\ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a7dd557014caeb7b89ec033cbc46221f3}{TensorEvaluator}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1TensorContractionOp}{XprType}}\ \&op,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aea12aa4ed08fa675fce54cd410750789}{Device}}\ \&device)\ :\ \mbox{\hyperlink{structEigen_1_1TensorContractionEvaluatorBase}{Base}}(op,\ device)\ \{\}}
\DoxyCodeLine{01344\ }
\DoxyCodeLine{01345\ \ \ \textcolor{comment}{//\ We\ need\ to\ redefine\ this\ method\ to\ make\ nvcc\ happy}}
\DoxyCodeLine{01346\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_ae73203af7a13175b82507614d1d9df8b}{evalSubExprsIfNeeded}}(\textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1TensorContractionEvaluatorBase_a7c57e47d657c3ea3baa111f6434cd041}{Base::EvaluatorPointerType}}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_a61c77b3f2d2a7b97a9bcf04f25e5018f}{data}})\ \{}
\DoxyCodeLine{01347\ \ \ \ \ this-\/>m\_leftImpl.evalSubExprsIfNeeded(NULL);}
\DoxyCodeLine{01348\ \ \ \ \ this-\/>m\_rightImpl.evalSubExprsIfNeeded(NULL);}
\DoxyCodeLine{01349\ \ \ \ \ \textcolor{keywordflow}{if}\ (!\mbox{\hyperlink{structEigen_1_1TensorEvaluator_a61c77b3f2d2a7b97a9bcf04f25e5018f}{data}})\ \{}
\DoxyCodeLine{01350\ \ \ \ \ \ \ this-\/>m\_result\ =\ this-\/>\mbox{\hyperlink{structEigen_1_1TensorEvaluator_a28c329f710d33ba7243b5d194bdcdfca}{m\_device}}.get(}
\DoxyCodeLine{01351\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}Scalar\ *\textcolor{keyword}{>}(this-\/>\mbox{\hyperlink{structEigen_1_1TensorEvaluator_a28c329f710d33ba7243b5d194bdcdfca}{m\_device}}.allocate\_temp(this-\/>dimensions().TotalSize()\ *\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a02af1a5fe045cfccc1ba32c08b3279fc}{Scalar}}))));}
\DoxyCodeLine{01352\ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_a61c77b3f2d2a7b97a9bcf04f25e5018f}{data}}\ =\ this-\/>m\_result;}
\DoxyCodeLine{01353\ \ \ \ \ \}}
\DoxyCodeLine{01354\ \ \ \ \ evalToSycl(\mbox{\hyperlink{structEigen_1_1TensorEvaluator_a61c77b3f2d2a7b97a9bcf04f25e5018f}{data}});}
\DoxyCodeLine{01355\ \ \ \ \ \textcolor{keywordflow}{return}\ (this-\/>m\_result\ !=\ NULL);}
\DoxyCodeLine{01356\ \ \ \}}
\DoxyCodeLine{01357\ \ \ \textcolor{keyword}{const}\ Eigen::SyclDevice\ \&\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a922a11374c531262bd8110176157897b}{device}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{structEigen_1_1TensorEvaluator_a28c329f710d33ba7243b5d194bdcdfca}{m\_device}};\ \}}
\DoxyCodeLine{01358\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a65b1d3ae9c496fa222cc05d988f01c2f}{evalToSycl}}(\textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1TensorContractionEvaluatorBase_a7c57e47d657c3ea3baa111f6434cd041}{Base::EvaluatorPointerType}}\ buffer)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01359\ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>m\_lhs\_inner\_dim\_contiguous)\ \{}
\DoxyCodeLine{01360\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>m\_rhs\_inner\_dim\_contiguous)\ \{}
\DoxyCodeLine{01361\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>m\_rhs\_inner\_dim\_reordered)\ \{}
\DoxyCodeLine{01362\ \ \ \ \ \ \ \ \ \ \ evalTyped<true,\ true,\ true,\ Unaligned>(buffer);}
\DoxyCodeLine{01363\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01364\ \ \ \ \ \ \ \ \ \ \ evalTyped<true,\ true,\ false,\ Unaligned>(buffer);}
\DoxyCodeLine{01365\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01366\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01367\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>m\_rhs\_inner\_dim\_reordered)\ \{}
\DoxyCodeLine{01368\ \ \ \ \ \ \ \ \ \ \ evalTyped<true,\ false,\ true,\ Unaligned>(buffer);}
\DoxyCodeLine{01369\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01370\ \ \ \ \ \ \ \ \ \ \ evalTyped<true,\ false,\ false,\ Unaligned>(buffer);}
\DoxyCodeLine{01371\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01372\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01373\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01374\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>m\_rhs\_inner\_dim\_contiguous)\ \{}
\DoxyCodeLine{01375\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>m\_rhs\_inner\_dim\_reordered)\ \{}
\DoxyCodeLine{01376\ \ \ \ \ \ \ \ \ \ \ evalTyped<false,\ true,\ true,\ Unaligned>(buffer);}
\DoxyCodeLine{01377\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01378\ \ \ \ \ \ \ \ \ \ \ evalTyped<false,\ true,\ false,\ Unaligned>(buffer);}
\DoxyCodeLine{01379\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01380\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01381\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>m\_rhs\_inner\_dim\_reordered)\ \{}
\DoxyCodeLine{01382\ \ \ \ \ \ \ \ \ \ \ evalTyped<false,\ false,\ true,\ Unaligned>(buffer);}
\DoxyCodeLine{01383\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01384\ \ \ \ \ \ \ \ \ \ \ evalTyped<false,\ false,\ false,\ Unaligned>(buffer);}
\DoxyCodeLine{01385\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{01386\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01387\ \ \ \ \ \}}
\DoxyCodeLine{01388\ \ \ \}}
\DoxyCodeLine{01389\ }
\DoxyCodeLine{01390\ \ \ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{bool}\ lhs\_inner\_dim\_contiguous,\ \textcolor{keywordtype}{bool}\ rhs\_inner\_dim\_contiguous,\ \textcolor{keywordtype}{bool}\ rhs\_inner\_dim\_reordered,\ \textcolor{keywordtype}{int}\ Alignment>}
\DoxyCodeLine{01391\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a14eaf1f269ef878990a15d9a7d4c839a}{evalTyped}}(\textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1TensorContractionEvaluatorBase_a7c57e47d657c3ea3baa111f6434cd041}{Base::EvaluatorPointerType}}\ buffer)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01392\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keyword}{auto}\ triple\_dim\ =\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_083a1eff592f90e8cdaaa1ce64fe82753}{TripleDim}}\{this-\/>m\_i\_size,\ this-\/>m\_j\_size,\ this-\/>m\_k\_size\};}
\DoxyCodeLine{01393\ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionInputMapper}{internal::TensorContractionInputMapper}}<}
\DoxyCodeLine{01394\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a5defa092bd333524e09cddb6cedae1a1}{LhsScalar}},\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}},\ \mbox{\hyperlink{namespaceEigen_1_1internal_aa085ebbff5643578b80dd9f8fcb8d77da70822e454a6eb37b1dd2a2aaa94342c2}{internal::Lhs}},\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator}{LeftEvaluator}},\ \mbox{\hyperlink{classEigen_1_1array}{left\_nocontract\_t}},\ \mbox{\hyperlink{classEigen_1_1array}{contract\_t}},}
\DoxyCodeLine{01395\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1PacketType}{PacketType<CoeffReturnType,\ Device>::size}},\ lhs\_inner\_dim\_contiguous,\ \textcolor{keyword}{false},\ \mbox{\hyperlink{group__enums_gga45fe06e29902b7a2773de05ba27b47a1ac935220b4c844108e183ebe30a4d5204}{Unaligned}},\ MakeSYCLPointer>}
\DoxyCodeLine{01396\ \ \ \ \ \ \ \ \ LhsMapper;}
\DoxyCodeLine{01397\ }
\DoxyCodeLine{01398\ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionInputMapper}{internal::TensorContractionInputMapper}}<\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a2f447512029a648477b764d1c5b1dbc6}{RhsScalar}},\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}},\ \mbox{\hyperlink{namespaceEigen_1_1internal_aa085ebbff5643578b80dd9f8fcb8d77dabc0d1bfef81f2d7b444c8658bc523042}{internal::Rhs}},\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator}{RightEvaluator}},}
\DoxyCodeLine{01399\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1array}{right\_nocontract\_t}},\ \mbox{\hyperlink{classEigen_1_1array}{contract\_t}},}
\DoxyCodeLine{01400\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1PacketType}{PacketType<CoeffReturnType,\ Device>::size}},\ rhs\_inner\_dim\_contiguous,}
\DoxyCodeLine{01401\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ rhs\_inner\_dim\_reordered,\ \mbox{\hyperlink{group__enums_gga45fe06e29902b7a2773de05ba27b47a1ac935220b4c844108e183ebe30a4d5204}{Unaligned}},\ MakeSYCLPointer>}
\DoxyCodeLine{01402\ \ \ \ \ \ \ \ \ RhsMapper;}
\DoxyCodeLine{01403\ }
\DoxyCodeLine{01404\ \ \ \ \ \textcolor{comment}{//\ initialize\ data\ mappers}}
\DoxyCodeLine{01405\ \ \ \ \ LhsMapper\ lhs(this-\/>m\_leftImpl,\ this-\/>m\_left\_nocontract\_strides,\ this-\/>m\_i\_strides,}
\DoxyCodeLine{01406\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>m\_left\_contracting\_strides,\ this-\/>m\_k\_strides);}
\DoxyCodeLine{01407\ }
\DoxyCodeLine{01408\ \ \ \ \ RhsMapper\ rhs(this-\/>m\_rightImpl,\ this-\/>m\_right\_nocontract\_strides,\ this-\/>m\_j\_strides,}
\DoxyCodeLine{01409\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ this-\/>m\_right\_contracting\_strides,\ this-\/>m\_k\_strides);}
\DoxyCodeLine{01410\ }
\DoxyCodeLine{01411\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_SYCL\_DISABLE\_SCALAR}}
\DoxyCodeLine{01412\ \ \ \ \ \textcolor{keywordflow}{if}\ (triple\_dim.M\ ==\ 1\ \&\&\ triple\_dim.N\ ==\ 1)\ \{}
\DoxyCodeLine{01413\ \ \ \ \ \ \ launchSC(buffer,\ lhs,\ rhs,\ triple\_dim.K);}
\DoxyCodeLine{01414\ \ \ \ \ \}\ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01415\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01416\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_SYCL\_DISABLE\_GEMV}}
\DoxyCodeLine{01417\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (triple\_dim.M\ !=\ 1\ \&\&\ triple\_dim.N\ ==\ 1)\ \{}
\DoxyCodeLine{01418\ \ \ \ \ \ \ LaunchVT<false>(buffer,\ rhs,\ lhs,\ triple\_dim.M,\ triple\_dim.K);}
\DoxyCodeLine{01419\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (triple\_dim.M\ ==\ 1\ \&\&\ triple\_dim.N\ !=\ 1)\ \{}
\DoxyCodeLine{01420\ \ \ \ \ \ \ LaunchVT<true>(buffer,\ lhs,\ rhs,\ triple\_dim.N,\ triple\_dim.K);}
\DoxyCodeLine{01421\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \ \textcolor{comment}{//\ This\ is\ equivalent\ of\ if\ (m!=1\ \&\&\ n!=1)}}
\DoxyCodeLine{01422\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01423\ \ \ \ \ \{}
\DoxyCodeLine{01424\ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_03a8e8221b7c3507b472c0a7fc6fd11a8}{input\_mapper\_propertis<lhs\_inner\_dim\_contiguous,\ rhs\_inner\_dim\_contiguous,\ rhs\_inner\_dim\_reordered>}}}
\DoxyCodeLine{01425\ \ \ \ \ \ \ \ \ \ \ inpt\_mapper\_properties;}
\DoxyCodeLine{01426\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_SYCL\_DISABLE\_SKINNY}}
\DoxyCodeLine{01427\ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ skinny\ =\ \textcolor{keyword}{false};}
\DoxyCodeLine{01428\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ platform\_name\ =\ this-\/>device().getPlatformName();}
\DoxyCodeLine{01429\ \ \ \ \ \ \ \textcolor{comment}{//\ This\ is\ based\ on\ empirical\ calculation\ for\ AMD\ r9-\/nano\ and\ Fiji}}
\DoxyCodeLine{01430\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (platform\_name.find(\textcolor{stringliteral}{"{}AMD"{}})\ ==\ 0)\ \{}
\DoxyCodeLine{01431\ \ \ \ \ \ \ \ \ skinny\ =\ (triple\_dim.M\ <\ triple\_dim.K\ ||\ triple\_dim.N\ <\ triple\_dim.K)\ \&\&}
\DoxyCodeLine{01432\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ((triple\_dim.M\ <\ 1024\ \&\&\ triple\_dim.N\ <\ 1024)\ ||}
\DoxyCodeLine{01433\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (uint64\_t(triple\_dim.M\ *\ triple\_dim.N)\ <\ uint64\_t(triple\_dim.K)));}
\DoxyCodeLine{01434\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01435\ \ \ \ \ \ \ \ \ skinny\ =\ (((std::max(triple\_dim.K,\ triple\_dim.N)\ /\ std::min(triple\_dim.K,\ triple\_dim.N))\ >\ 100)\ ||}
\DoxyCodeLine{01436\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ((std::max(triple\_dim.K,\ triple\_dim.M)\ /\ std::min(triple\_dim.K,\ triple\_dim.M))\ >\ 100)\ ||}
\DoxyCodeLine{01437\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ((std::max(triple\_dim.N,\ triple\_dim.M)\ /\ std::min(triple\_dim.N,\ triple\_dim.M))\ >\ 100));}
\DoxyCodeLine{01438\ \ \ \ \ \ \ \}}
\DoxyCodeLine{01439\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (skinny)}
\DoxyCodeLine{01440\ \ \ \ \ \ \ \ \ adjustTT<true,\ inpt\_mapper\_properties>(buffer,\ lhs,\ rhs,\ triple\_dim);}
\DoxyCodeLine{01441\ \ \ \ \ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{01442\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ EIGEN\_SYCL\_DISABLE\_SKINNY}}
\DoxyCodeLine{01443\ \ \ \ \ \ \ \ \ adjustTT<false,\ inpt\_mapper\_properties>(buffer,\ lhs,\ rhs,\ triple\_dim);}
\DoxyCodeLine{01444\ \ \ \ \ \}}
\DoxyCodeLine{01445\ \ \ \}}
\DoxyCodeLine{01446\ }
\DoxyCodeLine{01447\ \ \ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{bool}\ skinny,\ \textcolor{keyword}{typename}\ input\_mapper\_properties,\ \textcolor{keyword}{typename}\ LhsMapper,\ \textcolor{keyword}{typename}\ RhsMapper>}
\DoxyCodeLine{01448\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a54e417adace4895bc8ffdb4029e924ae}{adjustTT}}(\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aa655e009dfc331757c627e7daab002c5}{EvaluatorPointerType}}\ buffer,\ \textcolor{keyword}{const}\ LhsMapper\ \&lhs,\ \textcolor{keyword}{const}\ RhsMapper\ \&rhs,}
\DoxyCodeLine{01449\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_083a1eff592f90e8cdaaa1ce64fe82753}{TripleDim}}\ \&triple\_dim)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01450\ \textcolor{preprocessor}{\#ifdef\ EIGEN\_SYCL\_LOCAL\_MEM\_UNSET\_OR\_ON}}
\DoxyCodeLine{01451\ \ \ \ \ \textcolor{keywordflow}{if}\ (device().has\_local\_memory())\ \{}
\DoxyCodeLine{01452\ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize}{TensorSycl::internal::TTPanelSize<CoeffReturnType,\ StorageIndex,\ 4,\ 4,\ 16>}}\ PanelParameters;}
\DoxyCodeLine{01453\ \ \ \ \ \ \ launchTT<TensorSycl::internal::contraction\_type::local,\ skinny,\ input\_mapper\_properties,\ PanelParameters>(}
\DoxyCodeLine{01454\ \ \ \ \ \ \ \ \ \ \ buffer,\ lhs,\ rhs,\ triple\_dim);}
\DoxyCodeLine{01455\ \ \ \ \ \}}
\DoxyCodeLine{01456\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01457\ \textcolor{preprocessor}{\#ifdef\ EIGEN\_SYCL\_LOCAL\_MEM\_UNSET\_OR\_OFF}}
\DoxyCodeLine{01458\ \ \ \ \ \textcolor{keywordflow}{if}\ (!(device().has\_local\_memory()))\ \{}
\DoxyCodeLine{01459\ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TTPanelSize}{TensorSycl::internal::TTPanelSize<CoeffReturnType,\ StorageIndex,\ 4,\ 4,\ 4>}}\ PanelParameters;}
\DoxyCodeLine{01460\ \ \ \ \ \ \ launchTT<TensorSycl::internal::contraction\_type::no\_local,\ skinny,\ input\_mapper\_properties,\ PanelParameters>(}
\DoxyCodeLine{01461\ \ \ \ \ \ \ \ \ \ \ buffer,\ lhs,\ rhs,\ triple\_dim);}
\DoxyCodeLine{01462\ \ \ \ \ \}}
\DoxyCodeLine{01463\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01464\ \ \ \}}
\DoxyCodeLine{01465\ }
\DoxyCodeLine{01466\ \ \ \textcolor{keyword}{template}\ <\mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_ae779b94e3f0127525eda5ff1db87719d}{TensorSycl::internal::contraction\_type}}\ ct,\ \textcolor{keywordtype}{bool}\ skinny,\ \textcolor{keyword}{typename}\ input\_mapper\_properties,}
\DoxyCodeLine{01467\ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ Properties,\ \textcolor{keyword}{typename}\ LhsMapper,\ \textcolor{keyword}{typename}\ RhsMapper>}
\DoxyCodeLine{01468\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a06e36cee6b252b44449606da45249d1a}{launchTT}}(\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aa655e009dfc331757c627e7daab002c5}{EvaluatorPointerType}}\ buffer,\ \textcolor{keyword}{const}\ LhsMapper\ \&lhs,\ \textcolor{keyword}{const}\ RhsMapper\ \&rhs,}
\DoxyCodeLine{01469\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_083a1eff592f90e8cdaaa1ce64fe82753}{TripleDim}}\ \&triple\_dim)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01470\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ roundUpM\ =\ Eigen::TensorSycl::internal::roundUp(triple\_dim.\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_083a1eff592f90e8cdaaa1ce64fe82753_affb8c529b2c9be38c40157789d5a750f}{M}},\ Properties::TileSizeDimM);}
\DoxyCodeLine{01471\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ roundUpN\ =\ Eigen::TensorSycl::internal::roundUp(triple\_dim.\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_083a1eff592f90e8cdaaa1ce64fe82753_aa7a85a4a4ae2e2f52eb3810d1de89370}{N}},\ Properties::TileSizeDimN);}
\DoxyCodeLine{01472\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ groupSizeM\ =\ roundUpM\ /\ Properties::TileSizeDimM;}
\DoxyCodeLine{01473\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ groupSizeN\ =\ roundUpN\ /\ Properties::TileSizeDimN;}
\DoxyCodeLine{01474\ }
\DoxyCodeLine{01475\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ roundUpK\ =\ Eigen::TensorSycl::internal::roundUp(triple\_dim.\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_083a1eff592f90e8cdaaa1ce64fe82753_acf4529bea8d80755d05f0076510ef7b8}{K}},\ Properties::TileSizeDimK);}
\DoxyCodeLine{01476\ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ totalTilesK\ =\ roundUpK\ /\ Properties::TileSizeDimK;}
\DoxyCodeLine{01477\ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ groupSizeK\ =}
\DoxyCodeLine{01478\ \ \ \ \ \ \ \ \ skinny}
\DoxyCodeLine{01479\ \ \ \ \ \ \ \ \ \ \ \ \ ?\ std::max(std::min(totalTilesK,}
\DoxyCodeLine{01480\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}})(device().getPowerOfTwo(device().getNumSyclMultiProcessors(),\ \textcolor{keyword}{true})\ *\ 4)\ /}
\DoxyCodeLine{01481\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (groupSizeM\ *\ groupSizeN)),}
\DoxyCodeLine{01482\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}(1))}
\DoxyCodeLine{01483\ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}(1);}
\DoxyCodeLine{01484\ }
\DoxyCodeLine{01485\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ numTilesPerGroup\ =\ Eigen::TensorSycl::internal::roundUp(totalTilesK,\ groupSizeK)\ /\ groupSizeK;}
\DoxyCodeLine{01486\ }
\DoxyCodeLine{01487\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ totalGroupSize\ =\ groupSizeM\ *\ groupSizeN\ *\ groupSizeK;}
\DoxyCodeLine{01488\ }
\DoxyCodeLine{01489\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ localRange\ =\ Properties::LocalThreadSizeM\ *\ Properties::LocalThreadSizeN;}
\DoxyCodeLine{01490\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ globalRange\ =\ totalGroupSize\ *\ localRange;}
\DoxyCodeLine{01491\ }
\DoxyCodeLine{01492\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ scratchSize\ =\ (ct\ ==\ \mbox{\hyperlink{namespaceEigen_1_1TensorSycl_1_1internal_ae779b94e3f0127525eda5ff1db87719daf5ddaf0ca7929578b408c909429f68f2}{TensorSycl::internal::contraction\_type::local}})}
\DoxyCodeLine{01493\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ?\ ((Properties::DoubleBuffer\ +\ 1)\ *}
\DoxyCodeLine{01494\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (Properties::TileSizeDimM\ +\ Properties::BC)\ *\ (Properties::TileSizeDimK))\ +}
\DoxyCodeLine{01495\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ ((Properties::DoubleBuffer\ +\ 1)\ *\ (Properties::TileSizeDimK)\ *}
\DoxyCodeLine{01496\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (Properties::TileSizeDimN\ +\ Properties::BC))}
\DoxyCodeLine{01497\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}(1);}
\DoxyCodeLine{01498\ }
\DoxyCodeLine{01499\ \ \ \ \ \textcolor{keyword}{auto}\ thread\_range\ =\ cl::sycl::nd\_range<1>(cl::sycl::range<1>(globalRange),\ cl::sycl::range<1>(localRange));}
\DoxyCodeLine{01500\ \ \ \ \ \textcolor{keywordflow}{if}\ (groupSizeK\ ==\ 1)\ \{}
\DoxyCodeLine{01501\ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel}{TensorSycl::internal::TensorContractionKernel}}<\mbox{\hyperlink{structEigen_1_1TensorEvaluator_a664eb29b0c38061939b400fbc551c580}{CoeffReturnType}},\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a5defa092bd333524e09cddb6cedae1a1}{LhsScalar}},\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a2f447512029a648477b764d1c5b1dbc6}{RhsScalar}},\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_a313409ea575a90d467d38ef6053a540e}{EvaluatorPointerType}},}
\DoxyCodeLine{01502\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LhsMapper,\ RhsMapper,\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}},\ Properties,\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_083a1eff592f90e8cdaaa1ce64fe82753}{TripleDim}},}
\DoxyCodeLine{01503\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_ab5b731db71101dd0e4a8453fa43f9881af2762e97058bc608b68a22f4b1b04e93}{PacketAccess}},\ input\_mapper\_properties,\ \textcolor{keyword}{true},\ ct>}
\DoxyCodeLine{01504\ \ \ \ \ \ \ \ \ \ \ ContractKernelName;}
\DoxyCodeLine{01505\ \ \ \ \ \ \ device().template\ binary\_kernel\_launcher<CoeffReturnType,\ ContractKernelName>(}
\DoxyCodeLine{01506\ \ \ \ \ \ \ \ \ \ \ lhs,\ rhs,\ buffer,\ thread\_range,\ scratchSize,\ groupSizeM,\ groupSizeN,\ numTilesPerGroup,\ triple\_dim);}
\DoxyCodeLine{01507\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01508\ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1TensorSycl_1_1internal_1_1TensorContractionKernel}{TensorSycl::internal::TensorContractionKernel}}<\mbox{\hyperlink{structEigen_1_1TensorEvaluator_a664eb29b0c38061939b400fbc551c580}{CoeffReturnType}},\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a5defa092bd333524e09cddb6cedae1a1}{LhsScalar}},\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a2f447512029a648477b764d1c5b1dbc6}{RhsScalar}},\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_a313409ea575a90d467d38ef6053a540e}{EvaluatorPointerType}},}
\DoxyCodeLine{01509\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ LhsMapper,\ RhsMapper,\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}},\ Properties,\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_083a1eff592f90e8cdaaa1ce64fe82753}{TripleDim}},}
\DoxyCodeLine{01510\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_ab5b731db71101dd0e4a8453fa43f9881af2762e97058bc608b68a22f4b1b04e93}{PacketAccess}},\ input\_mapper\_properties,\ \textcolor{keyword}{false},\ ct>}
\DoxyCodeLine{01511\ \ \ \ \ \ \ \ \ \ \ ContractKernelName;}
\DoxyCodeLine{01512\ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a7dce88b56547c6048a036aa441e1791a}{CoeffReturnType}}\ *temp\_pointer\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a7dce88b56547c6048a036aa441e1791a}{CoeffReturnType}}\ *\textcolor{keyword}{>}(}
\DoxyCodeLine{01513\ \ \ \ \ \ \ \ \ \ \ device().allocate\_temp(triple\_dim.\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_083a1eff592f90e8cdaaa1ce64fe82753_affb8c529b2c9be38c40157789d5a750f}{M}}\ *\ triple\_dim.\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_083a1eff592f90e8cdaaa1ce64fe82753_aa7a85a4a4ae2e2f52eb3810d1de89370}{N}}\ *\ groupSizeK\ *\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a7dce88b56547c6048a036aa441e1791a}{CoeffReturnType}})));}
\DoxyCodeLine{01514\ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aa655e009dfc331757c627e7daab002c5}{EvaluatorPointerType}}\ tmp\_global\_accessor\ =\ device().get(temp\_pointer);}
\DoxyCodeLine{01515\ }
\DoxyCodeLine{01516\ \ \ \ \ \ \ device().template\ binary\_kernel\_launcher<CoeffReturnType,\ ContractKernelName>(}
\DoxyCodeLine{01517\ \ \ \ \ \ \ \ \ \ \ lhs,\ rhs,\ tmp\_global\_accessor,\ thread\_range,\ scratchSize,\ groupSizeM,\ groupSizeN,\ numTilesPerGroup,}
\DoxyCodeLine{01518\ \ \ \ \ \ \ \ \ \ \ triple\_dim);}
\DoxyCodeLine{01519\ }
\DoxyCodeLine{01520\ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1internal_1_1SumReducer}{Eigen::internal::SumReducer<CoeffReturnType>}}\ Op;}
\DoxyCodeLine{01521\ \ \ \ \ \ \ \textcolor{keyword}{auto}\ op\ =\ Op();}
\DoxyCodeLine{01522\ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1SecondStepPartialReduction}{TensorSycl::internal::SecondStepPartialReduction}}<\mbox{\hyperlink{structEigen_1_1TensorEvaluator_a664eb29b0c38061939b400fbc551c580}{CoeffReturnType}},\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}},\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_a313409ea575a90d467d38ef6053a540e}{EvaluatorPointerType}},}
\DoxyCodeLine{01523\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_a313409ea575a90d467d38ef6053a540e}{EvaluatorPointerType}},\ Op>}
\DoxyCodeLine{01524\ \ \ \ \ \ \ \ \ \ \ ReductionKernel;}
\DoxyCodeLine{01525\ }
\DoxyCodeLine{01526\ \ \ \ \ \ \ device().template\ unary\_kernel\_launcher<CoeffReturnType,\ ReductionKernel>(}
\DoxyCodeLine{01527\ \ \ \ \ \ \ \ \ \ \ tmp\_global\_accessor,\ buffer,}
\DoxyCodeLine{01528\ \ \ \ \ \ \ \ \ \ \ cl::sycl::nd\_range<1>(cl::sycl::range<1>(\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}(}
\DoxyCodeLine{01529\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Eigen::TensorSycl::internal::roundUp(triple\_dim.\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_083a1eff592f90e8cdaaa1ce64fe82753_affb8c529b2c9be38c40157789d5a750f}{M}}\ *\ triple\_dim.\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_083a1eff592f90e8cdaaa1ce64fe82753_aa7a85a4a4ae2e2f52eb3810d1de89370}{N}},\ localRange))),}
\DoxyCodeLine{01530\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cl::sycl::range<1>(localRange)),}
\DoxyCodeLine{01531\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}(1),\ op,\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}(triple\_dim.\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_083a1eff592f90e8cdaaa1ce64fe82753_affb8c529b2c9be38c40157789d5a750f}{M}}\ *\ triple\_dim.\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_083a1eff592f90e8cdaaa1ce64fe82753_aa7a85a4a4ae2e2f52eb3810d1de89370}{N}}),\ groupSizeK);}
\DoxyCodeLine{01532\ }
\DoxyCodeLine{01533\ \ \ \ \ \ \ device().deallocate\_temp(temp\_pointer);}
\DoxyCodeLine{01534\ \ \ \ \ \}}
\DoxyCodeLine{01535\ \ \ \}}
\DoxyCodeLine{01536\ }
\DoxyCodeLine{01537\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_SYCL\_DISABLE\_GEMV}}
\DoxyCodeLine{01538\ \ \ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{bool}\ is\_lhs\_vec,\ \textcolor{keyword}{typename}\ VectorMapper,\ \textcolor{keyword}{typename}\ TensorMapper,\ \textcolor{keyword}{typename}\ StorageIndex>}
\DoxyCodeLine{01539\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_acc82f4ffd73132c709add18da1bfd8bc}{LaunchVT}}(\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aa655e009dfc331757c627e7daab002c5}{EvaluatorPointerType}}\ buffer,\ \textcolor{keyword}{const}\ VectorMapper\ \&vec,\ \textcolor{keyword}{const}\ TensorMapper\ \&mat,}
\DoxyCodeLine{01540\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ NC,\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ \mbox{\hyperlink{abseil-cpp_2absl_2hash_2internal_2city__test_8cc_ac54ae397901fe700628cafadea3c5208}{C}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01541\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ nonContractDim\ =\ NC;}
\DoxyCodeLine{01542\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ NCFactor\ =\ 1;}
\DoxyCodeLine{01543\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ CFactor\ =\ 1;}
\DoxyCodeLine{01544\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ NCWindow\ =\ 16;}
\DoxyCodeLine{01545\ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1TVPanelSize}{Eigen::TensorSycl::internal::TVPanelSize<CoeffReturnType,\ StorageIndex,\ NCWindow,\ CFactor,\ NCFactor>}}}
\DoxyCodeLine{01546\ \ \ \ \ \ \ \ \ Properties;}
\DoxyCodeLine{01547\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ roundUpC\ =\ Eigen::TensorSycl::internal::roundUp(\mbox{\hyperlink{abseil-cpp_2absl_2hash_2internal_2city__test_8cc_ac54ae397901fe700628cafadea3c5208}{C}},\ Properties::TileSizeDimC);}
\DoxyCodeLine{01548\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ cNumGroups\ =\ roundUpC\ /\ (Properties::LocalThreadSizeC\ *\ Properties::WorkLoadPerThreadC);}
\DoxyCodeLine{01549\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ roundUpNC\ =\ Eigen::TensorSycl::internal::roundUp(nonContractDim,\ Properties::TileSizeDimNC);}
\DoxyCodeLine{01550\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ nCNumGroups\ =\ roundUpNC\ /\ (Properties::LocalThreadSizeNC\ *\ Properties::WorkLoadPerThreadNC);}
\DoxyCodeLine{01551\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ globalRange\ =}
\DoxyCodeLine{01552\ \ \ \ \ \ \ \ \ (roundUpNC\ /\ (Properties::WorkLoadPerThreadNC))\ *\ (roundUpC\ /\ (Properties::WorkLoadPerThreadC));}
\DoxyCodeLine{01553\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ localRange\ =\ Properties::LocalThreadSizeNC\ *\ Properties::LocalThreadSizeC;}
\DoxyCodeLine{01554\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ scratchSize\ =}
\DoxyCodeLine{01555\ \ \ \ \ \ \ \ \ (Properties::WorkLoadPerThreadNC\ +\ CFactor)\ *\ Properties::LocalThreadSizeC\ *\ Properties::LocalThreadSizeNC;}
\DoxyCodeLine{01556\ \ \ \ \ \textcolor{keyword}{auto}\ thread\_range\ =\ cl::sycl::nd\_range<1>(cl::sycl::range<1>(globalRange),\ cl::sycl::range<1>(localRange));}
\DoxyCodeLine{01557\ \ \ \ \ \textcolor{keywordflow}{if}\ (cNumGroups\ >\ 1)\ \{}
\DoxyCodeLine{01558\ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor}{Eigen::TensorSycl::internal::GeneralVectorTensor}}<\mbox{\hyperlink{structEigen_1_1TensorEvaluator_a664eb29b0c38061939b400fbc551c580}{CoeffReturnType}},\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_a313409ea575a90d467d38ef6053a540e}{EvaluatorPointerType}},\ VectorMapper,}
\DoxyCodeLine{01559\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ TensorMapper,\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}},\ Properties,\ CFactor,\ \textcolor{keyword}{false},}
\DoxyCodeLine{01560\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ is\_lhs\_vec,\ \textcolor{keyword}{false}>}
\DoxyCodeLine{01561\ \ \ \ \ \ \ \ \ \ \ ContractKernelName;}
\DoxyCodeLine{01562\ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a7dce88b56547c6048a036aa441e1791a}{CoeffReturnType}}\ *temp\_pointer\ =}
\DoxyCodeLine{01563\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a7dce88b56547c6048a036aa441e1791a}{CoeffReturnType}}\ *\textcolor{keyword}{>}(device().allocate\_temp(nonContractDim\ *\ cNumGroups\ *\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a7dce88b56547c6048a036aa441e1791a}{CoeffReturnType}})));}
\DoxyCodeLine{01564\ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aa655e009dfc331757c627e7daab002c5}{EvaluatorPointerType}}\ tmp\_global\_accessor\ =\ device().get(temp\_pointer);}
\DoxyCodeLine{01565\ }
\DoxyCodeLine{01566\ \ \ \ \ \ \ device().template\ binary\_kernel\_launcher<CoeffReturnType,\ ContractKernelName>(}
\DoxyCodeLine{01567\ \ \ \ \ \ \ \ \ \ \ vec,\ mat,\ tmp\_global\_accessor,\ thread\_range,\ scratchSize,\ nCNumGroups,\ nonContractDim,\ \mbox{\hyperlink{abseil-cpp_2absl_2hash_2internal_2city__test_8cc_ac54ae397901fe700628cafadea3c5208}{C}});}
\DoxyCodeLine{01568\ }
\DoxyCodeLine{01569\ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1internal_1_1SumReducer}{Eigen::internal::SumReducer<CoeffReturnType>}}\ Op;}
\DoxyCodeLine{01570\ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1SecondStepPartialReduction}{TensorSycl::internal::SecondStepPartialReduction}}<\mbox{\hyperlink{structEigen_1_1TensorEvaluator_a664eb29b0c38061939b400fbc551c580}{CoeffReturnType}},\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}},\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_a313409ea575a90d467d38ef6053a540e}{EvaluatorPointerType}},}
\DoxyCodeLine{01571\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_a313409ea575a90d467d38ef6053a540e}{EvaluatorPointerType}},\ Op>}
\DoxyCodeLine{01572\ \ \ \ \ \ \ \ \ \ \ ReductionKernel;}
\DoxyCodeLine{01573\ }
\DoxyCodeLine{01574\ \ \ \ \ \ \ device().template\ unary\_kernel\_launcher<CoeffReturnType,\ ReductionKernel>(}
\DoxyCodeLine{01575\ \ \ \ \ \ \ \ \ \ \ tmp\_global\_accessor,\ buffer,}
\DoxyCodeLine{01576\ \ \ \ \ \ \ \ \ \ \ cl::sycl::nd\_range<1>(cl::sycl::range<1>(Eigen::TensorSycl::internal::roundUp(nonContractDim,\ localRange)),}
\DoxyCodeLine{01577\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ cl::sycl::range<1>(localRange)),}
\DoxyCodeLine{01578\ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}(1),\ Op(),\ nonContractDim,\ cNumGroups);}
\DoxyCodeLine{01579\ }
\DoxyCodeLine{01580\ \ \ \ \ \ \ device().deallocate\_temp(temp\_pointer);}
\DoxyCodeLine{01581\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01582\ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralVectorTensor}{Eigen::TensorSycl::internal::GeneralVectorTensor}}<\mbox{\hyperlink{structEigen_1_1TensorEvaluator_a664eb29b0c38061939b400fbc551c580}{CoeffReturnType}},\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_a313409ea575a90d467d38ef6053a540e}{EvaluatorPointerType}},\ VectorMapper,}
\DoxyCodeLine{01583\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ TensorMapper,\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}},\ Properties,\ CFactor,\ \textcolor{keyword}{false},}
\DoxyCodeLine{01584\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ is\_lhs\_vec,\ \textcolor{keyword}{true}>}
\DoxyCodeLine{01585\ \ \ \ \ \ \ \ \ \ \ ContractKernelName;}
\DoxyCodeLine{01586\ \ \ \ \ \ \ device().template\ binary\_kernel\_launcher<CoeffReturnType,\ ContractKernelName>(}
\DoxyCodeLine{01587\ \ \ \ \ \ \ \ \ \ \ vec,\ mat,\ buffer,\ thread\_range,\ scratchSize,\ nCNumGroups,\ nonContractDim,\ \mbox{\hyperlink{abseil-cpp_2absl_2hash_2internal_2city__test_8cc_ac54ae397901fe700628cafadea3c5208}{C}});}
\DoxyCodeLine{01588\ \ \ \ \ \}}
\DoxyCodeLine{01589\ \ \ \}}
\DoxyCodeLine{01590\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01591\ }
\DoxyCodeLine{01592\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_SYCL\_DISABLE\_SCALAR}}
\DoxyCodeLine{01593\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ LhsMapper,\ \textcolor{keyword}{typename}\ RhsMapper>}
\DoxyCodeLine{01594\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aedcf25c1608e87873b33c474d811a08e}{launchSC}}(\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aa655e009dfc331757c627e7daab002c5}{EvaluatorPointerType}}\ buffer,\ \textcolor{keyword}{const}\ LhsMapper\ \&lhs,\ \textcolor{keyword}{const}\ RhsMapper\ \&rhs,}
\DoxyCodeLine{01595\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ K)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01596\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2StaticAssert_8h_ac95cf960f4a8395b28af90edfda755f0}{EIGEN\_STATIC\_ASSERT}}(!((EIGEN\_SYCL\_LOCAL\_THREAD\_DIM0\ *\ EIGEN\_SYCL\_LOCAL\_THREAD\_DIM1)\ \&}
\DoxyCodeLine{01597\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ (EIGEN\_SYCL\_LOCAL\_THREAD\_DIM0\ *\ EIGEN\_SYCL\_LOCAL\_THREAD\_DIM1\ -\/\ 1)),}
\DoxyCodeLine{01598\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}The\ Local\ thread\ size\ must\ be\ a\ power\ of\ 2\ for\ the\ reduction\ "{}}}
\DoxyCodeLine{01599\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}operation"{}});}
\DoxyCodeLine{01600\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a62a0d46d3d76fff438aec3b57f29c90c}{EIGEN\_CONSTEXPR}}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ local\_range\ =\ EIGEN\_SYCL\_LOCAL\_THREAD\_DIM0\ *\ EIGEN\_SYCL\_LOCAL\_THREAD\_DIM1;}
\DoxyCodeLine{01601\ }
\DoxyCodeLine{01602\ \ \ \ \ \textcolor{comment}{//\ Here\ we\ force\ the\ code\ not\ to\ be\ more\ than\ 2-\/step\ reduction:\ Our\ empirical\ research\ shows\ that\ if\ each\ thread}}
\DoxyCodeLine{01603\ \ \ \ \ \textcolor{comment}{//\ reduces\ at\ least\ 512\ elementss\ individually,\ we\ get\ better\ performance.}}
\DoxyCodeLine{01604\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ num\_work\_group\ =\ ((K\ +\ (512\ *\ local\_range\ -\/\ 1))\ /\ (512\ *\ local\_range)\ >\ 1\ ?\ local\_range\ :\ 1);}
\DoxyCodeLine{01605\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}}\ global\_range\ =\ num\_work\_group\ *\ local\_range;}
\DoxyCodeLine{01606\ }
\DoxyCodeLine{01607\ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1GeneralScalarContraction}{Eigen::TensorSycl::internal::GeneralScalarContraction}}<}
\DoxyCodeLine{01608\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_a664eb29b0c38061939b400fbc551c580}{CoeffReturnType}},\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a5defa092bd333524e09cddb6cedae1a1}{LhsScalar}},\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a2f447512029a648477b764d1c5b1dbc6}{RhsScalar}},\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_a313409ea575a90d467d38ef6053a540e}{EvaluatorPointerType}},\ LhsMapper,\ RhsMapper,\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}},\ \textcolor{keyword}{false}>}
\DoxyCodeLine{01609\ \ \ \ \ \ \ \ \ ContractKernelName;}
\DoxyCodeLine{01610\ \ \ \ \ \textcolor{keyword}{auto}\ thread\_range\ =\ cl::sycl::nd\_range<1>(cl::sycl::range<1>(global\_range),\ cl::sycl::range<1>(local\_range));}
\DoxyCodeLine{01611\ \ \ \ \ \textcolor{keywordflow}{if}\ (num\_work\_group\ >\ 1)\ \{}
\DoxyCodeLine{01612\ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a7dce88b56547c6048a036aa441e1791a}{CoeffReturnType}}\ *temp\_pointer\ =}
\DoxyCodeLine{01613\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a7dce88b56547c6048a036aa441e1791a}{CoeffReturnType}}\ *\textcolor{keyword}{>}(device().allocate\_temp(num\_work\_group\ *\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a7dce88b56547c6048a036aa441e1791a}{CoeffReturnType}})));}
\DoxyCodeLine{01614\ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aa655e009dfc331757c627e7daab002c5}{EvaluatorPointerType}}\ tmp\_global\_accessor\ =\ device().get(temp\_pointer);}
\DoxyCodeLine{01615\ \ \ \ \ \ \ device().template\ binary\_kernel\_launcher<CoeffReturnType,\ ContractKernelName>(lhs,\ rhs,\ tmp\_global\_accessor,}
\DoxyCodeLine{01616\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ thread\_range,\ local\_range,\ K);}
\DoxyCodeLine{01617\ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1internal_1_1SumReducer}{Eigen::internal::SumReducer<CoeffReturnType>}}\ Op;}
\DoxyCodeLine{01618\ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{structEigen_1_1TensorSycl_1_1internal_1_1SecondStepFullReducer}{TensorSycl::internal::SecondStepFullReducer}}<\mbox{\hyperlink{structEigen_1_1TensorEvaluator_a664eb29b0c38061939b400fbc551c580}{CoeffReturnType}},\ Op,\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_a313409ea575a90d467d38ef6053a540e}{EvaluatorPointerType}},}
\DoxyCodeLine{01619\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_a313409ea575a90d467d38ef6053a540e}{EvaluatorPointerType}},\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aca33ef0b15a2f2a2601a3112470ce093}{StorageIndex}},\ local\_range>}
\DoxyCodeLine{01620\ \ \ \ \ \ \ \ \ \ \ GenericRKernel;}
\DoxyCodeLine{01621\ \ \ \ \ \ \ device().template\ unary\_kernel\_launcher<CoeffReturnType,\ GenericRKernel>(}
\DoxyCodeLine{01622\ \ \ \ \ \ \ \ \ \ \ tmp\_global\_accessor,\ buffer,}
\DoxyCodeLine{01623\ \ \ \ \ \ \ \ \ \ \ cl::sycl::nd\_range<1>(cl::sycl::range<1>(local\_range),\ cl::sycl::range<1>(local\_range)),\ local\_range,\ Op());}
\DoxyCodeLine{01624\ }
\DoxyCodeLine{01625\ \ \ \ \ \ \ device().deallocate\_temp(temp\_pointer);}
\DoxyCodeLine{01626\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{01627\ \ \ \ \ \ \ device().template\ binary\_kernel\_launcher<CoeffReturnType,\ ContractKernelName>(lhs,\ rhs,\ buffer,\ thread\_range,}
\DoxyCodeLine{01628\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ local\_range,\ K);}
\DoxyCodeLine{01629\ \ \ \ \ \}}
\DoxyCodeLine{01630\ \ \ \}}
\DoxyCodeLine{01631\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{01632\ }
\DoxyCodeLine{01633\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_a400cce207f0b5ded2006be9bfb0778b8}{cleanup}}()\ \{}
\DoxyCodeLine{01634\ \ \ \ \ this-\/>m\_leftImpl.cleanup();}
\DoxyCodeLine{01635\ \ \ \ \ this-\/>m\_rightImpl.cleanup();}
\DoxyCodeLine{01636\ }
\DoxyCodeLine{01637\ \ \ \ \ \textcolor{keywordflow}{if}\ (this-\/>m\_result)\ \{}
\DoxyCodeLine{01638\ \ \ \ \ \ \ this-\/>\mbox{\hyperlink{structEigen_1_1TensorEvaluator_a28c329f710d33ba7243b5d194bdcdfca}{m\_device}}.deallocate\_temp(this-\/>m\_result);}
\DoxyCodeLine{01639\ \ \ \ \ \ \ this-\/>m\_result\ =\ NULL;}
\DoxyCodeLine{01640\ \ \ \ \ \}}
\DoxyCodeLine{01641\ \ \ \}}
\DoxyCodeLine{01642\ \ \ \textcolor{comment}{//\ The\ placeholder\ accessors\ must\ bound\ to\ a\ command\ group\ handler\ for\ SYCL}}
\DoxyCodeLine{01643\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structEigen_1_1TensorEvaluator_3_01const_01TensorContractionOp_3_01Indices_00_01LeftArgType_00_05b0e118f79add32eb69e2b20edf39dd1_aeb08be207a9a00adf102191434d35ba4}{bind}}(cl::sycl::handler\ \&cgh)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{01644\ \ \ \ \ this-\/>m\_leftImpl.bind(cgh);}
\DoxyCodeLine{01645\ \ \ \ \ this-\/>m\_rightImpl.bind(cgh);}
\DoxyCodeLine{01646\ \ \ \ \ this-\/>m\_result.bind(cgh);}
\DoxyCodeLine{01647\ \ \ \}}
\DoxyCodeLine{01648\ \};}
\DoxyCodeLine{01649\ \}\ \ \textcolor{comment}{//\ namespace\ Eigen}}
\DoxyCodeLine{01650\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ EIGEN\_CXX11\_TENSOR\_TENSOR\_CONTRACTION\_SYCL\_H}}

\end{DoxyCode}
