\doxysection{cord\+\_\+internal.\+h}
\hypertarget{tensor_2build_2__deps_2absl-src_2absl_2strings_2internal_2cord__internal_8h_source}{}\label{tensor_2build_2__deps_2absl-src_2absl_2strings_2internal_2cord__internal_8h_source}\index{tensor/build/\_deps/absl-\/src/absl/strings/internal/cord\_internal.h@{tensor/build/\_deps/absl-\/src/absl/strings/internal/cord\_internal.h}}
\mbox{\hyperlink{tensor_2build_2__deps_2absl-src_2absl_2strings_2internal_2cord__internal_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ 2021\ The\ Abseil\ Authors.}}
\DoxyCodeLine{00002\ \textcolor{comment}{//}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00006\ \textcolor{comment}{//}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ \ \ \ \ \ https://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00010\ \textcolor{comment}{//\ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ limitations\ under\ the\ License.}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#ifndef\ ABSL\_STRINGS\_INTERNAL\_CORD\_INTERNAL\_H\_}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#define\ ABSL\_STRINGS\_INTERNAL\_CORD\_INTERNAL\_H\_}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ <atomic>}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ <cassert>}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <cstddef>}}
\DoxyCodeLine{00021\ \textcolor{preprocessor}{\#include\ <cstdint>}}
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ <type\_traits>}}
\DoxyCodeLine{00023\ }
\DoxyCodeLine{00024\ \textcolor{preprocessor}{\#include\ "{}absl/base/attributes.h"{}}}
\DoxyCodeLine{00025\ \textcolor{preprocessor}{\#include\ "{}absl/base/config.h"{}}}
\DoxyCodeLine{00026\ \textcolor{preprocessor}{\#include\ "{}absl/base/internal/endian.h"{}}}
\DoxyCodeLine{00027\ \textcolor{preprocessor}{\#include\ "{}absl/base/internal/invoke.h"{}}}
\DoxyCodeLine{00028\ \textcolor{preprocessor}{\#include\ "{}absl/base/optimization.h"{}}}
\DoxyCodeLine{00029\ \textcolor{preprocessor}{\#include\ "{}absl/container/internal/compressed\_tuple.h"{}}}
\DoxyCodeLine{00030\ \textcolor{preprocessor}{\#include\ "{}absl/container/internal/container\_memory.h"{}}}
\DoxyCodeLine{00031\ \textcolor{preprocessor}{\#include\ "{}absl/meta/type\_traits.h"{}}}
\DoxyCodeLine{00032\ \textcolor{preprocessor}{\#include\ "{}absl/strings/string\_view.h"{}}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{comment}{//\ We\ can\ only\ add\ poisoning\ if\ we\ can\ detect\ consteval\ executions.}}
\DoxyCodeLine{00035\ \textcolor{preprocessor}{\#if\ defined(ABSL\_HAVE\_CONSTANT\_EVALUATED)\ \&\&\ \(\backslash\)}}
\DoxyCodeLine{00036\ \textcolor{preprocessor}{\ \ \ \ (defined(ABSL\_HAVE\_ADDRESS\_SANITIZER)\ ||\ \(\backslash\)}}
\DoxyCodeLine{00037\ \textcolor{preprocessor}{\ \ \ \ \ defined(ABSL\_HAVE\_MEMORY\_SANITIZER))}}
\DoxyCodeLine{00038\ \textcolor{preprocessor}{\#define\ ABSL\_INTERNAL\_CORD\_HAVE\_SANITIZER\ 1}}
\DoxyCodeLine{00039\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00040\ }
\DoxyCodeLine{00041\ \textcolor{preprocessor}{\#define\ ABSL\_CORD\_INTERNAL\_NO\_SANITIZE\ \(\backslash\)}}
\DoxyCodeLine{00042\ \textcolor{preprocessor}{\ \ ABSL\_ATTRIBUTE\_NO\_SANITIZE\_ADDRESS\ ABSL\_ATTRIBUTE\_NO\_SANITIZE\_MEMORY}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceabsl}{absl}}\ \{}
\DoxyCodeLine{00045\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2config_8h_a1426209ed359f780778edc8975b23f07}{ABSL\_NAMESPACE\_BEGIN}}}
\DoxyCodeLine{00046\ \textcolor{keyword}{namespace\ }cord\_internal\ \{}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \textcolor{comment}{//\ The\ overhead\ of\ a\ vtable\ is\ too\ much\ for\ Cord,\ so\ we\ roll\ our\ own\ subclasses}}
\DoxyCodeLine{00049\ \textcolor{comment}{//\ using\ only\ a\ single\ byte\ to\ differentiate\ classes\ from\ each\ other\ -\/\ the\ "{}tag"{}}}
\DoxyCodeLine{00050\ \textcolor{comment}{//\ byte.\ \ Define\ the\ subclasses\ first\ so\ we\ can\ provide\ downcasting\ helper}}
\DoxyCodeLine{00051\ \textcolor{comment}{//\ functions\ in\ the\ base\ class.}}
\DoxyCodeLine{00052\ \textcolor{keyword}{struct\ }CordRep;}
\DoxyCodeLine{00053\ \textcolor{keyword}{struct\ }CordRepConcat;}
\DoxyCodeLine{00054\ \textcolor{keyword}{struct\ }CordRepExternal;}
\DoxyCodeLine{00055\ \textcolor{keyword}{struct\ }CordRepFlat;}
\DoxyCodeLine{00056\ \textcolor{keyword}{struct\ }CordRepSubstring;}
\DoxyCodeLine{00057\ \textcolor{keyword}{struct\ }CordRepCrc;}
\DoxyCodeLine{00058\ \textcolor{keyword}{class\ }CordRepBtree;}
\DoxyCodeLine{00059\ }
\DoxyCodeLine{00060\ \textcolor{keyword}{class\ }CordzInfo;}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \textcolor{comment}{//\ Default\ feature\ enable\ states\ for\ cord\ ring\ buffers}}
\DoxyCodeLine{00063\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a66896fedaa4f9a7978004e5f94e62b34}{CordFeatureDefaults}}\ \{\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a66896fedaa4f9a7978004e5f94e62b34a31aa9b0734f101999d3f065066a84512}{kCordShallowSubcordsDefault}}\ =\ \textcolor{keyword}{false}\ \};}
\DoxyCodeLine{00064\ }
\DoxyCodeLine{00065\ \textcolor{keyword}{extern}\ std::atomic<bool>\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a6cc828132cae17963eb01dc90b85e775}{shallow\_subcords\_enabled}};}
\DoxyCodeLine{00066\ }
\DoxyCodeLine{00067\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a84c327687b5756f47e5b0775652d7d44}{enable\_shallow\_subcords}}(\textcolor{keywordtype}{bool}\ enable)\ \{}
\DoxyCodeLine{00068\ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a6cc828132cae17963eb01dc90b85e775}{shallow\_subcords\_enabled}}.store(enable,\ std::memory\_order\_relaxed);}
\DoxyCodeLine{00069\ \}}
\DoxyCodeLine{00070\ }
\DoxyCodeLine{00071\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a9746370601bf005788ab8a1e3ced109f}{Constants}}\ \{}
\DoxyCodeLine{00072\ \ \ \textcolor{comment}{//\ The\ inlined\ size\ to\ use\ with\ absl::InlinedVector.}}
\DoxyCodeLine{00073\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00074\ \ \ \textcolor{comment}{//\ Note:\ The\ InlinedVectors\ in\ this\ file\ (and\ in\ cord.h)\ do\ not\ need\ to\ use}}
\DoxyCodeLine{00075\ \ \ \textcolor{comment}{//\ the\ same\ value\ for\ their\ inlined\ size.\ The\ fact\ that\ they\ do\ is\ historical.}}
\DoxyCodeLine{00076\ \ \ \textcolor{comment}{//\ It\ may\ be\ desirable\ for\ each\ to\ use\ a\ different\ inlined\ size\ optimized\ for}}
\DoxyCodeLine{00077\ \ \ \textcolor{comment}{//\ that\ InlinedVector's\ usage.}}
\DoxyCodeLine{00078\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00079\ \ \ \textcolor{comment}{//\ TODO(jgm):\ Benchmark\ to\ see\ if\ there's\ a\ more\ optimal\ value\ than\ 47\ for}}
\DoxyCodeLine{00080\ \ \ \textcolor{comment}{//\ the\ inlined\ vector\ size\ (47\ exists\ for\ backward\ compatibility).}}
\DoxyCodeLine{00081\ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a9746370601bf005788ab8a1e3ced109fa5d618e250deb8b9dc512b5b6abca66d1}{kInlinedVectorSize}}\ =\ 47,}
\DoxyCodeLine{00082\ }
\DoxyCodeLine{00083\ \ \ \textcolor{comment}{//\ Prefer\ copying\ blocks\ of\ at\ most\ this\ size,\ otherwise\ reference\ count.}}
\DoxyCodeLine{00084\ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a9746370601bf005788ab8a1e3ced109fa2584bf1e4cf27bfd23161159e3ba1ae9}{kMaxBytesToCopy}}\ =\ 511}
\DoxyCodeLine{00085\ \};}
\DoxyCodeLine{00086\ }
\DoxyCodeLine{00087\ \textcolor{comment}{//\ Emits\ a\ fatal\ error\ "{}Unexpected\ node\ type:\ xyz"{}\ and\ aborts\ the\ program.}}
\DoxyCodeLine{00088\ [[noreturn]]\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_ae976fb5bf0c036b2f1da9f92df3e484c}{LogFatalNodeType}}(CordRep*\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}});}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \textcolor{comment}{//\ Fast\ implementation\ of\ memmove\ for\ up\ to\ 15\ bytes.\ This\ implementation\ is}}
\DoxyCodeLine{00091\ \textcolor{comment}{//\ safe\ for\ overlapping\ regions.\ If\ nullify\_tail\ is\ true,\ the\ destination\ is}}
\DoxyCodeLine{00092\ \textcolor{comment}{//\ padded\ with\ '\(\backslash\)0'\ up\ to\ 15\ bytes.}}
\DoxyCodeLine{00093\ \textcolor{keyword}{template}\ <\textcolor{keywordtype}{bool}\ nullify\_tail\ =\ false>}
\DoxyCodeLine{00094\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a3b2a64ca84fc943693cc4133ee93b6d7}{SmallMemmove}}(\textcolor{keywordtype}{char}*\ dst,\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ src,\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}})\ \{}
\DoxyCodeLine{00095\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}}\ >=\ 8)\ \{}
\DoxyCodeLine{00096\ \ \ \ \ assert(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}}\ <=\ 15);}
\DoxyCodeLine{00097\ \ \ \ \ uint64\_t\ buf1;}
\DoxyCodeLine{00098\ \ \ \ \ uint64\_t\ buf2;}
\DoxyCodeLine{00099\ \ \ \ \ memcpy(\&buf1,\ src,\ 8);}
\DoxyCodeLine{00100\ \ \ \ \ memcpy(\&buf2,\ src\ +\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}}\ -\/\ 8,\ 8);}
\DoxyCodeLine{00101\ \ \ \ \ \textcolor{keywordflow}{if}\ (nullify\_tail)\ \{}
\DoxyCodeLine{00102\ \ \ \ \ \ \ memset(dst\ +\ 7,\ 0,\ 8);}
\DoxyCodeLine{00103\ \ \ \ \ \}}
\DoxyCodeLine{00104\ \ \ \ \ \textcolor{comment}{//\ GCC\ 12\ has\ a\ false-\/positive\ -\/Wstringop-\/overflow\ warning\ here.}}
\DoxyCodeLine{00105\ \textcolor{preprocessor}{\#if\ ABSL\_INTERNAL\_HAVE\_MIN\_GNUC\_VERSION(12,\ 0)}}
\DoxyCodeLine{00106\ \textcolor{preprocessor}{\#pragma\ GCC\ diagnostic\ push}}
\DoxyCodeLine{00107\ \textcolor{preprocessor}{\#pragma\ GCC\ diagnostic\ ignored\ "{}-\/Wstringop-\/overflow"{}}}
\DoxyCodeLine{00108\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00109\ \ \ \ \ memcpy(dst,\ \&buf1,\ 8);}
\DoxyCodeLine{00110\ \ \ \ \ memcpy(dst\ +\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}}\ -\/\ 8,\ \&buf2,\ 8);}
\DoxyCodeLine{00111\ \textcolor{preprocessor}{\#if\ ABSL\_INTERNAL\_HAVE\_MIN\_GNUC\_VERSION(12,\ 0)}}
\DoxyCodeLine{00112\ \textcolor{preprocessor}{\#pragma\ GCC\ diagnostic\ pop}}
\DoxyCodeLine{00113\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00114\ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}}\ >=\ 4)\ \{}
\DoxyCodeLine{00115\ \ \ \ \ \mbox{\hyperlink{namespaceEigen_1_1numext_a1fe47e4c63c51696c544a7f24f33b05c}{uint32\_t}}\ buf1;}
\DoxyCodeLine{00116\ \ \ \ \ \mbox{\hyperlink{namespaceEigen_1_1numext_a1fe47e4c63c51696c544a7f24f33b05c}{uint32\_t}}\ buf2;}
\DoxyCodeLine{00117\ \ \ \ \ memcpy(\&buf1,\ src,\ 4);}
\DoxyCodeLine{00118\ \ \ \ \ memcpy(\&buf2,\ src\ +\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}}\ -\/\ 4,\ 4);}
\DoxyCodeLine{00119\ \ \ \ \ \textcolor{keywordflow}{if}\ (nullify\_tail)\ \{}
\DoxyCodeLine{00120\ \ \ \ \ \ \ memset(dst\ +\ 4,\ 0,\ 4);}
\DoxyCodeLine{00121\ \ \ \ \ \ \ memset(dst\ +\ 7,\ 0,\ 8);}
\DoxyCodeLine{00122\ \ \ \ \ \}}
\DoxyCodeLine{00123\ \ \ \ \ memcpy(dst,\ \&buf1,\ 4);}
\DoxyCodeLine{00124\ \ \ \ \ memcpy(dst\ +\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}}\ -\/\ 4,\ \&buf2,\ 4);}
\DoxyCodeLine{00125\ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00126\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}}\ !=\ 0)\ \{}
\DoxyCodeLine{00127\ \ \ \ \ \ \ dst[0]\ =\ src[0];}
\DoxyCodeLine{00128\ \ \ \ \ \ \ dst[\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}}\ /\ 2]\ =\ src[\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}}\ /\ 2];}
\DoxyCodeLine{00129\ \ \ \ \ \ \ dst[\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}}\ -\/\ 1]\ =\ src[\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}}\ -\/\ 1];}
\DoxyCodeLine{00130\ \ \ \ \ \}}
\DoxyCodeLine{00131\ \ \ \ \ \textcolor{keywordflow}{if}\ (nullify\_tail)\ \{}
\DoxyCodeLine{00132\ \ \ \ \ \ \ memset(dst\ +\ 7,\ 0,\ 8);}
\DoxyCodeLine{00133\ \ \ \ \ \ \ memset(dst\ +\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}},\ 0,\ 8);}
\DoxyCodeLine{00134\ \ \ \ \ \}}
\DoxyCodeLine{00135\ \ \ \}}
\DoxyCodeLine{00136\ \}}
\DoxyCodeLine{00137\ }
\DoxyCodeLine{00138\ \textcolor{comment}{//\ Compact\ class\ for\ tracking\ the\ reference\ count\ and\ state\ flags\ for\ CordRep}}
\DoxyCodeLine{00139\ \textcolor{comment}{//\ instances.\ \ Data\ is\ stored\ in\ an\ atomic\ int32\_t\ for\ compactness\ and\ speed.}}
\DoxyCodeLine{00140\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1cord__internal_1_1RefcountAndFlags}{RefcountAndFlags}}\ \{}
\DoxyCodeLine{00141\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00142\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1RefcountAndFlags_a75a41e37c8eba01bda6ca855f3337356}{RefcountAndFlags}}()\ :\ count\_\{kRefIncrement\}\ \{\}}
\DoxyCodeLine{00143\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1cord__internal_1_1RefcountAndFlags_1_1Immortal}{Immortal}}\ \{\};}
\DoxyCodeLine{00144\ \ \ \textcolor{keyword}{explicit}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1RefcountAndFlags_ac2dcdb1fe072752c2a000de13e90a9eb}{RefcountAndFlags}}(\mbox{\hyperlink{structabsl_1_1cord__internal_1_1RefcountAndFlags_1_1Immortal}{Immortal}})\ :\ count\_(kImmortalFlag)\ \{\}}
\DoxyCodeLine{00145\ }
\DoxyCodeLine{00146\ \ \ \textcolor{comment}{//\ Increments\ the\ reference\ count.\ Imposes\ no\ memory\ ordering.}}
\DoxyCodeLine{00147\ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1RefcountAndFlags_a610eca3b2be4424b755aac213365c6b4}{Increment}}()\ \{}
\DoxyCodeLine{00148\ \ \ \ \ count\_.fetch\_add(kRefIncrement,\ std::memory\_order\_relaxed);}
\DoxyCodeLine{00149\ \ \ \}}
\DoxyCodeLine{00150\ }
\DoxyCodeLine{00151\ \ \ \textcolor{comment}{//\ Asserts\ that\ the\ current\ refcount\ is\ greater\ than\ 0.\ If\ the\ refcount\ is}}
\DoxyCodeLine{00152\ \ \ \textcolor{comment}{//\ greater\ than\ 1,\ decrements\ the\ reference\ count.}}
\DoxyCodeLine{00153\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00154\ \ \ \textcolor{comment}{//\ Returns\ false\ if\ there\ are\ no\ references\ outstanding;\ true\ otherwise.}}
\DoxyCodeLine{00155\ \ \ \textcolor{comment}{//\ Inserts\ barriers\ to\ ensure\ that\ state\ written\ before\ this\ method\ returns}}
\DoxyCodeLine{00156\ \ \ \textcolor{comment}{//\ false\ will\ be\ visible\ to\ a\ thread\ that\ just\ observed\ this\ method\ returning}}
\DoxyCodeLine{00157\ \ \ \textcolor{comment}{//\ false.\ \ Always\ returns\ false\ when\ the\ immortal\ bit\ is\ set.}}
\DoxyCodeLine{00158\ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1RefcountAndFlags_a909e3bf896d04352df44cb6475b73fa6}{Decrement}}()\ \{}
\DoxyCodeLine{00159\ \ \ \ \ int32\_t\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2cordz__info_8cc_a853da58f3c91d8ce167d6400947fedb8}{refcount}}\ =\ count\_.load(std::memory\_order\_acquire);}
\DoxyCodeLine{00160\ \ \ \ \ assert(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2cordz__info_8cc_a853da58f3c91d8ce167d6400947fedb8}{refcount}}\ >\ 0\ ||\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2cordz__info_8cc_a853da58f3c91d8ce167d6400947fedb8}{refcount}}\ \&\ kImmortalFlag);}
\DoxyCodeLine{00161\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2cordz__info_8cc_a853da58f3c91d8ce167d6400947fedb8}{refcount}}\ !=\ kRefIncrement\ \&\&}
\DoxyCodeLine{00162\ \ \ \ \ \ \ \ \ \ \ \ count\_.fetch\_sub(kRefIncrement,\ std::memory\_order\_acq\_rel)\ !=}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ kRefIncrement;}
\DoxyCodeLine{00164\ \ \ \}}
\DoxyCodeLine{00165\ }
\DoxyCodeLine{00166\ \ \ \textcolor{comment}{//\ Same\ as\ Decrement\ but\ expect\ that\ refcount\ is\ greater\ than\ 1.}}
\DoxyCodeLine{00167\ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1RefcountAndFlags_a70d73031f121df01695ad044e5026da2}{DecrementExpectHighRefcount}}()\ \{}
\DoxyCodeLine{00168\ \ \ \ \ int32\_t\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2cordz__info_8cc_a853da58f3c91d8ce167d6400947fedb8}{refcount}}\ =}
\DoxyCodeLine{00169\ \ \ \ \ \ \ \ \ count\_.fetch\_sub(kRefIncrement,\ std::memory\_order\_acq\_rel);}
\DoxyCodeLine{00170\ \ \ \ \ assert(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2cordz__info_8cc_a853da58f3c91d8ce167d6400947fedb8}{refcount}}\ >\ 0\ ||\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2cordz__info_8cc_a853da58f3c91d8ce167d6400947fedb8}{refcount}}\ \&\ kImmortalFlag);}
\DoxyCodeLine{00171\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2cordz__info_8cc_a853da58f3c91d8ce167d6400947fedb8}{refcount}}\ !=\ kRefIncrement;}
\DoxyCodeLine{00172\ \ \ \}}
\DoxyCodeLine{00173\ }
\DoxyCodeLine{00174\ \ \ \textcolor{comment}{//\ Returns\ the\ current\ reference\ count\ using\ acquire\ semantics.}}
\DoxyCodeLine{00175\ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1RefcountAndFlags_af0555ff58d168710505fe850adee6977}{Get}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00176\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(count\_.load(std::memory\_order\_acquire)\ >>}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ kNumFlags);}
\DoxyCodeLine{00178\ \ \ \}}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \textcolor{comment}{//\ Returns\ whether\ the\ atomic\ integer\ is\ 1.}}
\DoxyCodeLine{00181\ \ \ \textcolor{comment}{//\ If\ the\ reference\ count\ is\ used\ in\ the\ conventional\ way,\ a}}
\DoxyCodeLine{00182\ \ \ \textcolor{comment}{//\ reference\ count\ of\ 1\ implies\ that\ the\ current\ thread\ owns\ the}}
\DoxyCodeLine{00183\ \ \ \textcolor{comment}{//\ reference\ and\ no\ other\ thread\ shares\ it.}}
\DoxyCodeLine{00184\ \ \ \textcolor{comment}{//\ This\ call\ performs\ the\ test\ for\ a\ reference\ count\ of\ one,\ and}}
\DoxyCodeLine{00185\ \ \ \textcolor{comment}{//\ performs\ the\ memory\ barrier\ needed\ for\ the\ owning\ thread}}
\DoxyCodeLine{00186\ \ \ \textcolor{comment}{//\ to\ act\ on\ the\ object,\ knowing\ that\ it\ has\ exclusive\ access\ to\ the}}
\DoxyCodeLine{00187\ \ \ \textcolor{comment}{//\ object.\ Always\ returns\ false\ when\ the\ immortal\ bit\ is\ set.}}
\DoxyCodeLine{00188\ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1RefcountAndFlags_ac137c81eae5cb008dcb1f1ecac2d25f0}{IsOne}}()\ \{}
\DoxyCodeLine{00189\ \ \ \ \ \textcolor{keywordflow}{return}\ count\_.load(std::memory\_order\_acquire)\ ==\ kRefIncrement;}
\DoxyCodeLine{00190\ \ \ \}}
\DoxyCodeLine{00191\ }
\DoxyCodeLine{00192\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1RefcountAndFlags_ae3298bf1e07fcbb95cb65b616b2a211c}{IsImmortal}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00193\ \ \ \ \ \textcolor{keywordflow}{return}\ (count\_.load(std::memory\_order\_relaxed)\ \&\ kImmortalFlag)\ !=\ 0;}
\DoxyCodeLine{00194\ \ \ \}}
\DoxyCodeLine{00195\ }
\DoxyCodeLine{00196\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00197\ \ \ \textcolor{comment}{//\ We\ reserve\ the\ bottom\ bit\ for\ flag.}}
\DoxyCodeLine{00198\ \ \ \textcolor{comment}{//\ kImmortalBit\ indicates\ that\ this\ entity\ should\ never\ be\ collected;\ it\ is}}
\DoxyCodeLine{00199\ \ \ \textcolor{comment}{//\ used\ for\ the\ StringConstant\ constructor\ to\ avoid\ collecting\ immutable}}
\DoxyCodeLine{00200\ \ \ \textcolor{comment}{//\ constant\ cords.}}
\DoxyCodeLine{00201\ \ \ \textcolor{keyword}{enum}\ Flags\ \{}
\DoxyCodeLine{00202\ \ \ \ \ kNumFlags\ =\ 1,}
\DoxyCodeLine{00203\ }
\DoxyCodeLine{00204\ \ \ \ \ kImmortalFlag\ =\ 0x1,}
\DoxyCodeLine{00205\ \ \ \ \ kRefIncrement\ =\ (1\ <<\ kNumFlags),}
\DoxyCodeLine{00206\ \ \ \};}
\DoxyCodeLine{00207\ }
\DoxyCodeLine{00208\ \ \ std::atomic<int32\_t>\ count\_;}
\DoxyCodeLine{00209\ \};}
\DoxyCodeLine{00210\ }
\DoxyCodeLine{00211\ \textcolor{comment}{//\ Various\ representations\ that\ we\ allow}}
\DoxyCodeLine{00212\ \textcolor{keyword}{enum}\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a61ea586e32032a0c22ea05d092c2b695}{CordRepKind}}\ \{}
\DoxyCodeLine{00213\ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a61ea586e32032a0c22ea05d092c2b695a49fc1acb6cca8ba271b4afd8c4a2ad59}{UNUSED\_0}}\ =\ 0,}
\DoxyCodeLine{00214\ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a61ea586e32032a0c22ea05d092c2b695aa63fc85866516bf96cbac7b8d6394e29}{SUBSTRING}}\ =\ 1,}
\DoxyCodeLine{00215\ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a61ea586e32032a0c22ea05d092c2b695a93279236d8449dfcef70a26f135ac6a2}{CRC}}\ =\ 2,}
\DoxyCodeLine{00216\ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a61ea586e32032a0c22ea05d092c2b695a5fda263a28d677bc3acf1359d769ecd1}{BTREE}}\ =\ 3,}
\DoxyCodeLine{00217\ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a61ea586e32032a0c22ea05d092c2b695a32ae9108ad0d5fb332458fc53dd35723}{UNUSED\_4}}\ =\ 4,}
\DoxyCodeLine{00218\ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a61ea586e32032a0c22ea05d092c2b695a9a2381a1784f3ec5aaff9c72403df950}{EXTERNAL}}\ =\ 5,}
\DoxyCodeLine{00219\ }
\DoxyCodeLine{00220\ \ \ \textcolor{comment}{//\ We\ have\ different\ tags\ for\ different\ sized\ flat\ arrays,}}
\DoxyCodeLine{00221\ \ \ \textcolor{comment}{//\ starting\ with\ FLAT,\ and\ limited\ to\ MAX\_FLAT\_TAG.\ The\ below\ values\ map\ to\ an}}
\DoxyCodeLine{00222\ \ \ \textcolor{comment}{//\ allocated\ range\ of\ 32\ bytes\ to\ 256\ KB.\ The\ current\ granularity\ is:}}
\DoxyCodeLine{00223\ \ \ \textcolor{comment}{//\ -\/\ 8\ byte\ granularity\ for\ flat\ sizes\ in\ [32\ -\/\ 512]}}
\DoxyCodeLine{00224\ \ \ \textcolor{comment}{//\ -\/\ 64\ byte\ granularity\ for\ flat\ sizes\ in\ (512\ -\/\ 8KiB]}}
\DoxyCodeLine{00225\ \ \ \textcolor{comment}{//\ -\/\ 4KiB\ byte\ granularity\ for\ flat\ sizes\ in\ (8KiB,\ 256\ KiB]}}
\DoxyCodeLine{00226\ \ \ \textcolor{comment}{//\ If\ a\ new\ tag\ is\ needed\ in\ the\ future,\ then\ 'FLAT'\ and\ 'MAX\_FLAT\_TAG'\ should}}
\DoxyCodeLine{00227\ \ \ \textcolor{comment}{//\ be\ adjusted\ as\ well\ as\ the\ Tag\ <-\/-\/-\/>\ Size\ mapping\ logic\ so\ that\ FLAT\ still}}
\DoxyCodeLine{00228\ \ \ \textcolor{comment}{//\ represents\ the\ minimum\ flat\ allocation\ size.\ (32\ bytes\ as\ of\ now).}}
\DoxyCodeLine{00229\ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a61ea586e32032a0c22ea05d092c2b695ac9d7cb6a8d7380945d713291c7bf3de3}{FLAT}}\ =\ 6,}
\DoxyCodeLine{00230\ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a61ea586e32032a0c22ea05d092c2b695a6294a7748f60c466873c88e665def178}{MAX\_FLAT\_TAG}}\ =\ 248}
\DoxyCodeLine{00231\ \};}
\DoxyCodeLine{00232\ }
\DoxyCodeLine{00233\ \textcolor{comment}{//\ There\ are\ various\ locations\ where\ we\ want\ to\ check\ if\ some\ rep\ is\ a\ 'plain'}}
\DoxyCodeLine{00234\ \textcolor{comment}{//\ data\ edge,\ i.e.\ an\ external\ or\ flat\ rep.\ By\ having\ FLAT\ ==\ EXTERNAL\ +\ 1,\ we}}
\DoxyCodeLine{00235\ \textcolor{comment}{//\ can\ perform\ this\ check\ in\ a\ single\ branch\ as\ 'tag\ >=\ EXTERNAL'}}
\DoxyCodeLine{00236\ \textcolor{comment}{//\ Note\ that\ we\ can\ leave\ this\ optimization\ to\ the\ compiler.\ The\ compiler\ will}}
\DoxyCodeLine{00237\ \textcolor{comment}{//\ DTRT\ when\ it\ sees\ a\ condition\ like\ \`{}tag\ ==\ EXTERNAL\ ||\ tag\ >=\ FLAT`.}}
\DoxyCodeLine{00238\ \textcolor{keyword}{static\_assert}(\mbox{\hyperlink{namespaceabsl_1_1cord__internal_a61ea586e32032a0c22ea05d092c2b695ac9d7cb6a8d7380945d713291c7bf3de3}{FLAT}}\ ==\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a61ea586e32032a0c22ea05d092c2b695a9a2381a1784f3ec5aaff9c72403df950}{EXTERNAL}}\ +\ 1,\ \textcolor{stringliteral}{"{}EXTERNAL\ and\ FLAT\ not\ consecutive"{}});}
\DoxyCodeLine{00239\ }
\DoxyCodeLine{00240\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep}{CordRep}}\ \{}
\DoxyCodeLine{00241\ \ \ \textcolor{comment}{//\ Result\ from\ an\ \`{}extract\ edge`\ operation.\ Contains\ the\ (possibly\ changed)}}
\DoxyCodeLine{00242\ \ \ \textcolor{comment}{//\ tree\ node\ as\ well\ as\ the\ extracted\ edge,\ or\ \{tree,\ nullptr\}\ if\ no\ edge}}
\DoxyCodeLine{00243\ \ \ \textcolor{comment}{//\ could\ be\ extracted.}}
\DoxyCodeLine{00244\ \ \ \textcolor{comment}{//\ On\ success,\ the\ returned\ \`{}tree`\ value\ is\ null\ if\ \`{}extracted`\ was\ the\ only}}
\DoxyCodeLine{00245\ \ \ \textcolor{comment}{//\ data\ edge\ inside\ the\ tree,\ a\ data\ edge\ if\ there\ were\ only\ two\ data\ edges\ in}}
\DoxyCodeLine{00246\ \ \ \textcolor{comment}{//\ the\ tree,\ or\ the\ (possibly\ new\ /\ smaller)\ remaining\ tree\ with\ the\ extracted}}
\DoxyCodeLine{00247\ \ \ \textcolor{comment}{//\ data\ edge\ removed.}}
\DoxyCodeLine{00248\ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_1_1ExtractResult}{ExtractResult}}\ \{}
\DoxyCodeLine{00249\ \ \ \ \ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep}{CordRep}}*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_1_1ExtractResult_ab432aba0b1d13f4811d35dc92cfad227}{tree}};}
\DoxyCodeLine{00250\ \ \ \ \ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep}{CordRep}}*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_1_1ExtractResult_a26c7c5ddd255c321d1ba93028fb17e75}{extracted}};}
\DoxyCodeLine{00251\ \ \ \};}
\DoxyCodeLine{00252\ }
\DoxyCodeLine{00253\ \ \ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_a0ac13e285c6943d08218aabe9b418472}{CordRep}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00254\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_a7dca7bbb692c3905500b98b00b7f95bd}{CordRep}}(\mbox{\hyperlink{structabsl_1_1cord__internal_1_1RefcountAndFlags_1_1Immortal}{RefcountAndFlags::Immortal}}\ immortal,\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2db95e8e1a9267b7a1188556b2013b33}{l}})}
\DoxyCodeLine{00255\ \ \ \ \ \ \ :\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_af1380a03e3795f21ee242127e607261f}{length}}(\mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2db95e8e1a9267b7a1188556b2013b33}{l}}),\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_ad7d28b6fa504948c72197b36686942b2}{refcount}}(immortal),\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_a179f49019ae42fc01bdf54b6093a5c33}{tag}}(\mbox{\hyperlink{namespaceabsl_1_1cord__internal_a61ea586e32032a0c22ea05d092c2b695a9a2381a1784f3ec5aaff9c72403df950}{EXTERNAL}}),\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_abc16d4e0cf6feecf8f885179a0f9780a}{storage}}\{\}\ \{\}}
\DoxyCodeLine{00256\ }
\DoxyCodeLine{00257\ \ \ \textcolor{comment}{//\ The\ following\ three\ fields\ have\ to\ be\ less\ than\ 32\ bytes\ since}}
\DoxyCodeLine{00258\ \ \ \textcolor{comment}{//\ that\ is\ the\ smallest\ supported\ flat\ node\ size.\ Some\ code\ optimizations\ rely}}
\DoxyCodeLine{00259\ \ \ \textcolor{comment}{//\ on\ the\ specific\ layout\ of\ these\ fields.\ Notably:\ the\ non-\/trivial\ field}}
\DoxyCodeLine{00260\ \ \ \textcolor{comment}{//\ \`{}refcount`\ being\ preceded\ by\ \`{}length`,\ and\ being\ tailed\ by\ POD\ data}}
\DoxyCodeLine{00261\ \ \ \textcolor{comment}{//\ members\ only.}}
\DoxyCodeLine{00262\ \ \ \textcolor{comment}{//\ LINT.IfChange}}
\DoxyCodeLine{00263\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_af1380a03e3795f21ee242127e607261f}{length}};}
\DoxyCodeLine{00264\ \ \ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1RefcountAndFlags}{RefcountAndFlags}}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_ad7d28b6fa504948c72197b36686942b2}{refcount}};}
\DoxyCodeLine{00265\ \ \ \textcolor{comment}{//\ If\ tag\ <\ FLAT,\ it\ represents\ CordRepKind\ and\ indicates\ the\ type\ of\ node.}}
\DoxyCodeLine{00266\ \ \ \textcolor{comment}{//\ Otherwise,\ the\ node\ type\ is\ CordRepFlat\ and\ the\ tag\ is\ the\ encoded\ size.}}
\DoxyCodeLine{00267\ \ \ uint8\_t\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_a179f49019ae42fc01bdf54b6093a5c33}{tag}};}
\DoxyCodeLine{00268\ }
\DoxyCodeLine{00269\ \ \ \textcolor{comment}{//\ \`{}storage`\ provides\ two\ main\ purposes:}}
\DoxyCodeLine{00270\ \ \ \textcolor{comment}{//\ -\/\ the\ starting\ point\ for\ FlatCordRep.Data()\ [flexible-\/array-\/member]}}
\DoxyCodeLine{00271\ \ \ \textcolor{comment}{//\ -\/\ 3\ bytes\ of\ additional\ storage\ for\ use\ by\ derived\ classes.}}
\DoxyCodeLine{00272\ \ \ \textcolor{comment}{//\ The\ latter\ is\ used\ by\ CordrepConcat\ and\ CordRepBtree.\ CordRepConcat\ stores}}
\DoxyCodeLine{00273\ \ \ \textcolor{comment}{//\ a\ 'depth'\ value\ in\ storage[0],\ and\ the\ (future)\ CordRepBtree\ class\ stores}}
\DoxyCodeLine{00274\ \ \ \textcolor{comment}{//\ \`{}height`,\ \`{}begin`\ and\ \`{}end`\ in\ the\ 3\ entries.\ Otherwise\ we\ would\ need\ to}}
\DoxyCodeLine{00275\ \ \ \textcolor{comment}{//\ allocate\ room\ for\ these\ in\ the\ derived\ class,\ as\ not\ all\ compilers\ reuse}}
\DoxyCodeLine{00276\ \ \ \textcolor{comment}{//\ padding\ space\ from\ the\ base\ class\ (clang\ and\ gcc\ do,\ MSVC\ does\ not,\ etc)}}
\DoxyCodeLine{00277\ \ \ uint8\_t\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_abc16d4e0cf6feecf8f885179a0f9780a}{storage}}[3];}
\DoxyCodeLine{00278\ \ \ \textcolor{comment}{//\ LINT.ThenChange(cord\_rep\_btree.h:copy\_raw)}}
\DoxyCodeLine{00279\ }
\DoxyCodeLine{00280\ \ \ \textcolor{comment}{//\ Returns\ true\ if\ this\ instance's\ tag\ matches\ the\ requested\ type.}}
\DoxyCodeLine{00281\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_aa839b609d238ca41480137f305f3308a}{IsSubstring}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_a179f49019ae42fc01bdf54b6093a5c33}{tag}}\ ==\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a61ea586e32032a0c22ea05d092c2b695aa63fc85866516bf96cbac7b8d6394e29}{SUBSTRING}};\ \}}
\DoxyCodeLine{00282\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_ae3dcd823e63f3afa28030fd293800d9a}{IsCrc}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_a179f49019ae42fc01bdf54b6093a5c33}{tag}}\ ==\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a61ea586e32032a0c22ea05d092c2b695a93279236d8449dfcef70a26f135ac6a2}{CRC}};\ \}}
\DoxyCodeLine{00283\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_a6803c19addc15fcbcc24358469cc634e}{IsExternal}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_a179f49019ae42fc01bdf54b6093a5c33}{tag}}\ ==\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a61ea586e32032a0c22ea05d092c2b695a9a2381a1784f3ec5aaff9c72403df950}{EXTERNAL}};\ \}}
\DoxyCodeLine{00284\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_ac67b9409fdf760ccaacac795e92550e8}{IsFlat}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_a179f49019ae42fc01bdf54b6093a5c33}{tag}}\ >=\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a61ea586e32032a0c22ea05d092c2b695ac9d7cb6a8d7380945d713291c7bf3de3}{FLAT}};\ \}}
\DoxyCodeLine{00285\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_acc67da3dfa090abfa5253509bf0763ff}{IsBtree}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_a179f49019ae42fc01bdf54b6093a5c33}{tag}}\ ==\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a61ea586e32032a0c22ea05d092c2b695a5fda263a28d677bc3acf1359d769ecd1}{BTREE}};\ \}}
\DoxyCodeLine{00286\ }
\DoxyCodeLine{00287\ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepSubstring}{CordRepSubstring}}*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_a219cd473572c69a56e3ad793c5a87bfa}{substring}}();}
\DoxyCodeLine{00288\ \ \ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepSubstring}{CordRepSubstring}}*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_a6e0fa69d11f104a8c75c3e69f25fce84}{substring}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00289\ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepCrc}{CordRepCrc}}*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_a514dca2d2ef965018710e4ad78ba8e4d}{crc}}();}
\DoxyCodeLine{00290\ \ \ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepCrc}{CordRepCrc}}*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_adafabf856fd92302acc9b4916c651bea}{crc}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00291\ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternal}{CordRepExternal}}*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_afc8d261fcd61baf6b9625083b4220c3d}{external}}();}
\DoxyCodeLine{00292\ \ \ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternal}{CordRepExternal}}*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_a11700e6b8b4018f0443676b16418bba6}{external}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00293\ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepFlat}{CordRepFlat}}*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_aa50cfbda2dbc22022c2b2a6580e6da91}{flat}}();}
\DoxyCodeLine{00294\ \ \ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepFlat}{CordRepFlat}}*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_afcf3f1d233b018e2ba66b73ac698c501}{flat}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00295\ \ \ \textcolor{keyword}{inline}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1CordRepBtree}{CordRepBtree}}*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_a1b0561065120a0caf211b2347e9b738b}{btree}}();}
\DoxyCodeLine{00296\ \ \ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1CordRepBtree}{CordRepBtree}}*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_ad7ce7eeb6e1cb8bde95c577656f07b5a}{btree}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{00297\ }
\DoxyCodeLine{00298\ \ \ \textcolor{comment}{//\ -\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/-\/}}
\DoxyCodeLine{00299\ \ \ \textcolor{comment}{//\ Memory\ management}}
\DoxyCodeLine{00300\ }
\DoxyCodeLine{00301\ \ \ \textcolor{comment}{//\ Destroys\ the\ provided\ \`{}rep`.}}
\DoxyCodeLine{00302\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_a712b99af7852553f65e659e4e6ecd4c6}{Destroy}}(\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep}{CordRep}}*\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}});}
\DoxyCodeLine{00303\ }
\DoxyCodeLine{00304\ \ \ \textcolor{comment}{//\ Increments\ the\ reference\ count\ of\ \`{}rep`.}}
\DoxyCodeLine{00305\ \ \ \textcolor{comment}{//\ Requires\ \`{}rep`\ to\ be\ a\ non-\/null\ pointer\ value.}}
\DoxyCodeLine{00306\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep}{CordRep}}*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_aacc5b795f076c11464949bec0601bec2}{Ref}}(\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep}{CordRep}}*\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}});}
\DoxyCodeLine{00307\ }
\DoxyCodeLine{00308\ \ \ \textcolor{comment}{//\ Decrements\ the\ reference\ count\ of\ \`{}rep`.\ Destroys\ rep\ if\ count\ reaches}}
\DoxyCodeLine{00309\ \ \ \textcolor{comment}{//\ zero.\ Requires\ \`{}rep`\ to\ be\ a\ non-\/null\ pointer\ value.}}
\DoxyCodeLine{00310\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_a8d563e9ad18bf6b34d01eeebcfb14051}{Unref}}(\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep}{CordRep}}*\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}});}
\DoxyCodeLine{00311\ \};}
\DoxyCodeLine{00312\ }
\DoxyCodeLine{00313\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepSubstring}{CordRepSubstring}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep}{CordRep}}\ \{}
\DoxyCodeLine{00314\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepSubstring_a2b796c6d3beaf06e72c25e850e116a20}{start}};\ \ \textcolor{comment}{//\ Starting\ offset\ of\ substring\ in\ child}}
\DoxyCodeLine{00315\ \ \ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep}{CordRep}}*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepSubstring_a39c960107468afd75d15d1faa52e0f18}{child}};}
\DoxyCodeLine{00316\ }
\DoxyCodeLine{00317\ \ \ \textcolor{comment}{//\ Creates\ a\ substring\ on\ \`{}child`,\ adopting\ a\ reference\ on\ \`{}child`.}}
\DoxyCodeLine{00318\ \ \ \textcolor{comment}{//\ Requires\ \`{}child`\ to\ be\ either\ a\ flat\ or\ external\ node,\ and\ \`{}pos`\ and\ \`{}n`\ to}}
\DoxyCodeLine{00319\ \ \ \textcolor{comment}{//\ form\ a\ non-\/empty\ partial\ sub\ range\ of\ \`{}'child`,\ i.e.:}}
\DoxyCodeLine{00320\ \ \ \textcolor{comment}{//\ \`{}n\ >\ 0\ \&\&\ n\ <\ length\ \&\&\ n\ +\ pos\ <=\ length`}}
\DoxyCodeLine{00321\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepSubstring}{CordRepSubstring}}*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepSubstring_a2cf49e2d653acf366046256da30ffdaf}{Create}}(\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep}{CordRep}}*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepSubstring_a39c960107468afd75d15d1faa52e0f18}{child}},\ \textcolor{keywordtype}{size\_t}\ pos,\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}});}
\DoxyCodeLine{00322\ }
\DoxyCodeLine{00323\ \ \ \textcolor{comment}{//\ Creates\ a\ substring\ of\ \`{}rep`.\ Does\ not\ adopt\ a\ reference\ on\ \`{}rep`.}}
\DoxyCodeLine{00324\ \ \ \textcolor{comment}{//\ Requires\ \`{}IsDataEdge(rep)\ \&\&\ n\ >\ 0\ \&\&\ pos\ +\ n\ <=\ rep-\/>length`.}}
\DoxyCodeLine{00325\ \ \ \textcolor{comment}{//\ If\ \`{}n\ ==\ rep-\/>length`\ then\ this\ method\ returns\ \`{}CordRep::Ref(rep)`}}
\DoxyCodeLine{00326\ \ \ \textcolor{comment}{//\ If\ \`{}rep`\ is\ a\ substring\ of\ a\ flat\ or\ external\ node,\ then\ this\ method\ will}}
\DoxyCodeLine{00327\ \ \ \textcolor{comment}{//\ return\ a\ new\ substring\ of\ that\ flat\ or\ external\ node\ with\ \`{}pos`\ adjusted}}
\DoxyCodeLine{00328\ \ \ \textcolor{comment}{//\ with\ the\ original\ \`{}start`\ position.}}
\DoxyCodeLine{00329\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep}{CordRep}}*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepSubstring_abc9d7a141e4bfbc95f592f1b0b9e3bcc}{Substring}}(\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep}{CordRep}}*\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}},\ \textcolor{keywordtype}{size\_t}\ pos,\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}});}
\DoxyCodeLine{00330\ \};}
\DoxyCodeLine{00331\ }
\DoxyCodeLine{00332\ \textcolor{comment}{//\ Type\ for\ function\ pointer\ that\ will\ invoke\ the\ releaser\ function\ and\ also}}
\DoxyCodeLine{00333\ \textcolor{comment}{//\ delete\ the\ \`{}CordRepExternalImpl`\ corresponding\ to\ the\ passed\ in}}
\DoxyCodeLine{00334\ \textcolor{comment}{//\ \`{}CordRepExternal`.}}
\DoxyCodeLine{00335\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceabsl_1_1cord__internal_ae08b38c966bd079b88773a7305bc7cf5}{ExternalReleaserInvoker}}\ =\ void\ (*)(\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternal}{CordRepExternal}}*);}
\DoxyCodeLine{00336\ }
\DoxyCodeLine{00337\ \textcolor{comment}{//\ External\ CordReps\ are\ allocated\ together\ with\ a\ type\ erased\ releaser.\ The}}
\DoxyCodeLine{00338\ \textcolor{comment}{//\ releaser\ is\ stored\ in\ the\ memory\ directly\ following\ the\ CordRepExternal.}}
\DoxyCodeLine{00339\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternal}{CordRepExternal}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep}{CordRep}}\ \{}
\DoxyCodeLine{00340\ \ \ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternal_aeb49f70aabc4416b54098a4186691a15}{CordRepExternal}}()\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00341\ \ \ \textcolor{keyword}{explicit}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternal_ade4bc16bae68323e97cf9f68b670f88a}{CordRepExternal}}(\mbox{\hyperlink{classabsl_1_1string__view}{absl::string\_view}}\ str)}
\DoxyCodeLine{00342\ \ \ \ \ \ \ :\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep}{CordRep}}(\mbox{\hyperlink{classabsl_1_1cord__internal_1_1RefcountAndFlags}{RefcountAndFlags}}::Immortal\{\},\ str.\mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc_8cc_aad9b71a31372d5c0ab9c23163efe9544}{size}}()),}
\DoxyCodeLine{00343\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternal_a1c346b34d874872c92bf8f16991f14f0}{base}}(str.\mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}()),}
\DoxyCodeLine{00344\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternal_ace30c0964ea1536cd9cebb8d55083668}{releaser\_invoker}}(nullptr)\ \{\}}
\DoxyCodeLine{00345\ }
\DoxyCodeLine{00346\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternal_a1c346b34d874872c92bf8f16991f14f0}{base}};}
\DoxyCodeLine{00347\ \ \ \textcolor{comment}{//\ Pointer\ to\ function\ that\ knows\ how\ to\ call\ and\ destroy\ the\ releaser.}}
\DoxyCodeLine{00348\ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_ae08b38c966bd079b88773a7305bc7cf5}{ExternalReleaserInvoker}}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternal_ace30c0964ea1536cd9cebb8d55083668}{releaser\_invoker}};}
\DoxyCodeLine{00349\ }
\DoxyCodeLine{00350\ \ \ \textcolor{comment}{//\ Deletes\ (releases)\ the\ external\ rep.}}
\DoxyCodeLine{00351\ \ \ \textcolor{comment}{//\ Requires\ rep\ !=\ nullptr\ and\ rep-\/>IsExternal()}}
\DoxyCodeLine{00352\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternal_a7d987b534b23c8950e27a6d057f550f6}{Delete}}(\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep}{CordRep}}*\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}});}
\DoxyCodeLine{00353\ \};}
\DoxyCodeLine{00354\ }
\DoxyCodeLine{00355\ \textcolor{comment}{//\ Use\ go/ranked-\/overloads\ for\ dispatching.}}
\DoxyCodeLine{00356\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1cord__internal_1_1Rank0}{Rank0}}\ \{\};}
\DoxyCodeLine{00357\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1cord__internal_1_1Rank1}{Rank1}}\ :\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1Rank0}{Rank0}}\ \{\};}
\DoxyCodeLine{00358\ }
\DoxyCodeLine{00359\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Releaser,\ \textcolor{keyword}{typename}\ =\ \mbox{\hyperlink{namespaceabsl_1_1base__internal_ae8a91ffcdbdd7c0e7a1f9b3773bbb6f5}{::absl::base\_internal::invoke\_result\_t}}<}
\DoxyCodeLine{00360\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ Releaser,\ \mbox{\hyperlink{classabsl_1_1string__view}{absl::string\_view}}>>}
\DoxyCodeLine{00361\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_aa96487dde8e7b3f0c84992f94517cff0}{InvokeReleaser}}(\mbox{\hyperlink{structabsl_1_1cord__internal_1_1Rank1}{Rank1}},\ Releaser\&\&\ releaser,\ \mbox{\hyperlink{classabsl_1_1string__view}{absl::string\_view}}\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}})\ \{}
\DoxyCodeLine{00362\ \ \ \mbox{\hyperlink{namespaceabsl_1_1base__internal_a4e159c18e37d8511af4cfc169e0cc8a3}{::absl::base\_internal::invoke}}(std::forward<Releaser>(releaser),\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}});}
\DoxyCodeLine{00363\ \}}
\DoxyCodeLine{00364\ }
\DoxyCodeLine{00365\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Releaser,}
\DoxyCodeLine{00366\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ =\ \mbox{\hyperlink{namespaceabsl_1_1base__internal_ae8a91ffcdbdd7c0e7a1f9b3773bbb6f5}{::absl::base\_internal::invoke\_result\_t<Releaser>}}>}
\DoxyCodeLine{00367\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_aa96487dde8e7b3f0c84992f94517cff0}{InvokeReleaser}}(Rank0,\ Releaser\&\&\ releaser,\ \mbox{\hyperlink{classabsl_1_1string__view}{absl::string\_view}})\ \{}
\DoxyCodeLine{00368\ \ \ \mbox{\hyperlink{namespaceabsl_1_1base__internal_a4e159c18e37d8511af4cfc169e0cc8a3}{::absl::base\_internal::invoke}}(std::forward<Releaser>(releaser));}
\DoxyCodeLine{00369\ \}}
\DoxyCodeLine{00370\ }
\DoxyCodeLine{00371\ \textcolor{comment}{//\ We\ use\ CompressedTuple\ so\ that\ we\ can\ benefit\ from\ EBCO.}}
\DoxyCodeLine{00372\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Releaser>}
\DoxyCodeLine{00373\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternalImpl}{CordRepExternalImpl}}}
\DoxyCodeLine{00374\ \ \ \ \ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternal}{CordRepExternal}},}
\DoxyCodeLine{00375\ \ \ \ \ \ \ \textcolor{keyword}{public}\ \mbox{\hyperlink{classabsl_1_1container__internal_1_1CompressedTuple}{::absl::container\_internal::CompressedTuple}}<Releaser>\ \{}
\DoxyCodeLine{00376\ \ \ \textcolor{comment}{//\ The\ extra\ int\ arg\ is\ so\ that\ we\ can\ avoid\ interfering\ with\ copy/move}}
\DoxyCodeLine{00377\ \ \ \textcolor{comment}{//\ constructors\ while\ still\ benefitting\ from\ perfect\ forwarding.}}
\DoxyCodeLine{00378\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>}
\DoxyCodeLine{00379\ \ \ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternalImpl_afcf6706452dd43d678ee588ccb98acc9}{CordRepExternalImpl}}(T\&\&\ releaser,\ \textcolor{keywordtype}{int})}
\DoxyCodeLine{00380\ \ \ \ \ \ \ :\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternalImpl}{CordRepExternalImpl}}::\mbox{\hyperlink{classabsl_1_1container__internal_1_1CompressedTuple_afb485f60c6a979bd7c8cd55ead4cebb6}{CompressedTuple}}(\mbox{\hyperlink{namespacestd}{std}}::forward<T>(releaser))\ \{}
\DoxyCodeLine{00381\ \ \ \ \ this-\/>\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternal_ace30c0964ea1536cd9cebb8d55083668}{releaser\_invoker}}\ =\ \&\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternalImpl_a582f7ae8b2192c37177a86a04a6da899}{Release}};}
\DoxyCodeLine{00382\ \ \ \}}
\DoxyCodeLine{00383\ }
\DoxyCodeLine{00384\ \ \ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternalImpl_ada553789db8938979f97ed738bc67d4e}{\string~CordRepExternalImpl}}()\ \{}
\DoxyCodeLine{00385\ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_aa96487dde8e7b3f0c84992f94517cff0}{InvokeReleaser}}(\mbox{\hyperlink{structabsl_1_1cord__internal_1_1Rank1}{Rank1}}\{\},\ std::move(this-\/>\textcolor{keyword}{template}\ get<0>()),}
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classabsl_1_1string__view}{absl::string\_view}}(\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternal_a1c346b34d874872c92bf8f16991f14f0}{base}},\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_af1380a03e3795f21ee242127e607261f}{length}}));}
\DoxyCodeLine{00387\ \ \ \}}
\DoxyCodeLine{00388\ }
\DoxyCodeLine{00389\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternalImpl_a582f7ae8b2192c37177a86a04a6da899}{Release}}(\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternal}{CordRepExternal}}*\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}})\ \{}
\DoxyCodeLine{00390\ \ \ \ \ \textcolor{keyword}{delete}\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternalImpl}{CordRepExternalImpl}}*\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}});}
\DoxyCodeLine{00391\ \ \ \}}
\DoxyCodeLine{00392\ \};}
\DoxyCodeLine{00393\ }
\DoxyCodeLine{00394\ \textcolor{keyword}{inline}\ CordRepSubstring*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepSubstring_a264a50ce104fe95586c5deac96a318d6}{CordRepSubstring::Create}}(CordRep*\ child,\ \textcolor{keywordtype}{size\_t}\ pos,}
\DoxyCodeLine{00395\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}})\ \{}
\DoxyCodeLine{00396\ \ \ assert(\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepSubstring_a39c960107468afd75d15d1faa52e0f18}{child}}\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00397\ \ \ assert(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}}\ >\ 0);}
\DoxyCodeLine{00398\ \ \ assert(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n\ <\ child-\/>}}\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_af1380a03e3795f21ee242127e607261f}{length}});}
\DoxyCodeLine{00399\ \ \ assert(pos\ <\ child-\/>\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_af1380a03e3795f21ee242127e607261f}{length}});}
\DoxyCodeLine{00400\ \ \ assert(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n\ <=\ child-\/>}}\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_af1380a03e3795f21ee242127e607261f}{length}}\ -\/\ pos);}
\DoxyCodeLine{00401\ }
\DoxyCodeLine{00402\ \ \ \textcolor{comment}{//\ Move\ to\ strategical\ places\ inside\ the\ Cord\ logic\ and\ make\ this\ an\ assert.}}
\DoxyCodeLine{00403\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{abseil-cpp_2absl_2base_2optimization_8h_a7de82b630fc76606a15c23483680a6a1}{ABSL\_PREDICT\_FALSE}}(!(\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepSubstring_a39c960107468afd75d15d1faa52e0f18}{child}}-\/>\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_a6803c19addc15fcbcc24358469cc634e}{IsExternal}}()\ ||\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepSubstring_a39c960107468afd75d15d1faa52e0f18}{child}}-\/>\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_ac67b9409fdf760ccaacac795e92550e8}{IsFlat}}())))\ \{}
\DoxyCodeLine{00404\ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_ae976fb5bf0c036b2f1da9f92df3e484c}{LogFatalNodeType}}(\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepSubstring_a39c960107468afd75d15d1faa52e0f18}{child}});}
\DoxyCodeLine{00405\ \ \ \}}
\DoxyCodeLine{00406\ }
\DoxyCodeLine{00407\ \ \ CordRepSubstring*\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}}\ =\ \textcolor{keyword}{new}\ CordRepSubstring();}
\DoxyCodeLine{00408\ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}}-\/>length\ =\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}};}
\DoxyCodeLine{00409\ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}}-\/>tag\ =\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a61ea586e32032a0c22ea05d092c2b695aa63fc85866516bf96cbac7b8d6394e29}{SUBSTRING}};}
\DoxyCodeLine{00410\ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}}-\/>start\ =\ pos;}
\DoxyCodeLine{00411\ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}}-\/>child\ =\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepSubstring_a39c960107468afd75d15d1faa52e0f18}{child}};}
\DoxyCodeLine{00412\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}};}
\DoxyCodeLine{00413\ \}}
\DoxyCodeLine{00414\ }
\DoxyCodeLine{00415\ \textcolor{keyword}{inline}\ CordRep*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepSubstring_ab8c59b9adab48d89468881d011307891}{CordRepSubstring::Substring}}(CordRep*\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}},\ \textcolor{keywordtype}{size\_t}\ pos,}
\DoxyCodeLine{00416\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}})\ \{}
\DoxyCodeLine{00417\ \ \ assert(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}}\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00418\ \ \ assert(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}}\ !=\ 0);}
\DoxyCodeLine{00419\ \ \ assert(pos\ <\ rep-\/>\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_af1380a03e3795f21ee242127e607261f}{length}});}
\DoxyCodeLine{00420\ \ \ assert(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n\ <=\ rep-\/>}}\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_af1380a03e3795f21ee242127e607261f}{length}}\ -\/\ pos);}
\DoxyCodeLine{00421\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}}\ ==\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}}-\/>length)\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_ad73d5d8140ce641920d1b3894515ed08}{CordRep::Ref}}(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}});}
\DoxyCodeLine{00422\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}}-\/>IsSubstring())\ \{}
\DoxyCodeLine{00423\ \ \ \ \ pos\ +=\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}}-\/>substring()-\/>start;}
\DoxyCodeLine{00424\ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}}\ =\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}}-\/>substring()-\/>child;}
\DoxyCodeLine{00425\ \ \ \}}
\DoxyCodeLine{00426\ \ \ CordRepSubstring*\ substr\ =\ \textcolor{keyword}{new}\ CordRepSubstring();}
\DoxyCodeLine{00427\ \ \ substr-\/>length\ =\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}};}
\DoxyCodeLine{00428\ \ \ substr-\/>tag\ =\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a61ea586e32032a0c22ea05d092c2b695aa63fc85866516bf96cbac7b8d6394e29}{SUBSTRING}};}
\DoxyCodeLine{00429\ \ \ substr-\/>start\ =\ pos;}
\DoxyCodeLine{00430\ \ \ substr-\/>child\ =\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_ad73d5d8140ce641920d1b3894515ed08}{CordRep::Ref}}(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}});}
\DoxyCodeLine{00431\ \ \ \textcolor{keywordflow}{return}\ substr;}
\DoxyCodeLine{00432\ \}}
\DoxyCodeLine{00433\ }
\DoxyCodeLine{00434\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternal_a1b833561d184d08bf63a267beb0b4fd8}{CordRepExternal::Delete}}(CordRep*\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}})\ \{}
\DoxyCodeLine{00435\ \ \ assert(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}}\ !=\ \textcolor{keyword}{nullptr}\ \&\&\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}}-\/>IsExternal());}
\DoxyCodeLine{00436\ \ \ \textcolor{keyword}{auto}*\ rep\_external\ =\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternal_aeb49f70aabc4416b54098a4186691a15}{CordRepExternal}}*\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}});}
\DoxyCodeLine{00437\ \ \ assert(rep\_external-\/>releaser\_invoker\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00438\ \ \ rep\_external-\/>releaser\_invoker(rep\_external);}
\DoxyCodeLine{00439\ \}}
\DoxyCodeLine{00440\ }
\DoxyCodeLine{00441\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Str>}
\DoxyCodeLine{00442\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1cord__internal_1_1ConstInitExternalStorage}{ConstInitExternalStorage}}\ \{}
\DoxyCodeLine{00443\ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2base_2attributes_8h_a0960184d4a72f445953241f1c5a30bb2}{ABSL\_CONST\_INIT}}\ \textcolor{keyword}{static}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternal}{CordRepExternal}}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1ConstInitExternalStorage_a91b0bbe430dea886bc8ee87695c53b37}{value}};}
\DoxyCodeLine{00444\ \};}
\DoxyCodeLine{00445\ }
\DoxyCodeLine{00446\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Str>}
\DoxyCodeLine{00447\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2attributes_8h_a0960184d4a72f445953241f1c5a30bb2}{ABSL\_CONST\_INIT}}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRepExternal}{CordRepExternal}}}
\DoxyCodeLine{00448\ \ \ \ \ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1ConstInitExternalStorage_a91b0bbe430dea886bc8ee87695c53b37}{ConstInitExternalStorage<Str>::value}}(Str::value);}
\DoxyCodeLine{00449\ }
\DoxyCodeLine{00450\ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00451\ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_aa5f07cb4ae78d6372088311e9a7b8f54a67b1fe8491a99c54edb34ad917eb95fa}{kMaxInline}}\ =\ 15,}
\DoxyCodeLine{00452\ \};}
\DoxyCodeLine{00453\ }
\DoxyCodeLine{00454\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a303e30b9b6457dc87f3ba687483f2e54}{GetOrNull}}(\mbox{\hyperlink{classabsl_1_1string__view}{absl::string\_view}}\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}},\ \textcolor{keywordtype}{size\_t}\ pos)\ \{}
\DoxyCodeLine{00455\ \ \ \textcolor{keywordflow}{return}\ pos\ <\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}.size()\ ?\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[pos]\ :\ \textcolor{charliteral}{'\(\backslash\)0'};}
\DoxyCodeLine{00456\ \}}
\DoxyCodeLine{00457\ }
\DoxyCodeLine{00458\ \textcolor{comment}{//\ We\ store\ cordz\_info\ as\ 64\ bit\ pointer\ value\ in\ little\ endian\ format.\ This}}
\DoxyCodeLine{00459\ \textcolor{comment}{//\ guarantees\ that\ the\ least\ significant\ byte\ of\ cordz\_info\ matches\ the\ first}}
\DoxyCodeLine{00460\ \textcolor{comment}{//\ byte\ of\ the\ inline\ data\ representation\ in\ \`{}data`,\ which\ holds\ the\ inlined}}
\DoxyCodeLine{00461\ \textcolor{comment}{//\ size\ or\ the\ 'is\_tree'\ bit.}}
\DoxyCodeLine{00462\ \textcolor{keyword}{using\ }\mbox{\hyperlink{namespaceabsl_1_1cord__internal_a56fe0ad667e57d494ab562df08ad0e26}{cordz\_info\_t}}\ =\ int64\_t;}
\DoxyCodeLine{00463\ }
\DoxyCodeLine{00464\ \textcolor{comment}{//\ Assert\ that\ the\ \`{}cordz\_info`\ pointer\ value\ perfectly\ overlaps\ the\ last\ half}}
\DoxyCodeLine{00465\ \textcolor{comment}{//\ of\ \`{}data`\ and\ can\ hold\ a\ pointer\ value.}}
\DoxyCodeLine{00466\ \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{namespaceabsl_1_1cord__internal_a56fe0ad667e57d494ab562df08ad0e26}{cordz\_info\_t}})\ *\ 2\ ==\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_aa5f07cb4ae78d6372088311e9a7b8f54a67b1fe8491a99c54edb34ad917eb95fa}{kMaxInline}}\ +\ 1,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00467\ \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(\mbox{\hyperlink{namespaceabsl_1_1cord__internal_a56fe0ad667e57d494ab562df08ad0e26}{cordz\_info\_t}})\ >=\ \textcolor{keyword}{sizeof}(intptr\_t),\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00468\ }
\DoxyCodeLine{00469\ \textcolor{comment}{//\ LittleEndianByte()\ creates\ a\ little\ endian\ representation\ of\ 'value',\ i.e.:}}
\DoxyCodeLine{00470\ \textcolor{comment}{//\ a\ little\ endian\ value\ where\ the\ first\ byte\ in\ the\ host's\ representation}}
\DoxyCodeLine{00471\ \textcolor{comment}{//\ holds\ 'value`,\ with\ all\ other\ bytes\ being\ 0.}}
\DoxyCodeLine{00472\ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a56fe0ad667e57d494ab562df08ad0e26}{cordz\_info\_t}}\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a129985d4f47503f010f39a9b7a173aef}{LittleEndianByte}}(\textcolor{keywordtype}{unsigned}\ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_a54c2bae0f8aeed048a397b0618037252}{value}})\ \{}
\DoxyCodeLine{00473\ \textcolor{preprocessor}{\#if\ defined(ABSL\_IS\_BIG\_ENDIAN)}}
\DoxyCodeLine{00474\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceabsl_1_1cord__internal_a56fe0ad667e57d494ab562df08ad0e26}{cordz\_info\_t}}\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_a54c2bae0f8aeed048a397b0618037252}{value}})\ <<\ ((\textcolor{keyword}{sizeof}(\mbox{\hyperlink{namespaceabsl_1_1cord__internal_a56fe0ad667e57d494ab562df08ad0e26}{cordz\_info\_t}})\ -\/\ 1)\ *\ 8);}
\DoxyCodeLine{00475\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00476\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2flat__hash__map__test_8cc_a54c2bae0f8aeed048a397b0618037252}{value}};}
\DoxyCodeLine{00477\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00478\ \}}
\DoxyCodeLine{00479\ }
\DoxyCodeLine{00480\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData}{InlineData}}\ \{}
\DoxyCodeLine{00481\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00482\ \ \ \textcolor{comment}{//\ DefaultInitType\ forces\ the\ use\ of\ the\ default\ initialization\ constructor.}}
\DoxyCodeLine{00483\ \ \ \textcolor{keyword}{enum}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a2d86f5757238698385413327e3b78d96}{DefaultInitType}}\ \{\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a2d86f5757238698385413327e3b78d96a646039504eb8426d0f05cc3ccf764e15}{kDefaultInit}}\ \};}
\DoxyCodeLine{00484\ }
\DoxyCodeLine{00485\ \ \ \textcolor{comment}{//\ kNullCordzInfo\ holds\ the\ little\ endian\ representation\ of\ intptr\_t(1)}}
\DoxyCodeLine{00486\ \ \ \textcolor{comment}{//\ This\ is\ the\ 'null'\ /\ initial\ value\ of\ 'cordz\_info'.\ The\ null\ value}}
\DoxyCodeLine{00487\ \ \ \textcolor{comment}{//\ is\ specifically\ big\ endian\ 1\ as\ with\ 64-\/bit\ pointers,\ the\ last}}
\DoxyCodeLine{00488\ \ \ \textcolor{comment}{//\ byte\ of\ cordz\_info\ overlaps\ with\ the\ last\ byte\ holding\ the\ tag.}}
\DoxyCodeLine{00489\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a56fe0ad667e57d494ab562df08ad0e26}{cordz\_info\_t}}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a34b6a04be42bc14ba101b18c1bd3ad84}{kNullCordzInfo}}\ =\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a129985d4f47503f010f39a9b7a173aef}{LittleEndianByte}}(1);}
\DoxyCodeLine{00490\ }
\DoxyCodeLine{00491\ \ \ \textcolor{comment}{//\ kTagOffset\ contains\ the\ offset\ of\ the\ control\ byte\ /\ tag.\ This\ constant\ is}}
\DoxyCodeLine{00492\ \ \ \textcolor{comment}{//\ intended\ mostly\ for\ debugging\ purposes:\ do\ not\ remove\ this\ constant\ as\ it}}
\DoxyCodeLine{00493\ \ \ \textcolor{comment}{//\ is\ actively\ inspected\ and\ used\ by\ gdb\ pretty\ printing\ code.}}
\DoxyCodeLine{00494\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_af340e66a31d46b76c83f00aa562a378e}{kTagOffset}}\ =\ 0;}
\DoxyCodeLine{00495\ }
\DoxyCodeLine{00496\ \ \ \textcolor{comment}{//\ Implement\ \`{}\string~InlineData()`\ conditionally:\ we\ only\ need\ this\ destructor\ to}}
\DoxyCodeLine{00497\ \ \ \textcolor{comment}{//\ unpoison\ poisoned\ instances\ under\ *SAN,\ and\ it\ will\ only\ compile\ correctly}}
\DoxyCodeLine{00498\ \ \ \textcolor{comment}{//\ if\ the\ current\ compiler\ supports\ \`{}absl::is\_constant\_evaluated()`.}}
\DoxyCodeLine{00499\ \textcolor{preprocessor}{\#ifdef\ ABSL\_INTERNAL\_CORD\_HAVE\_SANITIZER}}
\DoxyCodeLine{00500\ \ \ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData}{\string~InlineData}}()\ noexcept\ \{\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_ae1de53e533aaec430d999a58f602cf74}{unpoison}}();\ \}}
\DoxyCodeLine{00501\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00502\ }
\DoxyCodeLine{00503\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a690ed47efc806699299e80ebc939020b}{InlineData}}()\ noexcept\ \{\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a17f0984bcc3d10e3fa242e23b1f037af}{poison\_this}}();\ \}}
\DoxyCodeLine{00504\ }
\DoxyCodeLine{00505\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a2b6ae9803d410a97d83360bf56b8617a}{InlineData}}(\mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a2d86f5757238698385413327e3b78d96}{DefaultInitType}})\ noexcept\ :\ rep\_(\mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a2d86f5757238698385413327e3b78d96a646039504eb8426d0f05cc3ccf764e15}{kDefaultInit}})\ \{}
\DoxyCodeLine{00506\ \ \ \ \ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a17f0984bcc3d10e3fa242e23b1f037af}{poison\_this}}();}
\DoxyCodeLine{00507\ \ \ \}}
\DoxyCodeLine{00508\ }
\DoxyCodeLine{00509\ \ \ \textcolor{keyword}{explicit}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_aa721a93a6f281a0857c72f23063cbc8b}{InlineData}}(\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep}{CordRep}}*\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}})\ noexcept\ :\ rep\_(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}})\ \{}
\DoxyCodeLine{00510\ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2base_2macros_8h_a4d70d2bd0537c88540bb8a58bd3c9074}{ABSL\_ASSERT}}(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}}\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00511\ \ \ \}}
\DoxyCodeLine{00512\ }
\DoxyCodeLine{00513\ \ \ \textcolor{comment}{//\ Explicit\ constexpr\ constructor\ to\ create\ a\ constexpr\ InlineData}}
\DoxyCodeLine{00514\ \ \ \textcolor{comment}{//\ value.\ Creates\ an\ inlined\ SSO\ value\ if\ \`{}rep`\ is\ null,\ otherwise}}
\DoxyCodeLine{00515\ \ \ \textcolor{comment}{//\ creates\ a\ tree\ instance\ value.}}
\DoxyCodeLine{00516\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a9809e055985473a5bfb9bcef0b61c4d3}{InlineData}}(\mbox{\hyperlink{classabsl_1_1string__view}{absl::string\_view}}\ sv,\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep}{CordRep}}*\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}})\ noexcept}
\DoxyCodeLine{00517\ \ \ \ \ \ \ :\ rep\_(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}}\ ?\ Rep(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}})\ :\ Rep(sv))\ \{}
\DoxyCodeLine{00518\ \ \ \ \ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a00c40c5581a14256f4e635649b1aaa80}{poison}}();}
\DoxyCodeLine{00519\ \ \ \}}
\DoxyCodeLine{00520\ }
\DoxyCodeLine{00521\ \ \ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a2344d0d477467c5bffaa5135ab166800}{InlineData}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData}{InlineData}}\&\ rhs)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00522\ \ \ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData}{InlineData}}\&\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a3e7928b67d6b5d9c6864aaf5cdfdc91d}{operator=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData}{InlineData}}\&\ rhs)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00523\ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a9d2dc1989ef2875af5c93ebc3f894987}{swap}}(\mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData}{InlineData}}\&\ lhs,\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData}{InlineData}}\&\ rhs)\ \textcolor{keyword}{noexcept};}
\DoxyCodeLine{00524\ }
\DoxyCodeLine{00525\ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a2b8578fa41d02d3728e1ba89abacbd93}{operator==}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData}{InlineData}}\&\ lhs,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData}{InlineData}}\&\ rhs)\ \{}
\DoxyCodeLine{00526\ \textcolor{preprocessor}{\#ifdef\ ABSL\_INTERNAL\_CORD\_HAVE\_SANITIZER}}
\DoxyCodeLine{00527\ \ \ \ \ \textcolor{keyword}{const}\ Rep\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2db95e8e1a9267b7a1188556b2013b33}{l}}\ =\ lhs.rep\_.SanitizerSafeCopy();}
\DoxyCodeLine{00528\ \ \ \ \ \textcolor{keyword}{const}\ Rep\ r\ =\ rhs.rep\_.SanitizerSafeCopy();}
\DoxyCodeLine{00529\ \ \ \ \ \textcolor{keywordflow}{return}\ memcmp(\&\mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2db95e8e1a9267b7a1188556b2013b33}{l}},\ \&r,\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba2db95e8e1a9267b7a1188556b2013b33}{l}}))\ ==\ 0;}
\DoxyCodeLine{00530\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00531\ \ \ \ \ \textcolor{keywordflow}{return}\ memcmp(\&lhs,\ \&rhs,\ \textcolor{keyword}{sizeof}(lhs))\ ==\ 0;}
\DoxyCodeLine{00532\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00533\ \ \ \}}
\DoxyCodeLine{00534\ \ \ \textcolor{keyword}{friend}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a9c473a715ac5576b3231d3eea8eb0f11}{operator!=}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData}{InlineData}}\&\ lhs,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData}{InlineData}}\&\ rhs)\ \{}
\DoxyCodeLine{00535\ \ \ \ \ \textcolor{keywordflow}{return}\ !\mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a2b8578fa41d02d3728e1ba89abacbd93}{operator==}}(lhs,\ rhs);}
\DoxyCodeLine{00536\ \ \ \}}
\DoxyCodeLine{00537\ }
\DoxyCodeLine{00538\ \ \ \textcolor{comment}{//\ Poisons\ the\ unused\ inlined\ SSO\ data\ if\ the\ current\ instance}}
\DoxyCodeLine{00539\ \ \ \textcolor{comment}{//\ is\ inlined,\ else\ un-\/poisons\ the\ entire\ instance.}}
\DoxyCodeLine{00540\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a00c40c5581a14256f4e635649b1aaa80}{poison}}();}
\DoxyCodeLine{00541\ }
\DoxyCodeLine{00542\ \ \ \textcolor{comment}{//\ Un-\/poisons\ this\ instance.}}
\DoxyCodeLine{00543\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_ae1de53e533aaec430d999a58f602cf74}{unpoison}}();}
\DoxyCodeLine{00544\ }
\DoxyCodeLine{00545\ \ \ \textcolor{comment}{//\ Poisons\ the\ current\ instance.\ This\ is\ used\ on\ default\ initialization.}}
\DoxyCodeLine{00546\ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a17f0984bcc3d10e3fa242e23b1f037af}{poison\_this}}();}
\DoxyCodeLine{00547\ }
\DoxyCodeLine{00548\ \ \ \textcolor{comment}{//\ Returns\ true\ if\ the\ current\ instance\ is\ empty.}}
\DoxyCodeLine{00549\ \ \ \textcolor{comment}{//\ The\ 'empty\ value'\ is\ an\ inlined\ data\ value\ of\ zero\ length.}}
\DoxyCodeLine{00550\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a7f5beca958fa00f6bd589b76d8bc1b8a}{is\_empty}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ rep\_.tag()\ ==\ 0;\ \}}
\DoxyCodeLine{00551\ }
\DoxyCodeLine{00552\ \ \ \textcolor{comment}{//\ Returns\ true\ if\ the\ current\ instance\ holds\ a\ tree\ value.}}
\DoxyCodeLine{00553\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a8c07ed6cd26ced66457c2470d3618766}{is\_tree}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ (rep\_.tag()\ \&\ 1)\ !=\ 0;\ \}}
\DoxyCodeLine{00554\ }
\DoxyCodeLine{00555\ \ \ \textcolor{comment}{//\ Returns\ true\ if\ the\ current\ instance\ holds\ a\ cordz\_info\ value.}}
\DoxyCodeLine{00556\ \ \ \textcolor{comment}{//\ Requires\ the\ current\ instance\ to\ hold\ a\ tree\ value.}}
\DoxyCodeLine{00557\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a8bf416fab4fd103401273d62d081e307}{is\_profiled}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00558\ \ \ \ \ assert(\mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a8c07ed6cd26ced66457c2470d3618766}{is\_tree}}());}
\DoxyCodeLine{00559\ \ \ \ \ \textcolor{keywordflow}{return}\ rep\_.cordz\_info()\ !=\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a34b6a04be42bc14ba101b18c1bd3ad84}{kNullCordzInfo}};}
\DoxyCodeLine{00560\ \ \ \}}
\DoxyCodeLine{00561\ }
\DoxyCodeLine{00562\ \ \ \textcolor{comment}{//\ Returns\ true\ if\ either\ of\ the\ provided\ instances\ hold\ a\ cordz\_info\ value.}}
\DoxyCodeLine{00563\ \ \ \textcolor{comment}{//\ This\ method\ is\ more\ efficient\ than\ the\ equivalent\ \`{}data1.is\_profiled()\ ||}}
\DoxyCodeLine{00564\ \ \ \textcolor{comment}{//\ data2.is\_profiled()`.\ Requires\ both\ arguments\ to\ hold\ a\ tree.}}
\DoxyCodeLine{00565\ \ \ \textcolor{keyword}{static}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a03388a1a6c00afcd33421e77d3bd9726}{is\_either\_profiled}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData}{InlineData}}\&\ data1,}
\DoxyCodeLine{00566\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData}{InlineData}}\&\ data2)\ \{}
\DoxyCodeLine{00567\ \ \ \ \ assert(data1.\mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a8c07ed6cd26ced66457c2470d3618766}{is\_tree}}()\ \&\&\ data2.\mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a8c07ed6cd26ced66457c2470d3618766}{is\_tree}}());}
\DoxyCodeLine{00568\ \ \ \ \ \textcolor{keywordflow}{return}\ (data1.rep\_.cordz\_info()\ |\ data2.rep\_.cordz\_info())\ !=}
\DoxyCodeLine{00569\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a34b6a04be42bc14ba101b18c1bd3ad84}{kNullCordzInfo}};}
\DoxyCodeLine{00570\ \ \ \}}
\DoxyCodeLine{00571\ }
\DoxyCodeLine{00572\ \ \ \textcolor{comment}{//\ Returns\ the\ cordz\_info\ sampling\ instance\ for\ this\ instance,\ or\ nullptr}}
\DoxyCodeLine{00573\ \ \ \textcolor{comment}{//\ if\ the\ current\ instance\ is\ not\ sampled\ and\ does\ not\ have\ CordzInfo\ data.}}
\DoxyCodeLine{00574\ \ \ \textcolor{comment}{//\ Requires\ the\ current\ instance\ to\ hold\ a\ tree\ value.}}
\DoxyCodeLine{00575\ \ \ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1CordzInfo}{CordzInfo}}*\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a95dd44aac4e4a91a996936267b8b57e6}{cordz\_info}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00576\ \ \ \ \ assert(\mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a8c07ed6cd26ced66457c2470d3618766}{is\_tree}}());}
\DoxyCodeLine{00577\ \ \ \ \ intptr\_t\ info\ =\ \textcolor{keyword}{static\_cast<}intptr\_t\textcolor{keyword}{>}(absl::little\_endian::ToHost64(}
\DoxyCodeLine{00578\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}uint64\_t\textcolor{keyword}{>}(rep\_.cordz\_info())));}
\DoxyCodeLine{00579\ \ \ \ \ assert(info\ \&\ 1);}
\DoxyCodeLine{00580\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{classabsl_1_1cord__internal_1_1CordzInfo}{CordzInfo}}*\textcolor{keyword}{>}(info\ -\/\ 1);}
\DoxyCodeLine{00581\ \ \ \}}
\DoxyCodeLine{00582\ }
\DoxyCodeLine{00583\ \ \ \textcolor{comment}{//\ Sets\ the\ current\ cordz\_info\ sampling\ instance\ for\ this\ instance,\ or\ nullptr}}
\DoxyCodeLine{00584\ \ \ \textcolor{comment}{//\ if\ the\ current\ instance\ is\ not\ sampled\ and\ does\ not\ have\ CordzInfo\ data.}}
\DoxyCodeLine{00585\ \ \ \textcolor{comment}{//\ Requires\ the\ current\ instance\ to\ hold\ a\ tree\ value.}}
\DoxyCodeLine{00586\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a7ffbce0033572914dd69331dbbb3b74c}{set\_cordz\_info}}(\mbox{\hyperlink{classabsl_1_1cord__internal_1_1CordzInfo}{CordzInfo}}*\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a95dd44aac4e4a91a996936267b8b57e6}{cordz\_info}})\ \{}
\DoxyCodeLine{00587\ \ \ \ \ assert(\mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a8c07ed6cd26ced66457c2470d3618766}{is\_tree}}());}
\DoxyCodeLine{00588\ \ \ \ \ uintptr\_t\ info\ =\ \textcolor{keyword}{reinterpret\_cast<}uintptr\_t\textcolor{keyword}{>}(\mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a95dd44aac4e4a91a996936267b8b57e6}{cordz\_info}})\ |\ 1;}
\DoxyCodeLine{00589\ \ \ \ \ rep\_.set\_cordz\_info(}
\DoxyCodeLine{00590\ \ \ \ \ \ \ \ \ \textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceabsl_1_1cord__internal_a56fe0ad667e57d494ab562df08ad0e26}{cordz\_info\_t}}\textcolor{keyword}{>}(absl::little\_endian::FromHost64(info)));}
\DoxyCodeLine{00591\ \ \ \}}
\DoxyCodeLine{00592\ }
\DoxyCodeLine{00593\ \ \ \textcolor{comment}{//\ Resets\ the\ current\ cordz\_info\ to\ null\ /\ empty.}}
\DoxyCodeLine{00594\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_aad2d838dd2862dcafb82dfe222e4f280}{clear\_cordz\_info}}()\ \{}
\DoxyCodeLine{00595\ \ \ \ \ assert(\mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a8c07ed6cd26ced66457c2470d3618766}{is\_tree}}());}
\DoxyCodeLine{00596\ \ \ \ \ rep\_.set\_cordz\_info(\mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a34b6a04be42bc14ba101b18c1bd3ad84}{kNullCordzInfo}});}
\DoxyCodeLine{00597\ \ \ \}}
\DoxyCodeLine{00598\ }
\DoxyCodeLine{00599\ \ \ \textcolor{comment}{//\ Returns\ a\ read\ only\ pointer\ to\ the\ character\ data\ inside\ this\ instance.}}
\DoxyCodeLine{00600\ \ \ \textcolor{comment}{//\ Requires\ the\ current\ instance\ to\ hold\ inline\ data.}}
\DoxyCodeLine{00601\ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a59f7c80639199e08aeb6f444e9dddc00}{as\_chars}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00602\ \ \ \ \ assert(!\mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a8c07ed6cd26ced66457c2470d3618766}{is\_tree}}());}
\DoxyCodeLine{00603\ \ \ \ \ \textcolor{keywordflow}{return}\ rep\_.as\_chars();}
\DoxyCodeLine{00604\ \ \ \}}
\DoxyCodeLine{00605\ }
\DoxyCodeLine{00606\ \ \ \textcolor{comment}{//\ Returns\ a\ mutable\ pointer\ to\ the\ character\ data\ inside\ this\ instance.}}
\DoxyCodeLine{00607\ \ \ \textcolor{comment}{//\ Should\ be\ used\ for\ 'write\ only'\ operations\ setting\ an\ inlined\ value.}}
\DoxyCodeLine{00608\ \ \ \textcolor{comment}{//\ Applications\ can\ set\ the\ value\ of\ inlined\ data\ either\ before\ or\ after}}
\DoxyCodeLine{00609\ \ \ \textcolor{comment}{//\ setting\ the\ inlined\ size,\ i.e.,\ both\ of\ the\ below\ are\ valid:}}
\DoxyCodeLine{00610\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00611\ \ \ \textcolor{comment}{//\ \ \ //\ Set\ inlined\ data\ and\ inline\ size}}
\DoxyCodeLine{00612\ \ \ \textcolor{comment}{//\ \ \ memcpy(data\_.as\_chars(),\ data,\ size);}}
\DoxyCodeLine{00613\ \ \ \textcolor{comment}{//\ \ \ data\_.set\_inline\_size(size);}}
\DoxyCodeLine{00614\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00615\ \ \ \textcolor{comment}{//\ \ \ //\ Set\ inlined\ size\ and\ inline\ data}}
\DoxyCodeLine{00616\ \ \ \textcolor{comment}{//\ \ \ data\_.set\_inline\_size(size);}}
\DoxyCodeLine{00617\ \ \ \textcolor{comment}{//\ \ \ memcpy(data\_.as\_chars(),\ data,\ size);}}
\DoxyCodeLine{00618\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00619\ \ \ \textcolor{comment}{//\ It's\ an\ error\ to\ read\ from\ the\ returned\ pointer\ without\ a\ preceding\ write}}
\DoxyCodeLine{00620\ \ \ \textcolor{comment}{//\ if\ the\ current\ instance\ does\ not\ hold\ inline\ data,\ i.e.:\ is\_tree()\ ==\ true.}}
\DoxyCodeLine{00621\ \ \ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a1541d886aa773407d20c44c4cb48191a}{as\_chars}}()\ \{\ \textcolor{keywordflow}{return}\ rep\_.as\_chars();\ \}}
\DoxyCodeLine{00622\ }
\DoxyCodeLine{00623\ \ \ \textcolor{comment}{//\ Returns\ the\ tree\ value\ of\ this\ value.}}
\DoxyCodeLine{00624\ \ \ \textcolor{comment}{//\ Requires\ the\ current\ instance\ to\ hold\ a\ tree\ value.}}
\DoxyCodeLine{00625\ \ \ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep}{CordRep}}*\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a4cd9c21726efe5f41baea50b513f3faf}{as\_tree}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00626\ \ \ \ \ assert(\mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a8c07ed6cd26ced66457c2470d3618766}{is\_tree}}());}
\DoxyCodeLine{00627\ \ \ \ \ \textcolor{keywordflow}{return}\ rep\_.tree();}
\DoxyCodeLine{00628\ \ \ \}}
\DoxyCodeLine{00629\ }
\DoxyCodeLine{00630\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_acb2e45b16e268e1dd4ba8fe3370c41f0}{set\_inline\_data}}(\textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}},\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}})\ \{}
\DoxyCodeLine{00631\ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2base_2macros_8h_a4d70d2bd0537c88540bb8a58bd3c9074}{ABSL\_ASSERT}}(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}}\ <=\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_aa5f07cb4ae78d6372088311e9a7b8f54a67b1fe8491a99c54edb34ad917eb95fa}{kMaxInline}});}
\DoxyCodeLine{00632\ \ \ \ \ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_ae1de53e533aaec430d999a58f602cf74}{unpoison}}();}
\DoxyCodeLine{00633\ \ \ \ \ rep\_.set\_tag(\textcolor{keyword}{static\_cast<}int8\_t\textcolor{keyword}{>}(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}}\ <<\ 1));}
\DoxyCodeLine{00634\ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a3b2a64ca84fc943693cc4133ee93b6d7}{SmallMemmove<true>}}(rep\_.as\_chars(),\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}},\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca7b8b965ad4bca0e41ab51de7b31363a1}{n}});}
\DoxyCodeLine{00635\ \ \ \ \ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a00c40c5581a14256f4e635649b1aaa80}{poison}}();}
\DoxyCodeLine{00636\ \ \ \}}
\DoxyCodeLine{00637\ }
\DoxyCodeLine{00638\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a73c8e036fadd14b98db1f428b88a9f98}{copy\_max\_inline\_to}}(\textcolor{keywordtype}{char}*\ dst)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00639\ \ \ \ \ assert(!\mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a8c07ed6cd26ced66457c2470d3618766}{is\_tree}}());}
\DoxyCodeLine{00640\ \ \ \ \ memcpy(dst,\ rep\_.SanitizerSafeCopy().as\_chars(),\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_aa5f07cb4ae78d6372088311e9a7b8f54a67b1fe8491a99c54edb34ad917eb95fa}{kMaxInline}});}
\DoxyCodeLine{00641\ \ \ \}}
\DoxyCodeLine{00642\ }
\DoxyCodeLine{00643\ \ \ \textcolor{comment}{//\ Initialize\ this\ instance\ to\ holding\ the\ tree\ value\ \`{}rep`,}}
\DoxyCodeLine{00644\ \ \ \textcolor{comment}{//\ initializing\ the\ cordz\_info\ to\ null,\ i.e.:\ 'not\ profiled'.}}
\DoxyCodeLine{00645\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a552c2b8159a846ebd64d84e8391a7174}{make\_tree}}(\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep}{CordRep}}*\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}})\ \{}
\DoxyCodeLine{00646\ \ \ \ \ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_ae1de53e533aaec430d999a58f602cf74}{unpoison}}();}
\DoxyCodeLine{00647\ \ \ \ \ rep\_.make\_tree(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}});}
\DoxyCodeLine{00648\ \ \ \}}
\DoxyCodeLine{00649\ }
\DoxyCodeLine{00650\ \ \ \textcolor{comment}{//\ Set\ the\ tree\ value\ of\ this\ instance\ to\ 'rep`.}}
\DoxyCodeLine{00651\ \ \ \textcolor{comment}{//\ Requires\ the\ current\ instance\ to\ already\ hold\ a\ tree\ value.}}
\DoxyCodeLine{00652\ \ \ \textcolor{comment}{//\ Does\ not\ affect\ the\ value\ of\ cordz\_info.}}
\DoxyCodeLine{00653\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a1d6eddf70e76c10896f9261e5f757427}{set\_tree}}(\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep}{CordRep}}*\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}})\ \{}
\DoxyCodeLine{00654\ \ \ \ \ assert(\mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a8c07ed6cd26ced66457c2470d3618766}{is\_tree}}());}
\DoxyCodeLine{00655\ \ \ \ \ rep\_.set\_tree(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}});}
\DoxyCodeLine{00656\ \ \ \}}
\DoxyCodeLine{00657\ }
\DoxyCodeLine{00658\ \ \ \textcolor{comment}{//\ Returns\ the\ size\ of\ the\ inlined\ character\ data\ inside\ this\ instance.}}
\DoxyCodeLine{00659\ \ \ \textcolor{comment}{//\ Requires\ the\ current\ instance\ to\ hold\ inline\ data.}}
\DoxyCodeLine{00660\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_aa8501f8c824f9a177e2015066a176bde}{inline\_size}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ rep\_.inline\_size();\ \}}
\DoxyCodeLine{00661\ }
\DoxyCodeLine{00662\ \ \ \textcolor{comment}{//\ Sets\ the\ size\ of\ the\ inlined\ character\ data\ inside\ this\ instance.}}
\DoxyCodeLine{00663\ \ \ \textcolor{comment}{//\ Requires\ \`{}size`\ to\ be\ <=\ kMaxInline.}}
\DoxyCodeLine{00664\ \ \ \textcolor{comment}{//\ See\ the\ documentation\ on\ 'as\_chars()'\ for\ more\ information\ and\ examples.}}
\DoxyCodeLine{00665\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a0b8e48331136091df3561aeeb9365b37}{set\_inline\_size}}(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc_8cc_aad9b71a31372d5c0ab9c23163efe9544}{size}})\ \{}
\DoxyCodeLine{00666\ \ \ \ \ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_ae1de53e533aaec430d999a58f602cf74}{unpoison}}();}
\DoxyCodeLine{00667\ \ \ \ \ rep\_.set\_inline\_size(\mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc_8cc_aad9b71a31372d5c0ab9c23163efe9544}{size}});}
\DoxyCodeLine{00668\ \ \ \ \ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a00c40c5581a14256f4e635649b1aaa80}{poison}}();}
\DoxyCodeLine{00669\ \ \ \}}
\DoxyCodeLine{00670\ }
\DoxyCodeLine{00671\ \ \ \textcolor{comment}{//\ Compares\ 'this'\ inlined\ data\ \ with\ rhs.\ The\ comparison\ is\ a\ straightforward}}
\DoxyCodeLine{00672\ \ \ \textcolor{comment}{//\ lexicographic\ comparison.\ \`{}Compare()`\ returns\ values\ as\ follows:}}
\DoxyCodeLine{00673\ \ \ \textcolor{comment}{//}}
\DoxyCodeLine{00674\ \ \ \textcolor{comment}{//\ \ \ -\/1\ \ 'this'\ InlineData\ instance\ is\ smaller}}
\DoxyCodeLine{00675\ \ \ \textcolor{comment}{//\ \ \ \ 0\ \ the\ InlineData\ instances\ are\ equal}}
\DoxyCodeLine{00676\ \ \ \textcolor{comment}{//\ \ \ \ 1\ \ 'this'\ InlineData\ instance\ larger}}
\DoxyCodeLine{00677\ \ \ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a8d94ee149d0b8caab1a8e7c76532ed00}{Compare}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData}{InlineData}}\&\ rhs)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00678\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a8d94ee149d0b8caab1a8e7c76532ed00}{Compare}}(rep\_.SanitizerSafeCopy(),\ rhs.rep\_.SanitizerSafeCopy());}
\DoxyCodeLine{00679\ \ \ \}}
\DoxyCodeLine{00680\ }
\DoxyCodeLine{00681\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00682\ \ \ \textcolor{keyword}{struct\ }Rep\ \{}
\DoxyCodeLine{00683\ \ \ \ \ \textcolor{comment}{//\ See\ cordz\_info\_t\ for\ forced\ alignment\ and\ size\ of\ \`{}cordz\_info`\ details.}}
\DoxyCodeLine{00684\ \ \ \ \ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1cord__internal_1_1InlineData_1_1Rep_1_1AsTree}{AsTree}}\ \{}
\DoxyCodeLine{00685\ \ \ \ \ \ \ \textcolor{keyword}{explicit}\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1InlineData_1_1Rep_1_1AsTree_aca16d1860f61426076e4b1c5a97cd06f}{AsTree}}(\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep}{absl::cord\_internal::CordRep}}*\ tree)}
\DoxyCodeLine{00686\ \ \ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1InlineData_1_1Rep_1_1AsTree_af75edddec74c0483dc1ec9a1f5f4c424}{rep}}(tree)\ \{\}}
\DoxyCodeLine{00687\ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a56fe0ad667e57d494ab562df08ad0e26}{cordz\_info\_t}}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1InlineData_1_1Rep_1_1AsTree_ad9cecefc4beebc0e79f1b29cf34a3bb4}{cordz\_info}}\ =\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a34b6a04be42bc14ba101b18c1bd3ad84}{kNullCordzInfo}};}
\DoxyCodeLine{00688\ \ \ \ \ \ \ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep}{absl::cord\_internal::CordRep}}*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1InlineData_1_1Rep_1_1AsTree_af75edddec74c0483dc1ec9a1f5f4c424}{rep}};}
\DoxyCodeLine{00689\ \ \ \ \ \};}
\DoxyCodeLine{00690\ }
\DoxyCodeLine{00691\ \ \ \ \ \textcolor{keyword}{explicit}\ Rep(\mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a2d86f5757238698385413327e3b78d96}{DefaultInitType}})\ \{\}}
\DoxyCodeLine{00692\ \ \ \ \ \textcolor{keyword}{constexpr}\ Rep()\ :\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}\{0\}\ \{\}}
\DoxyCodeLine{00693\ \ \ \ \ \textcolor{keyword}{constexpr}\ Rep(\textcolor{keyword}{const}\ Rep\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00694\ \ \ \ \ \textcolor{keyword}{constexpr}\ Rep\&\ operator=(\textcolor{keyword}{const}\ Rep\&)\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00695\ }
\DoxyCodeLine{00696\ \ \ \ \ \textcolor{keyword}{explicit}\ \textcolor{keyword}{constexpr}\ Rep(CordRep*\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}})\ :\ as\_tree(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}})\ \{\}}
\DoxyCodeLine{00697\ }
\DoxyCodeLine{00698\ \ \ \ \ \textcolor{keyword}{explicit}\ \textcolor{keyword}{constexpr}\ Rep(\mbox{\hyperlink{classabsl_1_1string__view}{absl::string\_view}}\ chars)}
\DoxyCodeLine{00699\ \ \ \ \ \ \ \ \ :\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}\{static\_cast<char>((chars.\mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc_8cc_aad9b71a31372d5c0ab9c23163efe9544}{size}}()\ <<\ 1)),}
\DoxyCodeLine{00700\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a303e30b9b6457dc87f3ba687483f2e54}{GetOrNull}}(chars,\ 0),}
\DoxyCodeLine{00701\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a303e30b9b6457dc87f3ba687483f2e54}{GetOrNull}}(chars,\ 1),}
\DoxyCodeLine{00702\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a303e30b9b6457dc87f3ba687483f2e54}{GetOrNull}}(chars,\ 2),}
\DoxyCodeLine{00703\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a303e30b9b6457dc87f3ba687483f2e54}{GetOrNull}}(chars,\ 3),}
\DoxyCodeLine{00704\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a303e30b9b6457dc87f3ba687483f2e54}{GetOrNull}}(chars,\ 4),}
\DoxyCodeLine{00705\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a303e30b9b6457dc87f3ba687483f2e54}{GetOrNull}}(chars,\ 5),}
\DoxyCodeLine{00706\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a303e30b9b6457dc87f3ba687483f2e54}{GetOrNull}}(chars,\ 6),}
\DoxyCodeLine{00707\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a303e30b9b6457dc87f3ba687483f2e54}{GetOrNull}}(chars,\ 7),}
\DoxyCodeLine{00708\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a303e30b9b6457dc87f3ba687483f2e54}{GetOrNull}}(chars,\ 8),}
\DoxyCodeLine{00709\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a303e30b9b6457dc87f3ba687483f2e54}{GetOrNull}}(chars,\ 9),}
\DoxyCodeLine{00710\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a303e30b9b6457dc87f3ba687483f2e54}{GetOrNull}}(chars,\ 10),}
\DoxyCodeLine{00711\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a303e30b9b6457dc87f3ba687483f2e54}{GetOrNull}}(chars,\ 11),}
\DoxyCodeLine{00712\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a303e30b9b6457dc87f3ba687483f2e54}{GetOrNull}}(chars,\ 12),}
\DoxyCodeLine{00713\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a303e30b9b6457dc87f3ba687483f2e54}{GetOrNull}}(chars,\ 13),}
\DoxyCodeLine{00714\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a303e30b9b6457dc87f3ba687483f2e54}{GetOrNull}}(chars,\ 14)\}\ \{\}}
\DoxyCodeLine{00715\ }
\DoxyCodeLine{00716\ \textcolor{preprocessor}{\#ifdef\ ABSL\_INTERNAL\_CORD\_HAVE\_SANITIZER}}
\DoxyCodeLine{00717\ \ \ \ \ \textcolor{comment}{//\ Break\ compiler\ optimization\ for\ cases\ when\ value\ is\ allocated\ on\ the}}
\DoxyCodeLine{00718\ \ \ \ \ \textcolor{comment}{//\ stack.\ Compiler\ assumes\ that\ the\ the\ variable\ is\ fully\ accessible}}
\DoxyCodeLine{00719\ \ \ \ \ \textcolor{comment}{//\ regardless\ of\ our\ poisoning.}}
\DoxyCodeLine{00720\ \ \ \ \ \textcolor{comment}{//\ Missing\ report:\ https://github.com/llvm/llvm-\/project/issues/100640}}
\DoxyCodeLine{00721\ \ \ \ \ \textcolor{keyword}{const}\ Rep*\ self()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00722\ \ \ \ \ \ \ \textcolor{keyword}{const}\ Rep*\ \textcolor{keyword}{volatile}\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc__test_8cc_a935adc2e417a61d7eb6f04efb18ba031}{ptr}}\ =\ \textcolor{keyword}{this};}
\DoxyCodeLine{00723\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc__test_8cc_a935adc2e417a61d7eb6f04efb18ba031}{ptr}};}
\DoxyCodeLine{00724\ \ \ \ \ \}}
\DoxyCodeLine{00725\ \ \ \ \ Rep*\ self()\ \{}
\DoxyCodeLine{00726\ \ \ \ \ \ \ Rep*\ \textcolor{keyword}{volatile}\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc__test_8cc_a935adc2e417a61d7eb6f04efb18ba031}{ptr}}\ =\ \textcolor{keyword}{this};}
\DoxyCodeLine{00727\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc__test_8cc_a935adc2e417a61d7eb6f04efb18ba031}{ptr}};}
\DoxyCodeLine{00728\ \ \ \ \ \}}
\DoxyCodeLine{00729\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00730\ \ \ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{const}\ Rep*\ self()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{this};\ \}}
\DoxyCodeLine{00731\ \ \ \ \ \textcolor{keyword}{constexpr}\ Rep*\ self()\ \{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{this};\ \}}
\DoxyCodeLine{00732\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00733\ }
\DoxyCodeLine{00734\ \ \ \ \ \textcolor{comment}{//\ Disable\ sanitizer\ as\ we\ must\ always\ be\ able\ to\ read\ \`{}tag`.}}
\DoxyCodeLine{00735\ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2cord__internal_8h_acb82d1eac2c2159dfcb6611105dbd525}{ABSL\_CORD\_INTERNAL\_NO\_SANITIZE}}}
\DoxyCodeLine{00736\ \ \ \ \ \mbox{\hyperlink{namespaceEigen_1_1numext_a4ee778e5a09bde3e01896411e6273058}{int8\_t}}\ tag()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \textcolor{keyword}{reinterpret\_cast<}\textcolor{keyword}{const\ }\mbox{\hyperlink{namespaceEigen_1_1numext_a4ee778e5a09bde3e01896411e6273058}{int8\_t}}*\textcolor{keyword}{>}(\textcolor{keyword}{this})[0];\ \}}
\DoxyCodeLine{00737\ \ \ \ \ \textcolor{keywordtype}{void}\ set\_tag(int8\_t\ rhs)\ \{\ \textcolor{keyword}{reinterpret\_cast<}\mbox{\hyperlink{namespaceEigen_1_1numext_a4ee778e5a09bde3e01896411e6273058}{int8\_t}}*\textcolor{keyword}{>}(self())[0]\ =\ rhs;\ \}}
\DoxyCodeLine{00738\ }
\DoxyCodeLine{00739\ \ \ \ \ \textcolor{keywordtype}{char}*\ as\_chars()\ \{\ \textcolor{keywordflow}{return}\ self()-\/>data\ +\ 1;\ \}}
\DoxyCodeLine{00740\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ as\_chars()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ self()-\/>data\ +\ 1;\ \}}
\DoxyCodeLine{00741\ }
\DoxyCodeLine{00742\ \ \ \ \ \textcolor{keywordtype}{bool}\ is\_tree()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ (self()-\/>tag()\ \&\ 1)\ !=\ 0;\ \}}
\DoxyCodeLine{00743\ }
\DoxyCodeLine{00744\ \ \ \ \ \textcolor{keywordtype}{size\_t}\ inline\_size()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00745\ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2base_2macros_8h_a4d70d2bd0537c88540bb8a58bd3c9074}{ABSL\_ASSERT}}(!self()-\/>is\_tree());}
\DoxyCodeLine{00746\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{size\_t}\textcolor{keyword}{>}(self()-\/>tag())\ >>\ 1;}
\DoxyCodeLine{00747\ \ \ \ \ \}}
\DoxyCodeLine{00748\ }
\DoxyCodeLine{00749\ \ \ \ \ \textcolor{keywordtype}{void}\ set\_inline\_size(\textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc_8cc_aad9b71a31372d5c0ab9c23163efe9544}{size}})\ \{}
\DoxyCodeLine{00750\ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2base_2macros_8h_a4d70d2bd0537c88540bb8a58bd3c9074}{ABSL\_ASSERT}}(\mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc_8cc_aad9b71a31372d5c0ab9c23163efe9544}{size}}\ <=\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_aa5f07cb4ae78d6372088311e9a7b8f54a67b1fe8491a99c54edb34ad917eb95fa}{kMaxInline}});}
\DoxyCodeLine{00751\ \ \ \ \ \ \ self()-\/>set\_tag(\textcolor{keyword}{static\_cast<}\mbox{\hyperlink{namespaceEigen_1_1numext_a4ee778e5a09bde3e01896411e6273058}{int8\_t}}\textcolor{keyword}{>}(\mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc_8cc_aad9b71a31372d5c0ab9c23163efe9544}{size}}\ <<\ 1));}
\DoxyCodeLine{00752\ \ \ \ \ \}}
\DoxyCodeLine{00753\ }
\DoxyCodeLine{00754\ \ \ \ \ CordRep*\ tree()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ self()-\/>as\_tree.\mbox{\hyperlink{structabsl_1_1cord__internal_1_1InlineData_1_1Rep_1_1AsTree_af75edddec74c0483dc1ec9a1f5f4c424}{rep}};\ \}}
\DoxyCodeLine{00755\ \ \ \ \ \textcolor{keywordtype}{void}\ set\_tree(CordRep*\ rhs)\ \{\ self()-\/>as\_tree.\mbox{\hyperlink{structabsl_1_1cord__internal_1_1InlineData_1_1Rep_1_1AsTree_af75edddec74c0483dc1ec9a1f5f4c424}{rep}}\ =\ rhs;\ \}}
\DoxyCodeLine{00756\ }
\DoxyCodeLine{00757\ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a56fe0ad667e57d494ab562df08ad0e26}{cordz\_info\_t}}\ cordz\_info()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ self()-\/>as\_tree.\mbox{\hyperlink{structabsl_1_1cord__internal_1_1InlineData_1_1Rep_1_1AsTree_ad9cecefc4beebc0e79f1b29cf34a3bb4}{cordz\_info}};\ \}}
\DoxyCodeLine{00758\ \ \ \ \ \textcolor{keywordtype}{void}\ set\_cordz\_info(\mbox{\hyperlink{namespaceabsl_1_1cord__internal_a56fe0ad667e57d494ab562df08ad0e26}{cordz\_info\_t}}\ rhs)\ \{\ self()-\/>as\_tree.\mbox{\hyperlink{structabsl_1_1cord__internal_1_1InlineData_1_1Rep_1_1AsTree_ad9cecefc4beebc0e79f1b29cf34a3bb4}{cordz\_info}}\ =\ rhs;\ \}}
\DoxyCodeLine{00759\ }
\DoxyCodeLine{00760\ \ \ \ \ \textcolor{keywordtype}{void}\ make\_tree(CordRep*\ tree)\ \{}
\DoxyCodeLine{00761\ \ \ \ \ \ \ self()-\/>as\_tree.\mbox{\hyperlink{structabsl_1_1cord__internal_1_1InlineData_1_1Rep_1_1AsTree_af75edddec74c0483dc1ec9a1f5f4c424}{rep}}\ =\ tree;}
\DoxyCodeLine{00762\ \ \ \ \ \ \ self()-\/>as\_tree.\mbox{\hyperlink{structabsl_1_1cord__internal_1_1InlineData_1_1Rep_1_1AsTree_ad9cecefc4beebc0e79f1b29cf34a3bb4}{cordz\_info}}\ =\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a34b6a04be42bc14ba101b18c1bd3ad84}{kNullCordzInfo}};}
\DoxyCodeLine{00763\ \ \ \ \ \}}
\DoxyCodeLine{00764\ }
\DoxyCodeLine{00765\ \textcolor{preprocessor}{\#ifdef\ ABSL\_INTERNAL\_CORD\_HAVE\_SANITIZER}}
\DoxyCodeLine{00766\ \ \ \ \ \textcolor{keyword}{constexpr}\ Rep\ SanitizerSafeCopy()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00767\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (!absl::is\_constant\_evaluated())\ \{}
\DoxyCodeLine{00768\ \ \ \ \ \ \ \ \ Rep\ res;}
\DoxyCodeLine{00769\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (is\_tree())\ \{}
\DoxyCodeLine{00770\ \ \ \ \ \ \ \ \ \ \ res\ =\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00771\ \ \ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00772\ \ \ \ \ \ \ \ \ \ \ res.set\_tag(tag());}
\DoxyCodeLine{00773\ \ \ \ \ \ \ \ \ \ \ memcpy(res.as\_chars(),\ as\_chars(),\ inline\_size());}
\DoxyCodeLine{00774\ \ \ \ \ \ \ \ \ \}}
\DoxyCodeLine{00775\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ res;}
\DoxyCodeLine{00776\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00777\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00778\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00779\ \ \ \ \ \}}
\DoxyCodeLine{00780\ \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{00781\ \ \ \ \ \textcolor{keyword}{constexpr}\ \textcolor{keyword}{const}\ Rep\&\ SanitizerSafeCopy()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};\ \}}
\DoxyCodeLine{00782\ \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{00783\ }
\DoxyCodeLine{00784\ \ \ \ \ \textcolor{comment}{//\ If\ the\ data\ has\ length\ <=\ kMaxInline,\ we\ store\ it\ in\ \`{}data`,\ and}}
\DoxyCodeLine{00785\ \ \ \ \ \textcolor{comment}{//\ store\ the\ size\ in\ the\ first\ char\ of\ \`{}data`\ shifted\ left\ +\ 1.}}
\DoxyCodeLine{00786\ \ \ \ \ \textcolor{comment}{//\ Else\ we\ store\ it\ in\ a\ tree\ and\ store\ a\ pointer\ to\ that\ tree\ in}}
\DoxyCodeLine{00787\ \ \ \ \ \textcolor{comment}{//\ \`{}as\_tree.rep`\ with\ a\ tagged\ pointer\ to\ make\ \`{}tag()\ \&\ 1`\ non\ zero.}}
\DoxyCodeLine{00788\ \ \ \ \ \textcolor{keyword}{union\ }\{}
\DoxyCodeLine{00789\ \ \ \ \ \ \ \textcolor{keywordtype}{char}\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[\mbox{\hyperlink{namespaceabsl_1_1cord__internal_aa5f07cb4ae78d6372088311e9a7b8f54a67b1fe8491a99c54edb34ad917eb95fa}{kMaxInline}}\ +\ 1];}
\DoxyCodeLine{00790\ \ \ \ \ \ \ AsTree\ as\_tree;}
\DoxyCodeLine{00791\ \ \ \ \ \};}
\DoxyCodeLine{00792\ }
\DoxyCodeLine{00793\ \ \ \ \ \textcolor{comment}{//\ TODO(b/145829486):\ see\ swap(InlineData,\ InlineData)\ for\ more\ info.}}
\DoxyCodeLine{00794\ \ \ \ \ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ SwapValue(Rep\ rhs,\ Rep\&\ refrhs)\ \{}
\DoxyCodeLine{00795\ \ \ \ \ \ \ memcpy(\&refrhs,\ \textcolor{keyword}{this},\ \textcolor{keyword}{sizeof}(*\textcolor{keyword}{this}));}
\DoxyCodeLine{00796\ \ \ \ \ \ \ memcpy(\textcolor{keyword}{this},\ \&rhs,\ \textcolor{keyword}{sizeof}(*\textcolor{keyword}{this}));}
\DoxyCodeLine{00797\ \ \ \ \ \}}
\DoxyCodeLine{00798\ \ \ \};}
\DoxyCodeLine{00799\ }
\DoxyCodeLine{00800\ \ \ \textcolor{comment}{//\ Private\ implementation\ of\ \`{}Compare()`}}
\DoxyCodeLine{00801\ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{int}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a8d94ee149d0b8caab1a8e7c76532ed00}{Compare}}(\textcolor{keyword}{const}\ Rep\&\ lhs,\ \textcolor{keyword}{const}\ Rep\&\ rhs)\ \{}
\DoxyCodeLine{00802\ \ \ \ \ \mbox{\hyperlink{namespaceEigen_1_1numext_a0259c31cd34e096be5056e9d88ae0500}{uint64\_t}}\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9dd4e461268c8034f5c8564e155c67a6}{x}},\ \mbox{\hyperlink{namespaceEigen_1_1internal_a3cc80fc03610837da180f7e6d8e7b3ec}{y}};}
\DoxyCodeLine{00803\ \ \ \ \ memcpy(\&\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9dd4e461268c8034f5c8564e155c67a6}{x}},\ lhs.as\_chars(),\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9dd4e461268c8034f5c8564e155c67a6}{x}}));}
\DoxyCodeLine{00804\ \ \ \ \ memcpy(\&y,\ rhs.as\_chars(),\ \textcolor{keyword}{sizeof}(y));}
\DoxyCodeLine{00805\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9dd4e461268c8034f5c8564e155c67a6}{x}}\ ==\ y)\ \{}
\DoxyCodeLine{00806\ \ \ \ \ \ \ memcpy(\&\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9dd4e461268c8034f5c8564e155c67a6}{x}},\ lhs.as\_chars()\ +\ 7,\ \textcolor{keyword}{sizeof}(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9dd4e461268c8034f5c8564e155c67a6}{x}}));}
\DoxyCodeLine{00807\ \ \ \ \ \ \ memcpy(\&y,\ rhs.as\_chars()\ +\ 7,\ \textcolor{keyword}{sizeof}(y));}
\DoxyCodeLine{00808\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9dd4e461268c8034f5c8564e155c67a6}{x}}\ ==\ y)\ \{}
\DoxyCodeLine{00809\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (lhs.inline\_size()\ ==\ rhs.inline\_size())\ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{00810\ \ \ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ lhs.inline\_size()\ <\ rhs.inline\_size()\ ?\ -\/1\ :\ 1;}
\DoxyCodeLine{00811\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00812\ \ \ \ \ \}}
\DoxyCodeLine{00813\ \ \ \ \ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9dd4e461268c8034f5c8564e155c67a6}{x}}\ =\ absl::big\_endian::FromHost64(\mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9dd4e461268c8034f5c8564e155c67a6}{x}});}
\DoxyCodeLine{00814\ \ \ \ \ \mbox{\hyperlink{namespaceEigen_1_1internal_a3cc80fc03610837da180f7e6d8e7b3ec}{y}}\ =\ absl::big\_endian::FromHost64(y);}
\DoxyCodeLine{00815\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9dd4e461268c8034f5c8564e155c67a6}{x}}\ <\ \mbox{\hyperlink{namespaceEigen_1_1internal_a3cc80fc03610837da180f7e6d8e7b3ec}{y}}\ ?\ -\/1\ :\ 1;}
\DoxyCodeLine{00816\ \ \ \}}
\DoxyCodeLine{00817\ }
\DoxyCodeLine{00818\ \ \ Rep\ rep\_;}
\DoxyCodeLine{00819\ \};}
\DoxyCodeLine{00820\ }
\DoxyCodeLine{00821\ \textcolor{keyword}{static\_assert}(\textcolor{keyword}{sizeof}(InlineData)\ ==\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_aa5f07cb4ae78d6372088311e9a7b8f54a67b1fe8491a99c54edb34ad917eb95fa}{kMaxInline}}\ +\ 1,\ \textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{00822\ }
\DoxyCodeLine{00823\ \textcolor{preprocessor}{\#ifdef\ ABSL\_INTERNAL\_CORD\_HAVE\_SANITIZER}}
\DoxyCodeLine{00824\ }
\DoxyCodeLine{00825\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a690ed47efc806699299e80ebc939020b}{InlineData::InlineData}}(\textcolor{keyword}{const}\ InlineData\&\ rhs)\ noexcept}
\DoxyCodeLine{00826\ \ \ \ \ :\ rep\_(rhs.rep\_.SanitizerSafeCopy())\ \{}
\DoxyCodeLine{00827\ \ \ poison();}
\DoxyCodeLine{00828\ \}}
\DoxyCodeLine{00829\ }
\DoxyCodeLine{00830\ \textcolor{keyword}{inline}\ InlineData\&\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a3e7928b67d6b5d9c6864aaf5cdfdc91d}{InlineData::operator=}}(\textcolor{keyword}{const}\ InlineData\&\ rhs)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00831\ \ \ unpoison();}
\DoxyCodeLine{00832\ \ \ rep\_\ =\ rhs.rep\_.SanitizerSafeCopy();}
\DoxyCodeLine{00833\ \ \ poison();}
\DoxyCodeLine{00834\ \ \ \textcolor{keywordflow}{return}\ *\textcolor{keyword}{this};}
\DoxyCodeLine{00835\ \}}
\DoxyCodeLine{00836\ }
\DoxyCodeLine{00837\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a17f0984bcc3d10e3fa242e23b1f037af}{InlineData::poison\_this}}()\ \{}
\DoxyCodeLine{00838\ \ \ \textcolor{keywordflow}{if}\ (!absl::is\_constant\_evaluated())\ \{}
\DoxyCodeLine{00839\ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1container__internal_acd188d1c2a80eb554d2bc1fa1261fc3c}{container\_internal::SanitizerPoisonObject}}(\textcolor{keyword}{this});}
\DoxyCodeLine{00840\ \ \ \}}
\DoxyCodeLine{00841\ \}}
\DoxyCodeLine{00842\ }
\DoxyCodeLine{00843\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_ae1de53e533aaec430d999a58f602cf74}{InlineData::unpoison}}()\ \{}
\DoxyCodeLine{00844\ \ \ \textcolor{keywordflow}{if}\ (!absl::is\_constant\_evaluated())\ \{}
\DoxyCodeLine{00845\ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1container__internal_a81aa9f640c0599d52a584f18d85ca691}{container\_internal::SanitizerUnpoisonObject}}(\textcolor{keyword}{this});}
\DoxyCodeLine{00846\ \ \ \}}
\DoxyCodeLine{00847\ \}}
\DoxyCodeLine{00848\ }
\DoxyCodeLine{00849\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a00c40c5581a14256f4e635649b1aaa80}{InlineData::poison}}()\ \{}
\DoxyCodeLine{00850\ \ \ \textcolor{keywordflow}{if}\ (!absl::is\_constant\_evaluated())\ \{}
\DoxyCodeLine{00851\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a8c07ed6cd26ced66457c2470d3618766}{is\_tree}}())\ \{}
\DoxyCodeLine{00852\ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1container__internal_a81aa9f640c0599d52a584f18d85ca691}{container\_internal::SanitizerUnpoisonObject}}(\textcolor{keyword}{this});}
\DoxyCodeLine{00853\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \textcolor{keywordflow}{if}\ (\textcolor{keyword}{const}\ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc_8cc_aad9b71a31372d5c0ab9c23163efe9544}{size}}\ =\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_aa8501f8c824f9a177e2015066a176bde}{inline\_size}}())\ \{}
\DoxyCodeLine{00854\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc_8cc_aad9b71a31372d5c0ab9c23163efe9544}{size}}\ <\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_aa5f07cb4ae78d6372088311e9a7b8f54a67b1fe8491a99c54edb34ad917eb95fa}{kMaxInline}})\ \{}
\DoxyCodeLine{00855\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{char}*\ end\ =\ rep\_.as\_chars()\ +\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc_8cc_aad9b71a31372d5c0ab9c23163efe9544}{size}};}
\DoxyCodeLine{00856\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1container__internal_a01430d4d5c89bfff4bb4ff93d5689843}{container\_internal::SanitizerPoisonMemoryRegion}}(end,\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_aa5f07cb4ae78d6372088311e9a7b8f54a67b1fe8491a99c54edb34ad917eb95fa}{kMaxInline}}\ -\/\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc_8cc_aad9b71a31372d5c0ab9c23163efe9544}{size}});}
\DoxyCodeLine{00857\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00858\ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00859\ \ \ \ \ \ \ \mbox{\hyperlink{namespaceabsl_1_1container__internal_acd188d1c2a80eb554d2bc1fa1261fc3c}{container\_internal::SanitizerPoisonObject}}(\textcolor{keyword}{this});}
\DoxyCodeLine{00860\ \ \ \ \ \}}
\DoxyCodeLine{00861\ \ \ \}}
\DoxyCodeLine{00862\ \}}
\DoxyCodeLine{00863\ }
\DoxyCodeLine{00864\ \textcolor{preprocessor}{\#else\ \ }\textcolor{comment}{//\ ABSL\_INTERNAL\_CORD\_HAVE\_SANITIZER}}
\DoxyCodeLine{00865\ }
\DoxyCodeLine{00866\ \textcolor{keyword}{constexpr}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a690ed47efc806699299e80ebc939020b}{InlineData::InlineData}}(\textcolor{keyword}{const}\ InlineData\&)\ \textcolor{keyword}{noexcept}\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00867\ \textcolor{keyword}{inline}\ InlineData\&\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a3e7928b67d6b5d9c6864aaf5cdfdc91d}{InlineData::operator=}}(\textcolor{keyword}{const}\ InlineData\&)\ \textcolor{keyword}{noexcept}\ =\ \textcolor{keywordflow}{default};}
\DoxyCodeLine{00868\ }
\DoxyCodeLine{00869\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a17f0984bcc3d10e3fa242e23b1f037af}{InlineData::poison\_this}}()\ \{\}}
\DoxyCodeLine{00870\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_ae1de53e533aaec430d999a58f602cf74}{InlineData::unpoison}}()\ \{\}}
\DoxyCodeLine{00871\ \textcolor{keyword}{constexpr}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classabsl_1_1cord__internal_1_1InlineData_a00c40c5581a14256f4e635649b1aaa80}{InlineData::poison}}()\ \{\}}
\DoxyCodeLine{00872\ }
\DoxyCodeLine{00873\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ ABSL\_INTERNAL\_CORD\_HAVE\_SANITIZER}}
\DoxyCodeLine{00874\ }
\DoxyCodeLine{00875\ \textcolor{keyword}{inline}\ CordRepSubstring*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_a219cd473572c69a56e3ad793c5a87bfa}{CordRep::substring}}()\ \{}
\DoxyCodeLine{00876\ \ \ assert(\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_aa839b609d238ca41480137f305f3308a}{IsSubstring}}());}
\DoxyCodeLine{00877\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}CordRepSubstring*\textcolor{keyword}{>}(\textcolor{keyword}{this});}
\DoxyCodeLine{00878\ \}}
\DoxyCodeLine{00879\ }
\DoxyCodeLine{00880\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ CordRepSubstring*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_a219cd473572c69a56e3ad793c5a87bfa}{CordRep::substring}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00881\ \ \ assert(\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_aa839b609d238ca41480137f305f3308a}{IsSubstring}}());}
\DoxyCodeLine{00882\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const\ }CordRepSubstring*\textcolor{keyword}{>}(\textcolor{keyword}{this});}
\DoxyCodeLine{00883\ \}}
\DoxyCodeLine{00884\ }
\DoxyCodeLine{00885\ \textcolor{keyword}{inline}\ CordRepExternal*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_afc8d261fcd61baf6b9625083b4220c3d}{CordRep::external}}()\ \{}
\DoxyCodeLine{00886\ \ \ assert(\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_a6803c19addc15fcbcc24358469cc634e}{IsExternal}}());}
\DoxyCodeLine{00887\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}CordRepExternal*\textcolor{keyword}{>}(\textcolor{keyword}{this});}
\DoxyCodeLine{00888\ \}}
\DoxyCodeLine{00889\ }
\DoxyCodeLine{00890\ \textcolor{keyword}{inline}\ \textcolor{keyword}{const}\ CordRepExternal*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_afc8d261fcd61baf6b9625083b4220c3d}{CordRep::external}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00891\ \ \ assert(\mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_a6803c19addc15fcbcc24358469cc634e}{IsExternal}}());}
\DoxyCodeLine{00892\ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{static\_cast<}\textcolor{keyword}{const\ }CordRepExternal*\textcolor{keyword}{>}(\textcolor{keyword}{this});}
\DoxyCodeLine{00893\ \}}
\DoxyCodeLine{00894\ }
\DoxyCodeLine{00895\ \textcolor{keyword}{inline}\ CordRep*\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_ad73d5d8140ce641920d1b3894515ed08}{CordRep::Ref}}(CordRep*\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}})\ \{}
\DoxyCodeLine{00896\ \ \ \textcolor{comment}{//\ ABSL\_ASSUME\ is\ a\ workaround\ for}}
\DoxyCodeLine{00897\ \ \ \textcolor{comment}{//\ https://gcc.gnu.org/bugzilla/show\_bug.cgi?id=105585}}
\DoxyCodeLine{00898\ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2base_2optimization_8h_ae82b0d29c28ec653c998c43f5d5ff2dd}{ABSL\_ASSUME}}(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}}\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00899\ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}}-\/>refcount.Increment();}
\DoxyCodeLine{00900\ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}};}
\DoxyCodeLine{00901\ \}}
\DoxyCodeLine{00902\ }
\DoxyCodeLine{00903\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_acabc9fa3a9ecbdea090d5f0a299d5993}{CordRep::Unref}}(CordRep*\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}})\ \{}
\DoxyCodeLine{00904\ \ \ assert(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}}\ !=\ \textcolor{keyword}{nullptr});}
\DoxyCodeLine{00905\ \ \ \textcolor{comment}{//\ Expect\ refcount\ to\ be\ 0.\ Avoiding\ the\ cost\ of\ an\ atomic\ decrement\ should}}
\DoxyCodeLine{00906\ \ \ \textcolor{comment}{//\ typically\ outweigh\ the\ cost\ of\ an\ extra\ branch\ checking\ for\ ref\ ==\ 1.}}
\DoxyCodeLine{00907\ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{abseil-cpp_2absl_2base_2optimization_8h_a7de82b630fc76606a15c23483680a6a1}{ABSL\_PREDICT\_FALSE}}(!\mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}}-\/>refcount.DecrementExpectHighRefcount()))\ \{}
\DoxyCodeLine{00908\ \ \ \ \ \mbox{\hyperlink{structabsl_1_1cord__internal_1_1CordRep_ab12d09bf31000a7345b895b47c73bf63}{Destroy}}(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2cord__analysis_8cc_a2c5f19185456bd83cc1b428c25581b9e}{rep}});}
\DoxyCodeLine{00909\ \ \ \}}
\DoxyCodeLine{00910\ \}}
\DoxyCodeLine{00911\ }
\DoxyCodeLine{00912\ \textcolor{keyword}{inline}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{namespaceabsl_1_1cord__internal_a4dabc3c1355f2345bdbf34fb0567de4c}{swap}}(InlineData\&\ lhs,\ InlineData\&\ rhs)\ \textcolor{keyword}{noexcept}\ \{}
\DoxyCodeLine{00913\ \ \ lhs.unpoison();}
\DoxyCodeLine{00914\ \ \ rhs.unpoison();}
\DoxyCodeLine{00915\ \ \ \textcolor{comment}{//\ TODO(b/145829486):\ \`{}std::swap(lhs.rep\_,\ rhs.rep\_)`\ results\ in\ bad\ codegen}}
\DoxyCodeLine{00916\ \ \ \textcolor{comment}{//\ on\ clang,\ spilling\ the\ temporary\ swap\ value\ on\ the\ stack.\ Since\ \`{}Rep`\ is}}
\DoxyCodeLine{00917\ \ \ \textcolor{comment}{//\ trivial,\ we\ can\ make\ clang\ DTRT\ by\ calling\ a\ hand-\/rolled\ \`{}SwapValue`\ where}}
\DoxyCodeLine{00918\ \ \ \textcolor{comment}{//\ we\ pass\ \`{}rhs`\ both\ by\ value\ (register\ allocated)\ and\ by\ reference.\ The\ IR}}
\DoxyCodeLine{00919\ \ \ \textcolor{comment}{//\ then\ folds\ and\ inlines\ correctly\ into\ an\ optimized\ swap\ without\ spill.}}
\DoxyCodeLine{00920\ \ \ lhs.rep\_.SwapValue(rhs.rep\_,\ rhs.rep\_);}
\DoxyCodeLine{00921\ \ \ rhs.poison();}
\DoxyCodeLine{00922\ \ \ lhs.poison();}
\DoxyCodeLine{00923\ \}}
\DoxyCodeLine{00924\ }
\DoxyCodeLine{00925\ \}\ \ \textcolor{comment}{//\ namespace\ cord\_internal}}
\DoxyCodeLine{00926\ }
\DoxyCodeLine{00927\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2config_8h_a49c6cd9be2b7205d48557c9fa90ec5a6}{ABSL\_NAMESPACE\_END}}}
\DoxyCodeLine{00928\ \}\ \ \textcolor{comment}{//\ namespace\ absl}}
\DoxyCodeLine{00929\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ ABSL\_STRINGS\_INTERNAL\_CORD\_INTERNAL\_H\_}}

\end{DoxyCode}
