\doxysection{Tensor\+Contraction\+Mapper.\+h}
\hypertarget{eigen_2unsupported_2Eigen_2CXX11_2src_2Tensor_2TensorContractionMapper_8h_source}{}\label{eigen_2unsupported_2Eigen_2CXX11_2src_2Tensor_2TensorContractionMapper_8h_source}\index{eigen/unsupported/Eigen/CXX11/src/Tensor/TensorContractionMapper.h@{eigen/unsupported/Eigen/CXX11/src/Tensor/TensorContractionMapper.h}}
\mbox{\hyperlink{eigen_2unsupported_2Eigen_2CXX11_2src_2Tensor_2TensorContractionMapper_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ This\ file\ is\ part\ of\ Eigen,\ a\ lightweight\ C++\ template\ library}}
\DoxyCodeLine{00002\ \textcolor{comment}{//\ for\ linear\ algebra.}}
\DoxyCodeLine{00003\ \textcolor{comment}{//}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ Copyright\ (C)\ 2014\ Benoit\ Steiner\ <benoit.steiner.goog@gmail.com>}}
\DoxyCodeLine{00005\ \textcolor{comment}{//}}
\DoxyCodeLine{00006\ \textcolor{comment}{//\ This\ Source\ Code\ Form\ is\ subject\ to\ the\ terms\ of\ the\ Mozilla}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ Public\ License\ v.\ 2.0.\ If\ a\ copy\ of\ the\ MPL\ was\ not\ distributed}}
\DoxyCodeLine{00008\ \textcolor{comment}{//\ with\ this\ file,\ You\ can\ obtain\ one\ at\ http://mozilla.org/MPL/2.0/.}}
\DoxyCodeLine{00009\ }
\DoxyCodeLine{00010\ \textcolor{preprocessor}{\#ifndef\ EIGEN\_CXX11\_TENSOR\_TENSOR\_CONTRACTION\_MAPPER\_H}}
\DoxyCodeLine{00011\ \textcolor{preprocessor}{\#define\ EIGEN\_CXX11\_TENSOR\_TENSOR\_CONTRACTION\_MAPPER\_H}}
\DoxyCodeLine{00012\ }
\DoxyCodeLine{00013\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceEigen}{Eigen}}\ \{}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceinternal}{internal}}\ \{}
\DoxyCodeLine{00016\ }
\DoxyCodeLine{00017\ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00018\ \ \ \mbox{\hyperlink{namespaceEigen_1_1internal_aa085ebbff5643578b80dd9f8fcb8d77dabc0d1bfef81f2d7b444c8658bc523042}{Rhs}}\ =\ 0,}
\DoxyCodeLine{00019\ \ \ \mbox{\hyperlink{namespaceEigen_1_1internal_aa085ebbff5643578b80dd9f8fcb8d77da70822e454a6eb37b1dd2a2aaa94342c2}{Lhs}}\ =\ 1}
\DoxyCodeLine{00020\ \};}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{comment}{/*}}
\DoxyCodeLine{00023\ \textcolor{comment}{\ *\ Implementation\ of\ the\ Eigen\ blas\_data\_mapper\ class\ for\ tensors.}}
\DoxyCodeLine{00024\ \textcolor{comment}{\ */}}
\DoxyCodeLine{00027\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Tensor,\ \textcolor{keywordtype}{bool}\ HasRawAccess,\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}>\ \textcolor{keyword}{class\ }MakePointer\_\ =\ \mbox{\hyperlink{structEigen_1_1MakePointer}{MakePointer}}>}
\DoxyCodeLine{00028\ \textcolor{keyword}{struct\ }CoeffLoader;}
\DoxyCodeLine{00029\ }
\DoxyCodeLine{00030\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Scalar,\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}},\ \textcolor{keywordtype}{int}\ side,\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1Tensor}{Tensor}},}
\DoxyCodeLine{00031\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ nocontract\_t,\ \textcolor{keyword}{typename}\ contract\_t,\ \textcolor{keywordtype}{int}\ packet\_size,}
\DoxyCodeLine{00032\ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ inner\_dim\_contiguous,\ \textcolor{keywordtype}{bool}\ inner\_dim\_reordered,\ \textcolor{keywordtype}{int}\ Alignment,}
\DoxyCodeLine{00033\ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}>\ \textcolor{keyword}{class\ }MakePointer\_\ =\ \mbox{\hyperlink{structEigen_1_1MakePointer}{MakePointer}}>}
\DoxyCodeLine{00034\ \textcolor{keyword}{class\ }BaseTensorContractionMapper;}
\DoxyCodeLine{00035\ }
\DoxyCodeLine{00036\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Tensor,\ \textcolor{keywordtype}{bool}\ HasRawAccess,\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}>\ \textcolor{keyword}{class\ }MakePointer\_>}
\DoxyCodeLine{00037\ \textcolor{keyword}{struct\ }CoeffLoader\ \{}
\DoxyCodeLine{00038\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00039\ \ \ \ \ \mbox{\hyperlink{structEigen_1_1internal_1_1CoeffLoader_ae6aed5fc76fb62abd67b0a46d088e589adec48760c77c10147f45929c64604e13}{DirectOffsets}}\ =\ \textcolor{keyword}{false}}
\DoxyCodeLine{00040\ \ \ \};}
\DoxyCodeLine{00041\ }
\DoxyCodeLine{00042\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ \mbox{\hyperlink{structEigen_1_1internal_1_1CoeffLoader_a2cfc9ad0cb2f1126f9ee92325768ae59}{CoeffLoader}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1Tensor}{Tensor}}\&\ tensor)\ :\ m\_tensor(tensor)\ \{\ \}}
\DoxyCodeLine{00043\ }
\DoxyCodeLine{00044\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structEigen_1_1internal_1_1CoeffLoader_ae9d6b69828ff3e0846471dbb6f46eefa}{offsetBuffer}}(\textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1Tensor_abe2c7119716530712f4c9563bb6426fb}{Tensor::Index}})\ \{}
\DoxyCodeLine{00045\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(\textcolor{keyword}{false}\ \&\&\ \textcolor{stringliteral}{"{}unsupported"{}});}
\DoxyCodeLine{00046\ \ \ \}}
\DoxyCodeLine{00047\ }
\DoxyCodeLine{00048\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ MakePointer\_<const\ typename\ Tensor::Scalar>::Type}
\DoxyCodeLine{00049\ \ \ \mbox{\hyperlink{structEigen_1_1internal_1_1CoeffLoader_aee2079344a4915d726fc45c1c59c5f7f}{data}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00050\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(\textcolor{keyword}{false}\ \&\&\ \textcolor{stringliteral}{"{}unsupported"{}});}
\DoxyCodeLine{00051\ \ \ \ \ \textcolor{keywordflow}{return}\ NULL;}
\DoxyCodeLine{00052\ \ \ \}}
\DoxyCodeLine{00053\ }
\DoxyCodeLine{00054\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1Tensor_a9c56ba989fc5abed33c8b314694d9f29}{Tensor::Scalar}}\ \mbox{\hyperlink{structEigen_1_1internal_1_1CoeffLoader_abafbb67291692c6086b8144bcdf999eb}{coeff}}(\textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1Tensor_abe2c7119716530712f4c9563bb6426fb}{Tensor::Index}}\ index)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_tensor.\mbox{\hyperlink{classEigen_1_1Tensor_adce1b24a29b46ff9d56d962c16b8c979}{coeff}}(index);\ \}}
\DoxyCodeLine{00055\ }
\DoxyCodeLine{00056\ \ \textcolor{keyword}{template}<\textcolor{keywordtype}{int}\ LoadMode>\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}}
\DoxyCodeLine{00057\ \ \textcolor{keyword}{typename}\ Tensor::PacketReturnType\ \mbox{\hyperlink{structEigen_1_1internal_1_1CoeffLoader_ad8e17bd3037c0bd57fa6a6463f2089c2}{packet}}(\textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1Tensor_abe2c7119716530712f4c9563bb6426fb}{Tensor::Index}}\ index)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00058\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00059\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_tensor.template\ \mbox{\hyperlink{structEigen_1_1internal_1_1CoeffLoader_ad8e17bd3037c0bd57fa6a6463f2089c2}{packet<LoadMode>}}(index);}
\DoxyCodeLine{00060\ \ \ \}}
\DoxyCodeLine{00061\ }
\DoxyCodeLine{00062\ \textcolor{preprocessor}{\ \ \#ifdef\ EIGEN\_USE\_SYCL}}
\DoxyCodeLine{00063\ \ \ \textcolor{comment}{//\ The\ placeholder\ accessors\ require\ to\ be\ bound\ to\ a\ command\ group\ handler\ for\ SYCL}}
\DoxyCodeLine{00064\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ bind(cl::sycl::handler\ \&cgh)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00065\ \ \ \ \ m\_tensor.bind(cgh);}
\DoxyCodeLine{00066\ \ \ \}}
\DoxyCodeLine{00067\ \textcolor{preprocessor}{\ \ \#endif}}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00070\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1Tensor}{Tensor}}\ m\_tensor;}
\DoxyCodeLine{00071\ \};}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ Tensor,\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}>\ \textcolor{keyword}{class\ }MakePointer\_>}
\DoxyCodeLine{00074\ \textcolor{keyword}{struct\ }CoeffLoader<Tensor,\ true,\ MakePointer\_>\ \{}
\DoxyCodeLine{00075\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00076\ \ \ \ \ \mbox{\hyperlink{structEigen_1_1internal_1_1CoeffLoader_ae6aed5fc76fb62abd67b0a46d088e589adec48760c77c10147f45929c64604e13}{DirectOffsets}}\ =\ \textcolor{keyword}{true}}
\DoxyCodeLine{00077\ \ \ \};}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ \mbox{\hyperlink{structEigen_1_1internal_1_1CoeffLoader_3_01Tensor_00_01true_00_01MakePointer___01_4_a90a461076aea1fcb9f4b513298bbba71}{CoeffLoader}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1Tensor}{Tensor}}\&\ tensor)\ :\ m\_data(tensor.\mbox{\hyperlink{structEigen_1_1internal_1_1CoeffLoader_aee2079344a4915d726fc45c1c59c5f7f}{data}}())\ \{\}}
\DoxyCodeLine{00080\ }
\DoxyCodeLine{00081\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{structEigen_1_1internal_1_1CoeffLoader_3_01Tensor_00_01true_00_01MakePointer___01_4_a20323bde968362e5fa15cc5217f10e5b}{offsetBuffer}}(\textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1Tensor_abe2c7119716530712f4c9563bb6426fb}{Tensor::Index}}\ offset)\ \{}
\DoxyCodeLine{00082\ \ \ \ \ m\_data\ +=\ offset;}
\DoxyCodeLine{00083\ \ \ \}}
\DoxyCodeLine{00084\ }
\DoxyCodeLine{00085\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ \textcolor{keyword}{const}\ \textcolor{keyword}{typename}\ MakePointer\_<const\ typename\ Tensor::Scalar>::Type}
\DoxyCodeLine{00086\ \ \ \mbox{\hyperlink{structEigen_1_1internal_1_1CoeffLoader_3_01Tensor_00_01true_00_01MakePointer___01_4_ae4a76f5e83a0f0b28e207cc990470fb6}{data}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00087\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_data;}
\DoxyCodeLine{00088\ \ \ \}}
\DoxyCodeLine{00089\ }
\DoxyCodeLine{00090\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1Tensor_a9c56ba989fc5abed33c8b314694d9f29}{Tensor::Scalar}}\ \mbox{\hyperlink{structEigen_1_1internal_1_1CoeffLoader_3_01Tensor_00_01true_00_01MakePointer___01_4_a2f7837875b4792ff7243fb895aeffc24}{coeff}}(\textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1Tensor_abe2c7119716530712f4c9563bb6426fb}{Tensor::Index}}\ index)\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ loadConstant(m\_data+index);\ \}}
\DoxyCodeLine{00091\ }
\DoxyCodeLine{00092\ \ \textcolor{keyword}{template}<\textcolor{keywordtype}{int}\ LoadMode>\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}}
\DoxyCodeLine{00093\ \ \textcolor{keyword}{typename}\ Tensor::PacketReturnType\ \mbox{\hyperlink{structEigen_1_1internal_1_1CoeffLoader_3_01Tensor_00_01true_00_01MakePointer___01_4_ab124ec4fc672354cebafb6130fcd9d85}{packet}}(\textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1Tensor_abe2c7119716530712f4c9563bb6426fb}{Tensor::Index}}\ index)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00094\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00095\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceEigen_1_1internal_a95e6171c11f3607674e638912971d5db}{internal::ploadt\_ro<typename\ Tensor::PacketReturnType,\ LoadMode>}}(m\_data\ +\ index);}
\DoxyCodeLine{00096\ \ \ \}}
\DoxyCodeLine{00097\ }
\DoxyCodeLine{00098\ \textcolor{preprocessor}{\ \ \#ifdef\ EIGEN\_USE\_SYCL}}
\DoxyCodeLine{00099\ \ \ \textcolor{comment}{//\ The\ placeholder\ accessors\ require\ to\ be\ bound\ to\ a\ command\ group\ handler\ for\ SYCL}}
\DoxyCodeLine{00100\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ bind(cl::sycl::handler\ \&cgh)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00101\ \ \ \ \ m\_data.bind(cgh);}
\DoxyCodeLine{00102\ \ \ \}}
\DoxyCodeLine{00103\ \textcolor{preprocessor}{\ \ \#endif}}
\DoxyCodeLine{00104\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00105\ \ \ \textcolor{keyword}{typedef}\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1Tensor_a9c56ba989fc5abed33c8b314694d9f29}{Tensor::Scalar}}\ Scalar;}
\DoxyCodeLine{00106\ }
\DoxyCodeLine{00107\ \ \ \textcolor{keyword}{typename}\ MakePointer\_<const\ Scalar>::Type\ m\_data;}
\DoxyCodeLine{00108\ \};}
\DoxyCodeLine{00109\ }
\DoxyCodeLine{00110\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Scalar,\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}},\ \textcolor{keywordtype}{int}\ side,}
\DoxyCodeLine{00111\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ Tensor,}
\DoxyCodeLine{00112\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ nocontract\_t,\ \textcolor{keyword}{typename}\ contract\_t,}
\DoxyCodeLine{00113\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ packet\_size,\ \textcolor{keywordtype}{bool}\ inner\_dim\_contiguous,\ \textcolor{keywordtype}{int}\ Alignment,\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}>\ \textcolor{keyword}{class\ }MakePointer\_\ =\ MakePointer>}
\DoxyCodeLine{00114\ \textcolor{keyword}{class\ }SimpleTensorContractionMapper\ \{}
\DoxyCodeLine{00115\ \ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00116\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}}
\DoxyCodeLine{00117\ \ \ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a03414d31c6d9e653fd5e1101f14da7bd}{SimpleTensorContractionMapper}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1Tensor}{Tensor}}\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac98f4cef6fad24c4d1f1897b784091ab}{tensor}},}
\DoxyCodeLine{00118\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ nocontract\_t\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a7bf80c35d0a208224df2776c5415a8e2}{nocontract\_strides}},}
\DoxyCodeLine{00119\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ nocontract\_t\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a46786e44475e844b5a6034ac1c667416}{ij\_strides}},}
\DoxyCodeLine{00120\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ contract\_t\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a852da97cfe431d68800822512476c9a1}{contract\_strides}},}
\DoxyCodeLine{00121\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ contract\_t\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a14cd942da96fa53ae8e0c6457ef71aa3}{k\_strides}})\ :}
\DoxyCodeLine{00122\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac5c613463d0f44b195523b272e0d2454}{m\_tensor}}(\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac98f4cef6fad24c4d1f1897b784091ab}{tensor}}),}
\DoxyCodeLine{00123\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a5967925db14d6481d1785b07a2b745fb}{m\_nocontract\_strides}}(\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a7bf80c35d0a208224df2776c5415a8e2}{nocontract\_strides}}),}
\DoxyCodeLine{00124\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_aea14da2c841f433ebeb214f6e592ce0d}{m\_ij\_strides}}(\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a46786e44475e844b5a6034ac1c667416}{ij\_strides}}),}
\DoxyCodeLine{00125\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a7bd364fd2352f31405724fa2d22e4083}{m\_contract\_strides}}(\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a852da97cfe431d68800822512476c9a1}{contract\_strides}}),}
\DoxyCodeLine{00126\ \ \ \ \ \ \ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a0260008bb7e36d0ec61510a71c59a74c}{m\_k\_strides}}(\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a14cd942da96fa53ae8e0c6457ef71aa3}{k\_strides}})\ \{\ \}}
\DoxyCodeLine{00127\ }
\DoxyCodeLine{00128\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00129\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac7355d98eaa13f33fb616f655cb8420da6f7e78ec3940b46a4f32db6aecc21455}{DirectOffsets}}\ =\ \mbox{\hyperlink{structEigen_1_1internal_1_1CoeffLoader}{CoeffLoader<Tensor,\ Tensor::RawAccess,\ MakePointer\_>::DirectOffsets}}}
\DoxyCodeLine{00130\ \ \ \};}
\DoxyCodeLine{00131\ }
\DoxyCodeLine{00132\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_adf0385d8478ed1c20ec849cb087aaaf8}{offsetBuffer}}(\textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1Tensor_abe2c7119716530712f4c9563bb6426fb}{Tensor::Index}}\ offset)\ \{}
\DoxyCodeLine{00133\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac5c613463d0f44b195523b272e0d2454}{m\_tensor}}.offsetBuffer(offset);}
\DoxyCodeLine{00134\ \ \ \}}
\DoxyCodeLine{00135\ }
\DoxyCodeLine{00136\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}}
\DoxyCodeLine{00137\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_aedc45afeb99d7a681c6e732aa6a41c18}{prefetch}}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \textcolor{comment}{/*i*/})\ \{\ \}}
\DoxyCodeLine{00138\ }
\DoxyCodeLine{00139\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}}
\DoxyCodeLine{00140\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ Scalar\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ace64d51caedc8b15dc480c6997484a2b}{operator()}}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00141\ \ \ \ \ \textcolor{comment}{//\ column\ major\ assumption}}
\DoxyCodeLine{00142\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ace64d51caedc8b15dc480c6997484a2b}{operator()}}(\mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}},\ 0);}
\DoxyCodeLine{00143\ \ \ \}}
\DoxyCodeLine{00144\ }
\DoxyCodeLine{00145\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}}
\DoxyCodeLine{00146\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ Scalar\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac378742732fc6a24c753b7f66a66ef60}{operator()}}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}},\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00147\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac5c613463d0f44b195523b272e0d2454}{m\_tensor}}.coeff(\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a2a125017d008f82704f8f76905dda276}{computeIndex}}(\mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}},\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}}));}
\DoxyCodeLine{00148\ \ \ \}}
\DoxyCodeLine{00149\ }
\DoxyCodeLine{00150\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}}
\DoxyCodeLine{00151\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a2a125017d008f82704f8f76905dda276}{computeIndex}}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}},\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00152\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ left\ =\ (side\ ==\ \mbox{\hyperlink{namespaceEigen_1_1internal_aa085ebbff5643578b80dd9f8fcb8d77da70822e454a6eb37b1dd2a2aaa94342c2}{Lhs}});}
\DoxyCodeLine{00153\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a7cf6d5b460def34dc4e6acf42889b6a9}{EIGEN\_UNUSED\_VARIABLE}}(left);\ \textcolor{comment}{//\ annoying\ bug\ in\ g++8.1:\ https://gcc.gnu.org/bugzilla/show\_bug.cgi?id=85963}}
\DoxyCodeLine{00154\ \ \ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ nocontract\_val\ =\ left\ ?\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}}\ :\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}};}
\DoxyCodeLine{00155\ \ \ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ linidx\ =\ 0;}
\DoxyCodeLine{00156\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a3c7e37b5f6cd41e80197523bca19b505}{EIGEN\_UNROLL\_LOOP}}}
\DoxyCodeLine{00157\ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{structEigen_1_1internal_1_1array__size}{array\_size<nocontract\_t>::value}})\ -\/\ 1;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ >\ 0;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}-\/-\/)\ \{}
\DoxyCodeLine{00158\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ idx\ =\ nocontract\_val\ /\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_aea14da2c841f433ebeb214f6e592ce0d}{m\_ij\_strides}}[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}];}
\DoxyCodeLine{00159\ \ \ \ \ \ \ linidx\ +=\ idx\ *\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a5967925db14d6481d1785b07a2b745fb}{m\_nocontract\_strides}}[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}];}
\DoxyCodeLine{00160\ \ \ \ \ \ \ nocontract\_val\ -\/=\ idx\ *\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_aea14da2c841f433ebeb214f6e592ce0d}{m\_ij\_strides}}[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}];}
\DoxyCodeLine{00161\ \ \ \ \ \}}
\DoxyCodeLine{00162\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structEigen_1_1internal_1_1array__size}{array\_size<typename\ Tensor::Dimensions>::value}}\ >\ \mbox{\hyperlink{structEigen_1_1internal_1_1array__size}{array\_size<contract\_t>::value}})\ \{}
\DoxyCodeLine{00163\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (side\ ==\ \mbox{\hyperlink{namespaceEigen_1_1internal_aa085ebbff5643578b80dd9f8fcb8d77da70822e454a6eb37b1dd2a2aaa94342c2}{Lhs}}\ \&\&\ inner\_dim\_contiguous)\ \{}
\DoxyCodeLine{00164\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a5967925db14d6481d1785b07a2b745fb}{m\_nocontract\_strides}}[0]\ ==\ 1);}
\DoxyCodeLine{00165\ \ \ \ \ \ \ \ \ linidx\ +=\ nocontract\_val;}
\DoxyCodeLine{00166\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00167\ \ \ \ \ \ \ \ \ linidx\ +=\ nocontract\_val\ *\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a5967925db14d6481d1785b07a2b745fb}{m\_nocontract\_strides}}[0];}
\DoxyCodeLine{00168\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00169\ \ \ \ \ \}}
\DoxyCodeLine{00170\ }
\DoxyCodeLine{00171\ \ \ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ contract\_val\ =\ left\ ?\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}}\ :\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}};}
\DoxyCodeLine{00172\ \ \ \ \ \textcolor{keywordflow}{if}(\mbox{\hyperlink{structEigen_1_1internal_1_1array__size}{array\_size<contract\_t>::value}}\ >\ 0)\ \{}
\DoxyCodeLine{00173\ \ \ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a3c7e37b5f6cd41e80197523bca19b505}{EIGEN\_UNROLL\_LOOP}}}
\DoxyCodeLine{00174\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{structEigen_1_1internal_1_1array__size}{array\_size<contract\_t>::value}})\ -\/\ 1;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ >\ 0;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}-\/-\/)\ \{}
\DoxyCodeLine{00175\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ idx\ =\ contract\_val\ /\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a0260008bb7e36d0ec61510a71c59a74c}{m\_k\_strides}}[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}];}
\DoxyCodeLine{00176\ \ \ \ \ \ \ \ \ linidx\ +=\ idx\ *\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a7bd364fd2352f31405724fa2d22e4083}{m\_contract\_strides}}[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}];}
\DoxyCodeLine{00177\ \ \ \ \ \ \ \ \ contract\_val\ -\/=\ idx\ *\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a0260008bb7e36d0ec61510a71c59a74c}{m\_k\_strides}}[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}];}
\DoxyCodeLine{00178\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00179\ }
\DoxyCodeLine{00180\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (side\ ==\ \mbox{\hyperlink{namespaceEigen_1_1internal_aa085ebbff5643578b80dd9f8fcb8d77dabc0d1bfef81f2d7b444c8658bc523042}{Rhs}}\ \&\&\ inner\_dim\_contiguous)\ \{}
\DoxyCodeLine{00181\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a7bd364fd2352f31405724fa2d22e4083}{m\_contract\_strides}}[0]\ ==\ 1);}
\DoxyCodeLine{00182\ \ \ \ \ \ \ \ \ linidx\ +=\ contract\_val;}
\DoxyCodeLine{00183\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00184\ \ \ \ \ \ \ \ \ linidx\ +=\ contract\_val\ *\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a7bd364fd2352f31405724fa2d22e4083}{m\_contract\_strides}}[0];}
\DoxyCodeLine{00185\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00186\ \ \ \ \ \}}
\DoxyCodeLine{00187\ }
\DoxyCodeLine{00188\ \ \ \ \ \textcolor{keywordflow}{return}\ linidx;}
\DoxyCodeLine{00189\ \ \ \}}
\DoxyCodeLine{00190\ }
\DoxyCodeLine{00191\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}}
\DoxyCodeLine{00192\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \mbox{\hyperlink{structEigen_1_1IndexPair}{IndexPair<Index>}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a13350d5d37c005912cde5940c7e321eb}{computeIndexPair}}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}},\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}},\ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ distance)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00193\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ left\ =\ (side\ ==\ \mbox{\hyperlink{namespaceEigen_1_1internal_aa085ebbff5643578b80dd9f8fcb8d77da70822e454a6eb37b1dd2a2aaa94342c2}{Lhs}});}
\DoxyCodeLine{00194\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a7cf6d5b460def34dc4e6acf42889b6a9}{EIGEN\_UNUSED\_VARIABLE}}(left);\ \textcolor{comment}{//\ annoying\ bug\ in\ g++8.1:\ https://gcc.gnu.org/bugzilla/show\_bug.cgi?id=85963}}
\DoxyCodeLine{00195\ \ \ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ nocontract\_val[2]\ =\ \{left\ ?\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}}\ :\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}},\ left\ ?\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}}\ +\ distance\ :\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}}\};}
\DoxyCodeLine{00196\ \ \ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ linidx[2]\ =\ \{0,\ 0\};}
\DoxyCodeLine{00197\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structEigen_1_1internal_1_1array__size}{array\_size<typename\ Tensor::Dimensions>::value}}\ >\ \mbox{\hyperlink{structEigen_1_1internal_1_1array__size}{array\_size<contract\_t>::value}})\ \{}
\DoxyCodeLine{00198\ \ \ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a3c7e37b5f6cd41e80197523bca19b505}{EIGEN\_UNROLL\_LOOP}}}
\DoxyCodeLine{00199\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{structEigen_1_1internal_1_1array__size}{array\_size<nocontract\_t>::value}})\ -\/\ 1;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ >\ 0;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}-\/-\/)\ \{}
\DoxyCodeLine{00200\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ idx0\ =\ nocontract\_val[0]\ /\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_aea14da2c841f433ebeb214f6e592ce0d}{m\_ij\_strides}}[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}];}
\DoxyCodeLine{00201\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ idx1\ =\ nocontract\_val[1]\ /\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_aea14da2c841f433ebeb214f6e592ce0d}{m\_ij\_strides}}[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}];}
\DoxyCodeLine{00202\ \ \ \ \ \ \ \ \ linidx[0]\ +=\ idx0\ *\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a5967925db14d6481d1785b07a2b745fb}{m\_nocontract\_strides}}[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}];}
\DoxyCodeLine{00203\ \ \ \ \ \ \ \ \ linidx[1]\ +=\ idx1\ *\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a5967925db14d6481d1785b07a2b745fb}{m\_nocontract\_strides}}[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}];}
\DoxyCodeLine{00204\ \ \ \ \ \ \ \ \ nocontract\_val[0]\ -\/=\ idx0\ *\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_aea14da2c841f433ebeb214f6e592ce0d}{m\_ij\_strides}}[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}];}
\DoxyCodeLine{00205\ \ \ \ \ \ \ \ \ nocontract\_val[1]\ -\/=\ idx1\ *\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_aea14da2c841f433ebeb214f6e592ce0d}{m\_ij\_strides}}[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}];}
\DoxyCodeLine{00206\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00207\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (side\ ==\ \mbox{\hyperlink{namespaceEigen_1_1internal_aa085ebbff5643578b80dd9f8fcb8d77da70822e454a6eb37b1dd2a2aaa94342c2}{Lhs}}\ \&\&\ inner\_dim\_contiguous)\ \{}
\DoxyCodeLine{00208\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a5967925db14d6481d1785b07a2b745fb}{m\_nocontract\_strides}}[0]\ ==\ 1);}
\DoxyCodeLine{00209\ \ \ \ \ \ \ \ \ linidx[0]\ +=\ nocontract\_val[0];}
\DoxyCodeLine{00210\ \ \ \ \ \ \ \ \ linidx[1]\ +=\ nocontract\_val[1];}
\DoxyCodeLine{00211\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00212\ \ \ \ \ \ \ \ \ linidx[0]\ +=\ nocontract\_val[0]\ *\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a5967925db14d6481d1785b07a2b745fb}{m\_nocontract\_strides}}[0];}
\DoxyCodeLine{00213\ \ \ \ \ \ \ \ \ linidx[1]\ +=\ nocontract\_val[1]\ *\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a5967925db14d6481d1785b07a2b745fb}{m\_nocontract\_strides}}[0];}
\DoxyCodeLine{00214\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00215\ \ \ \ \ \}}
\DoxyCodeLine{00216\ }
\DoxyCodeLine{00217\ \ \ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ contract\_val[2]\ =\ \{left\ ?\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}}\ :\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}},\ left\ ?\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_a00a58bf5d6022e451612db73ffbf4aef}{col}}\ :\ \mbox{\hyperlink{eigen_2Eigen_2src_2plugins_2BlockMethods_8h_ace0220ddc85e95e756b362cda5bf17c9}{row}}\ +\ distance\};}
\DoxyCodeLine{00218\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{structEigen_1_1internal_1_1array__size}{array\_size<contract\_t>::value}}>\ 0)\ \{}
\DoxyCodeLine{00219\ \ \ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a3c7e37b5f6cd41e80197523bca19b505}{EIGEN\_UNROLL\_LOOP}}}
\DoxyCodeLine{00220\ \ \ \ \ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ =\ \textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{int}\textcolor{keyword}{>}(\mbox{\hyperlink{structEigen_1_1internal_1_1array__size}{array\_size<contract\_t>::value}})\ -\/\ 1;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ >\ 0;\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}-\/-\/)\ \{}
\DoxyCodeLine{00221\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ idx0\ =\ contract\_val[0]\ /\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a0260008bb7e36d0ec61510a71c59a74c}{m\_k\_strides}}[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}];}
\DoxyCodeLine{00222\ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ idx1\ =\ contract\_val[1]\ /\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a0260008bb7e36d0ec61510a71c59a74c}{m\_k\_strides}}[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}];}
\DoxyCodeLine{00223\ \ \ \ \ \ \ \ \ linidx[0]\ +=\ idx0\ *\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a7bd364fd2352f31405724fa2d22e4083}{m\_contract\_strides}}[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}];}
\DoxyCodeLine{00224\ \ \ \ \ \ \ \ \ linidx[1]\ +=\ idx1\ *\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a7bd364fd2352f31405724fa2d22e4083}{m\_contract\_strides}}[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}];}
\DoxyCodeLine{00225\ \ \ \ \ \ \ \ \ contract\_val[0]\ -\/=\ idx0\ *\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a0260008bb7e36d0ec61510a71c59a74c}{m\_k\_strides}}[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}];}
\DoxyCodeLine{00226\ \ \ \ \ \ \ \ \ contract\_val[1]\ -\/=\ idx1\ *\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a0260008bb7e36d0ec61510a71c59a74c}{m\_k\_strides}}[\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}];}
\DoxyCodeLine{00227\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00228\ }
\DoxyCodeLine{00229\ \ \ \ \ \ \ \textcolor{keywordflow}{if}\ (side\ ==\ \mbox{\hyperlink{namespaceEigen_1_1internal_aa085ebbff5643578b80dd9f8fcb8d77dabc0d1bfef81f2d7b444c8658bc523042}{Rhs}}\ \&\&\ inner\_dim\_contiguous)\ \{}
\DoxyCodeLine{00230\ \ \ \ \ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a7bd364fd2352f31405724fa2d22e4083}{m\_contract\_strides}}[0]\ ==\ 1);}
\DoxyCodeLine{00231\ \ \ \ \ \ \ \ \ linidx[0]\ +=\ contract\_val[0];}
\DoxyCodeLine{00232\ \ \ \ \ \ \ \ \ linidx[1]\ +=\ contract\_val[1];}
\DoxyCodeLine{00233\ \ \ \ \ \ \ \}\ \textcolor{keywordflow}{else}\ \{}
\DoxyCodeLine{00234\ \ \ \ \ \ \ \ \ linidx[0]\ +=\ contract\_val[0]\ *\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a7bd364fd2352f31405724fa2d22e4083}{m\_contract\_strides}}[0];}
\DoxyCodeLine{00235\ \ \ \ \ \ \ \ \ linidx[1]\ +=\ contract\_val[1]\ *\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a7bd364fd2352f31405724fa2d22e4083}{m\_contract\_strides}}[0];}
\DoxyCodeLine{00236\ \ \ \ \ \ \ \}}
\DoxyCodeLine{00237\ \ \ \ \ \}}
\DoxyCodeLine{00238\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{structEigen_1_1IndexPair}{IndexPair<Index>}}(linidx[0],\ linidx[1]);}
\DoxyCodeLine{00239\ \ \ \}}
\DoxyCodeLine{00240\ }
\DoxyCodeLine{00241\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a8fc4e467d2955cb3512220c72d7ff01c}{firstAligned}}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc_8cc_aad9b71a31372d5c0ab9c23163efe9544}{size}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00242\ \ \ \ \ \textcolor{comment}{//\ Only\ claim\ alignment\ when\ we\ can\ compute\ the\ actual\ stride\ (ie\ when\ we're}}
\DoxyCodeLine{00243\ \ \ \ \ \textcolor{comment}{//\ dealing\ with\ the\ lhs\ with\ inner\_dim\_contiguous.\ This\ is\ because\ the}}
\DoxyCodeLine{00244\ \ \ \ \ \textcolor{comment}{//\ matrix-\/vector\ product\ relies\ on\ the\ stride\ when\ dealing\ with\ aligned\ inputs.}}
\DoxyCodeLine{00245\ \ \ \ \ \textcolor{keywordflow}{return}\ (Alignment\ ==\ \mbox{\hyperlink{group__enums_gga45fe06e29902b7a2773de05ba27b47a1ad37d4c71425bb286e9b4103830538fbf}{Aligned}})\ \&\&\ (side\ ==\ \mbox{\hyperlink{namespaceEigen_1_1internal_aa085ebbff5643578b80dd9f8fcb8d77da70822e454a6eb37b1dd2a2aaa94342c2}{Lhs}})\ \&\&\ inner\_dim\_contiguous\ ?\ 0\ :\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2internal_2low__level__alloc_8cc_aad9b71a31372d5c0ab9c23163efe9544}{size}};}
\DoxyCodeLine{00246\ \ \ \}}
\DoxyCodeLine{00247\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a9f8a9600c4cf1b1ac7eacacbd4cc4dab}{stride}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00248\ \ \ \ \ \textcolor{keywordflow}{return}\ ((side\ ==\ \mbox{\hyperlink{namespaceEigen_1_1internal_aa085ebbff5643578b80dd9f8fcb8d77da70822e454a6eb37b1dd2a2aaa94342c2}{Lhs}})\ \&\&\ inner\_dim\_contiguous\ \&\&\ \mbox{\hyperlink{structEigen_1_1internal_1_1array__size}{array\_size<contract\_t>::value}}\ >\ 0)\ ?\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a7bd364fd2352f31405724fa2d22e4083}{m\_contract\_strides}}[0]\ :\ 1;}
\DoxyCodeLine{00249\ \ \ \}}
\DoxyCodeLine{00250\ }
\DoxyCodeLine{00251\ \textcolor{preprocessor}{\ \ \#ifdef\ EIGEN\_USE\_SYCL}}
\DoxyCodeLine{00252\ \ \ \textcolor{comment}{//\ The\ placeholder\ accessors\ require\ to\ be\ bound\ to\ a\ command\ group\ handler\ for\ SYCL}}
\DoxyCodeLine{00253\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ bind(cl::sycl::handler\ \&cgh)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00254\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac5c613463d0f44b195523b272e0d2454}{m\_tensor}}.bind(cgh);}
\DoxyCodeLine{00255\ \ \ \}}
\DoxyCodeLine{00256\ \textcolor{preprocessor}{\ \ \#endif}}
\DoxyCodeLine{00257\ }
\DoxyCodeLine{00258\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1internal_1_1CoeffLoader}{CoeffLoader<Tensor,\ Tensor::RawAccess,\ MakePointer\_>}}\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac98f4cef6fad24c4d1f1897b784091ab}{tensor}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00259\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac5c613463d0f44b195523b272e0d2454}{m\_tensor}};}
\DoxyCodeLine{00260\ \ \ \}}
\DoxyCodeLine{00261\ }
\DoxyCodeLine{00262\ \ \ \textcolor{keyword}{const}\ nocontract\_t\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a7bf80c35d0a208224df2776c5415a8e2}{nocontract\_strides}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00263\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a5967925db14d6481d1785b07a2b745fb}{m\_nocontract\_strides}};}
\DoxyCodeLine{00264\ \ \ \}}
\DoxyCodeLine{00265\ \ \ \textcolor{keyword}{const}\ nocontract\_t\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a46786e44475e844b5a6034ac1c667416}{ij\_strides}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_aea14da2c841f433ebeb214f6e592ce0d}{m\_ij\_strides}};\ \}}
\DoxyCodeLine{00266\ \ \ \textcolor{keyword}{const}\ contract\_t\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a852da97cfe431d68800822512476c9a1}{contract\_strides}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a7bd364fd2352f31405724fa2d22e4083}{m\_contract\_strides}};\ \}}
\DoxyCodeLine{00267\ \ \ \textcolor{keyword}{const}\ contract\_t\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a14cd942da96fa53ae8e0c6457ef71aa3}{k\_strides}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a0260008bb7e36d0ec61510a71c59a74c}{m\_k\_strides}};\ \}}
\DoxyCodeLine{00268\ }
\DoxyCodeLine{00269\ \ \textcolor{keyword}{protected}:}
\DoxyCodeLine{00270\ \ \ \mbox{\hyperlink{structEigen_1_1internal_1_1CoeffLoader}{CoeffLoader<Tensor,\ Tensor::RawAccess,\ MakePointer\_>}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac5c613463d0f44b195523b272e0d2454}{m\_tensor}};}
\DoxyCodeLine{00271\ \ \ \textcolor{keyword}{const}\ nocontract\_t\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a5967925db14d6481d1785b07a2b745fb}{m\_nocontract\_strides}};}
\DoxyCodeLine{00272\ \ \ \textcolor{keyword}{const}\ nocontract\_t\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_aea14da2c841f433ebeb214f6e592ce0d}{m\_ij\_strides}};}
\DoxyCodeLine{00273\ \ \ \textcolor{keyword}{const}\ contract\_t\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a7bd364fd2352f31405724fa2d22e4083}{m\_contract\_strides}};}
\DoxyCodeLine{00274\ \ \ \textcolor{keyword}{const}\ contract\_t\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a0260008bb7e36d0ec61510a71c59a74c}{m\_k\_strides}};}
\DoxyCodeLine{00275\ \};}
\DoxyCodeLine{00276\ }
\DoxyCodeLine{00277\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Scalar,\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}},\ \textcolor{keywordtype}{int}\ side,}
\DoxyCodeLine{00278\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1Tensor}{Tensor}},}
\DoxyCodeLine{00279\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ nocontract\_t,\ \textcolor{keyword}{typename}\ contract\_t,}
\DoxyCodeLine{00280\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ packet\_size,\ \textcolor{keywordtype}{bool}\ inner\_dim\_contiguous,}
\DoxyCodeLine{00281\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ inner\_dim\_reordered,\ \textcolor{keywordtype}{int}\ Alignment,\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}>\ \textcolor{keyword}{class\ }MakePointer\_>}
\DoxyCodeLine{00282\ \textcolor{keyword}{class\ }\mbox{\hyperlink{classEigen_1_1internal_1_1BaseTensorContractionMapper}{BaseTensorContractionMapper}}\ :\ \textcolor{keyword}{public}\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper}{SimpleTensorContractionMapper}}<Scalar,\ Index,\ side,\ Tensor,\ nocontract\_t,\ contract\_t,\ packet\_size,\ inner\_dim\_contiguous,\ Alignment,\ MakePointer\_>}
\DoxyCodeLine{00283\ \{}
\DoxyCodeLine{00284\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00285\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper}{SimpleTensorContractionMapper<Scalar,\ Index,\ side,\ Tensor,\ nocontract\_t,\ contract\_t,\ packet\_size,\ inner\_dim\_contiguous,\ Alignment,\ MakePointer\_>}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1BaseTensorContractionMapper_acc9ee05f0551179280716238e63a8fca}{ParentMapper}};}
\DoxyCodeLine{00286\ }
\DoxyCodeLine{00287\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}}
\DoxyCodeLine{00288\ \ \ \mbox{\hyperlink{classEigen_1_1internal_1_1BaseTensorContractionMapper_ab2a9f57728a134a39a62310220fb586d}{BaseTensorContractionMapper}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1Tensor}{Tensor}}\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac98f4cef6fad24c4d1f1897b784091ab}{tensor}},}
\DoxyCodeLine{00289\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ nocontract\_t\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a7bf80c35d0a208224df2776c5415a8e2}{nocontract\_strides}},}
\DoxyCodeLine{00290\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ nocontract\_t\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a46786e44475e844b5a6034ac1c667416}{ij\_strides}},}
\DoxyCodeLine{00291\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ contract\_t\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a852da97cfe431d68800822512476c9a1}{contract\_strides}},}
\DoxyCodeLine{00292\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ contract\_t\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a14cd942da96fa53ae8e0c6457ef71aa3}{k\_strides}})\ :}
\DoxyCodeLine{00293\ \ \ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper}{ParentMapper}}(\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac98f4cef6fad24c4d1f1897b784091ab}{tensor}},\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a7bf80c35d0a208224df2776c5415a8e2}{nocontract\_strides}},\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a46786e44475e844b5a6034ac1c667416}{ij\_strides}},\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a852da97cfe431d68800822512476c9a1}{contract\_strides}},\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a14cd942da96fa53ae8e0c6457ef71aa3}{k\_strides}})\ \{\ \}}
\DoxyCodeLine{00294\ }
\DoxyCodeLine{00295\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ PacketT,\textcolor{keywordtype}{int}\ AlignmentType>}
\DoxyCodeLine{00296\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}}
\DoxyCodeLine{00297\ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1enable__if}{internal::enable\_if<internal::unpacket\_traits<PacketT>::size}}==packet\_size,PacketT>::type}
\DoxyCodeLine{00298\ \ \ \mbox{\hyperlink{classEigen_1_1internal_1_1BaseTensorContractionMapper_ae6de1ea1b3e09aeb99349a205541095a}{load}}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00299\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00300\ \ \ \ \ \textcolor{comment}{//\ whole\ method\ makes\ column\ major\ assumption}}
\DoxyCodeLine{00301\ }
\DoxyCodeLine{00302\ \ \ \ \ \textcolor{comment}{//\ don't\ need\ to\ add\ offsets\ for\ now\ (because\ operator\ handles\ that)}}
\DoxyCodeLine{00303\ \ \ \ \ \textcolor{comment}{//\ current\ code\ assumes\ packet\ size\ must\ be\ a\ multiple\ of\ 2}}
\DoxyCodeLine{00304\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2StaticAssert_8h_ac95cf960f4a8395b28af90edfda755f0}{EIGEN\_STATIC\_ASSERT}}(packet\_size\ \%\ 2\ ==\ 0,\ YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);}
\DoxyCodeLine{00305\ }
\DoxyCodeLine{00306\ \ \ \ \ \textcolor{keywordflow}{if}\ (Tensor::PacketAccess\ \&\&\ inner\_dim\_contiguous\ \&\&\ !inner\_dim\_reordered)\ \{}
\DoxyCodeLine{00307\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ index\ =\ this-\/>\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a2a125017d008f82704f8f76905dda276}{computeIndex}}(i,\ j);}
\DoxyCodeLine{00308\ \ \ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_acaa7ba89800cfe18d5fd6eed620aea9c}{eigen\_assert}}(this-\/>\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a2a125017d008f82704f8f76905dda276}{computeIndex}}(i+packet\_size-\/1,\ j)\ ==\ index\ +\ packet\_size-\/1);}
\DoxyCodeLine{00309\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac5c613463d0f44b195523b272e0d2454}{m\_tensor}}.template\ packet<AlignmentType>(index);}
\DoxyCodeLine{00310\ \ \ \ \ \}}
\DoxyCodeLine{00311\ }
\DoxyCodeLine{00312\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1IndexPair}{IndexPair<Index>}}\ indexPair\ =\ this-\/>\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a13350d5d37c005912cde5940c7e321eb}{computeIndexPair}}(i,\ j,\ packet\_size\ -\/\ 1);}
\DoxyCodeLine{00313\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{namespaceEigen_1_1internal_aa931747bff074d6cacefff640074a4f9}{first}}\ =\ indexPair.\mbox{\hyperlink{structEigen_1_1IndexPair_a6353533a4ca3f3c50d39465fa850f123}{first}};}
\DoxyCodeLine{00314\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ lastIdx\ =\ indexPair.\mbox{\hyperlink{structEigen_1_1IndexPair_a77c0f19ab2659e973e9a56e2440a5004}{second}};}
\DoxyCodeLine{00315\ }
\DoxyCodeLine{00316\ \ \ \ \ \textcolor{comment}{//\ We\ can\ always\ do\ optimized\ packet\ reads\ from\ left\ hand\ side\ right\ now,\ because}}
\DoxyCodeLine{00317\ \ \ \ \ \textcolor{comment}{//\ the\ vertical\ matrix\ dimension\ on\ the\ left\ hand\ side\ is\ never\ contracting.}}
\DoxyCodeLine{00318\ \ \ \ \ \textcolor{comment}{//\ On\ the\ right\ hand\ side\ we\ need\ to\ check\ if\ the\ contracting\ dimensions\ may\ have}}
\DoxyCodeLine{00319\ \ \ \ \ \textcolor{comment}{//\ been\ shuffled\ first.}}
\DoxyCodeLine{00320\ \ \ \ \ \textcolor{keywordflow}{if}\ (Tensor::PacketAccess\ \&\&}
\DoxyCodeLine{00321\ \ \ \ \ \ \ \ \ (side\ ==\ \mbox{\hyperlink{namespaceEigen_1_1internal_aa085ebbff5643578b80dd9f8fcb8d77da70822e454a6eb37b1dd2a2aaa94342c2}{Lhs}}\ ||\ \mbox{\hyperlink{structEigen_1_1internal_1_1array__size}{internal::array\_size<contract\_t>::value}}\ <=\ 1\ ||\ !inner\_dim\_reordered)\ \&\&}
\DoxyCodeLine{00322\ \ \ \ \ \ \ \ \ (lastIdx\ -\/\ \mbox{\hyperlink{namespaceEigen_1_1internal_aa931747bff074d6cacefff640074a4f9}{first}})\ ==\ (packet\_size\ -\/\ 1))\ \{}
\DoxyCodeLine{00323\ }
\DoxyCodeLine{00324\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac5c613463d0f44b195523b272e0d2454}{m\_tensor}}.template\ packet<AlignmentType>(\mbox{\hyperlink{namespaceEigen_1_1internal_aa931747bff074d6cacefff640074a4f9}{first}});}
\DoxyCodeLine{00325\ \ \ \ \ \}}
\DoxyCodeLine{00326\ }
\DoxyCodeLine{00327\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2ConfigureVectorization_8h_a13d55467be312f50f2ae60737f1ed9f3}{EIGEN\_ALIGN\_MAX}}\ Scalar\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[packet\_size];}
\DoxyCodeLine{00328\ }
\DoxyCodeLine{00329\ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[0]\ =\ this-\/>\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac5c613463d0f44b195523b272e0d2454}{m\_tensor}}.coeff(first);}
\DoxyCodeLine{00330\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a3c7e37b5f6cd41e80197523bca19b505}{EIGEN\_UNROLL\_LOOP}}}
\DoxyCodeLine{00331\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ k\ =\ 1;\ k\ <\ packet\_size\ -\/\ 1;\ k\ +=\ 2)\ \{}
\DoxyCodeLine{00332\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1IndexPair}{IndexPair<Index>}}\ internal\_pair\ =\ this-\/>\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a13350d5d37c005912cde5940c7e321eb}{computeIndexPair}}(i\ +\ k,\ j,\ 1);}
\DoxyCodeLine{00333\ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[k]\ =\ this-\/>\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac5c613463d0f44b195523b272e0d2454}{m\_tensor}}.coeff(internal\_pair.\mbox{\hyperlink{structEigen_1_1IndexPair_a6353533a4ca3f3c50d39465fa850f123}{first}});}
\DoxyCodeLine{00334\ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[k\ +\ 1]\ =\ this-\/>\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac5c613463d0f44b195523b272e0d2454}{m\_tensor}}.coeff(internal\_pair.\mbox{\hyperlink{structEigen_1_1IndexPair_a77c0f19ab2659e973e9a56e2440a5004}{second}});}
\DoxyCodeLine{00335\ \ \ \ \ \}}
\DoxyCodeLine{00336\ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[packet\_size\ -\/\ 1]\ =\ this-\/>\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac5c613463d0f44b195523b272e0d2454}{m\_tensor}}.coeff(lastIdx);}
\DoxyCodeLine{00337\ }
\DoxyCodeLine{00338\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceEigen_1_1internal_ae25c18feab0271a245176a7a3f2dcd3d}{pload<PacketT>}}(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}});}
\DoxyCodeLine{00339\ \ \ \}}
\DoxyCodeLine{00340\ }
\DoxyCodeLine{00341\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ PacketT,\textcolor{keywordtype}{int}\ AlignmentType>}
\DoxyCodeLine{00342\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}}
\DoxyCodeLine{00343\ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{structEigen_1_1internal_1_1enable__if}{internal::enable\_if<internal::unpacket\_traits<PacketT>::size}}!=packet\_size,PacketT>::type}
\DoxyCodeLine{00344\ \ \ \mbox{\hyperlink{classEigen_1_1internal_1_1BaseTensorContractionMapper_ac9ca81ec4dd673112d7ef3eb8f677d07}{load}}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j)\textcolor{keyword}{\ const}}
\DoxyCodeLine{00345\ \textcolor{keyword}{\ \ }\{}
\DoxyCodeLine{00346\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ requested\_packet\_size\ =\ \mbox{\hyperlink{structEigen_1_1internal_1_1unpacket__traits}{internal::unpacket\_traits<PacketT>::size}};}
\DoxyCodeLine{00347\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2ConfigureVectorization_8h_a13d55467be312f50f2ae60737f1ed9f3}{EIGEN\_ALIGN\_MAX}}\ Scalar\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[requested\_packet\_size];}
\DoxyCodeLine{00348\ }
\DoxyCodeLine{00349\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1IndexPair}{IndexPair<Index>}}\ indexPair\ =\ this-\/>\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a13350d5d37c005912cde5940c7e321eb}{computeIndexPair}}(i,\ j,\ requested\_packet\_size\ -\/\ 1);}
\DoxyCodeLine{00350\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{namespaceEigen_1_1internal_aa931747bff074d6cacefff640074a4f9}{first}}\ =\ indexPair.\mbox{\hyperlink{structEigen_1_1IndexPair_a6353533a4ca3f3c50d39465fa850f123}{first}};}
\DoxyCodeLine{00351\ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ lastIdx\ =\ indexPair.\mbox{\hyperlink{structEigen_1_1IndexPair_a77c0f19ab2659e973e9a56e2440a5004}{second}};}
\DoxyCodeLine{00352\ }
\DoxyCodeLine{00353\ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[0]\ =\ this-\/>\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac5c613463d0f44b195523b272e0d2454}{m\_tensor}}.coeff(first);}
\DoxyCodeLine{00354\ \ \ \ \ \textcolor{keywordflow}{for}\ (\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ k\ =\ 1;\ k\ <\ requested\_packet\_size\ -\/\ 1;\ k\ +=\ 2)\ \{}
\DoxyCodeLine{00355\ \ \ \ \ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1IndexPair}{IndexPair<Index>}}\ internal\_pair\ =\ this-\/>\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a13350d5d37c005912cde5940c7e321eb}{computeIndexPair}}(i\ +\ k,\ j,\ 1);}
\DoxyCodeLine{00356\ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[k]\ =\ this-\/>\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac5c613463d0f44b195523b272e0d2454}{m\_tensor}}.coeff(internal\_pair.\mbox{\hyperlink{structEigen_1_1IndexPair_a6353533a4ca3f3c50d39465fa850f123}{first}});}
\DoxyCodeLine{00357\ \ \ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[k\ +\ 1]\ =\ this-\/>\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac5c613463d0f44b195523b272e0d2454}{m\_tensor}}.coeff(internal\_pair.\mbox{\hyperlink{structEigen_1_1IndexPair_a77c0f19ab2659e973e9a56e2440a5004}{second}});}
\DoxyCodeLine{00358\ \ \ \ \ \}}
\DoxyCodeLine{00359\ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[requested\_packet\_size\ -\/\ 1]\ =\ this-\/>\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac5c613463d0f44b195523b272e0d2454}{m\_tensor}}.coeff(lastIdx);}
\DoxyCodeLine{00360\ }
\DoxyCodeLine{00361\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceEigen_1_1internal_ae25c18feab0271a245176a7a3f2dcd3d}{pload<PacketT>}}(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}});}
\DoxyCodeLine{00362\ \ \ \}}
\DoxyCodeLine{00363\ }
\DoxyCodeLine{00364\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ PacketT,\textcolor{keywordtype}{int}\ AlignmentType>}
\DoxyCodeLine{00365\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}}
\DoxyCodeLine{00366\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ PacketT\ \mbox{\hyperlink{classEigen_1_1internal_1_1BaseTensorContractionMapper_af2da699eb01175fe1ba21b18c581d86d}{loadPacket}}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00367\ \ \ \ \ \textcolor{keywordflow}{return}\ this-\/>\mbox{\hyperlink{classEigen_1_1internal_1_1BaseTensorContractionMapper_ae6de1ea1b3e09aeb99349a205541095a}{load<PacketT,AlignmentType>}}(i,j);}
\DoxyCodeLine{00368\ \ \ \}}
\DoxyCodeLine{00369\ \};}
\DoxyCodeLine{00370\ }
\DoxyCodeLine{00371\ }
\DoxyCodeLine{00372\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Scalar,\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}},\ \textcolor{keywordtype}{int}\ side,}
\DoxyCodeLine{00373\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1Tensor}{Tensor}},}
\DoxyCodeLine{00374\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ nocontract\_t,\ \textcolor{keyword}{typename}\ contract\_t,}
\DoxyCodeLine{00375\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ inner\_dim\_contiguous,}
\DoxyCodeLine{00376\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ inner\_dim\_reordered,\ \textcolor{keywordtype}{int}\ Alignment,\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}>\ \textcolor{keyword}{class\ }MakePointer\_>}
\DoxyCodeLine{00377\ \textcolor{keyword}{class\ }BaseTensorContractionMapper<Scalar,\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}},\ side,\ \mbox{\hyperlink{classEigen_1_1Tensor}{Tensor}},\ nocontract\_t,\ contract\_t,\ 1,\ inner\_dim\_contiguous,\ inner\_dim\_reordered,\ Alignment,\ MakePointer\_>}
\DoxyCodeLine{00378\ \ \ :\ \textcolor{keyword}{public}\ SimpleTensorContractionMapper<Scalar,\ Index,\ side,\ Tensor,\ nocontract\_t,\ contract\_t,\ 1,\ inner\_dim\_contiguous,\ Alignment,\ MakePointer\_>}
\DoxyCodeLine{00379\ \{}
\DoxyCodeLine{00380\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00381\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper}{SimpleTensorContractionMapper<Scalar,\ Index,\ side,\ Tensor,\ nocontract\_t,\ contract\_t,\ 1,\ inner\_dim\_contiguous,\ Alignment,\ MakePointer\_>}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1BaseTensorContractionMapper_3_01Scalar_00_01Index_00_01side_00_01Tenso130aa85baa55cd433a849efc073122bc_a7c98dd8d95f96c1d1337142848e57bd8}{ParentMapper}};}
\DoxyCodeLine{00382\ }
\DoxyCodeLine{00383\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}}
\DoxyCodeLine{00384\ \ \ \mbox{\hyperlink{classEigen_1_1internal_1_1BaseTensorContractionMapper_3_01Scalar_00_01Index_00_01side_00_01Tenso130aa85baa55cd433a849efc073122bc_afafae2169cc1050b79b65ab4bc8dc82b}{BaseTensorContractionMapper}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1Tensor}{Tensor}}\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac98f4cef6fad24c4d1f1897b784091ab}{tensor}},}
\DoxyCodeLine{00385\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ nocontract\_t\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a7bf80c35d0a208224df2776c5415a8e2}{nocontract\_strides}},}
\DoxyCodeLine{00386\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ nocontract\_t\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a46786e44475e844b5a6034ac1c667416}{ij\_strides}},}
\DoxyCodeLine{00387\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ contract\_t\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a852da97cfe431d68800822512476c9a1}{contract\_strides}},}
\DoxyCodeLine{00388\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ contract\_t\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a14cd942da96fa53ae8e0c6457ef71aa3}{k\_strides}})\ :}
\DoxyCodeLine{00389\ \ \ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper}{ParentMapper}}(\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac98f4cef6fad24c4d1f1897b784091ab}{tensor}},\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a7bf80c35d0a208224df2776c5415a8e2}{nocontract\_strides}},\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a46786e44475e844b5a6034ac1c667416}{ij\_strides}},\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a852da97cfe431d68800822512476c9a1}{contract\_strides}},\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a14cd942da96fa53ae8e0c6457ef71aa3}{k\_strides}})\ \{\ \}}
\DoxyCodeLine{00390\ }
\DoxyCodeLine{00391\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ PacketT,\textcolor{keywordtype}{int}>\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}}
\DoxyCodeLine{00392\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ PacketT\ \mbox{\hyperlink{classEigen_1_1internal_1_1BaseTensorContractionMapper_3_01Scalar_00_01Index_00_01side_00_01Tenso130aa85baa55cd433a849efc073122bc_af901716045a873a0bd07e2ca07eb7000}{loadPacket}}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00393\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2ConfigureVectorization_8h_a13d55467be312f50f2ae60737f1ed9f3}{EIGEN\_ALIGN\_MAX}}\ Scalar\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[1];}
\DoxyCodeLine{00394\ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[0]\ =\ this-\/>\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac5c613463d0f44b195523b272e0d2454}{m\_tensor}}.coeff(this-\/>\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a2a125017d008f82704f8f76905dda276}{computeIndex}}(i,\ j));}
\DoxyCodeLine{00395\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceEigen_1_1internal_ae25c18feab0271a245176a7a3f2dcd3d}{pload<PacketT>}}(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}});}
\DoxyCodeLine{00396\ \ \ \}}
\DoxyCodeLine{00397\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ PacketT,\textcolor{keywordtype}{int}>\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}}
\DoxyCodeLine{00398\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ PacketT\ \mbox{\hyperlink{classEigen_1_1internal_1_1BaseTensorContractionMapper_3_01Scalar_00_01Index_00_01side_00_01Tenso130aa85baa55cd433a849efc073122bc_aa9f026b415ccec00809c38f5cc42620d}{load}}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00399\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2ConfigureVectorization_8h_a13d55467be312f50f2ae60737f1ed9f3}{EIGEN\_ALIGN\_MAX}}\ Scalar\ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[1];}
\DoxyCodeLine{00400\ \ \ \ \ \mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}}[0]\ =\ this-\/>\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac5c613463d0f44b195523b272e0d2454}{m\_tensor}}.coeff(this-\/>\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a2a125017d008f82704f8f76905dda276}{computeIndex}}(i,\ j));}
\DoxyCodeLine{00401\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{namespaceEigen_1_1internal_ae25c18feab0271a245176a7a3f2dcd3d}{pload<PacketT>}}(\mbox{\hyperlink{abseil-cpp_2absl_2strings_2internal_2str__format_2float__conversion_8cc_adafb71d8f41ef4c3e3d3ccb46fe854c8}{data}});}
\DoxyCodeLine{00402\ \ \ \}}
\DoxyCodeLine{00403\ \};}
\DoxyCodeLine{00404\ }
\DoxyCodeLine{00405\ }
\DoxyCodeLine{00406\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Scalar,\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}},\ \textcolor{keywordtype}{int}\ side,}
\DoxyCodeLine{00407\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1Tensor}{Tensor}},}
\DoxyCodeLine{00408\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ nocontract\_t,\ \textcolor{keyword}{typename}\ contract\_t,}
\DoxyCodeLine{00409\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ packet\_size,}
\DoxyCodeLine{00410\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ inner\_dim\_contiguous,\ \textcolor{keywordtype}{bool}\ inner\_dim\_reordered,\ \textcolor{keywordtype}{int}\ Alignment,\ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}>\ \textcolor{keyword}{class\ }MakePointer\_=\mbox{\hyperlink{structEigen_1_1MakePointer}{MakePointer}}>}
\DoxyCodeLine{00411\ \textcolor{keyword}{class\ }TensorContractionSubMapper\ \{}
\DoxyCodeLine{00412\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00413\ }
\DoxyCodeLine{00414\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1internal_1_1BaseTensorContractionMapper}{BaseTensorContractionMapper<Scalar,\ Index,\ side,\ Tensor,\ nocontract\_t,\ contract\_t,\ packet\_size,\ inner\_dim\_contiguous,\ inner\_dim\_reordered,\ Alignment,\ MakePointer\_>}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_aa7701ede13dd8ee18afbc098b5ab6dd6}{ParentMapper}};}
\DoxyCodeLine{00415\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper}{TensorContractionSubMapper<Scalar,\ Index,\ side,\ Tensor,\ nocontract\_t,\ contract\_t,\ packet\_size,\ inner\_dim\_contiguous,\ inner\_dim\_reordered,\ Alignment,\ MakePointer\_>}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_abf1a1c87d262daefa589b49b9509affc}{Self}};}
\DoxyCodeLine{00416\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper}{Self}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_ac3faab57229caa82d4405222d6f3b176}{LinearMapper}};}
\DoxyCodeLine{00417\ }
\DoxyCodeLine{00418\ \ \ \textcolor{keyword}{enum}\ \{}
\DoxyCodeLine{00419\ \ \ \ \ \textcolor{comment}{//\ We\ can\ use\ direct\ offsets\ iff\ the\ parent\ mapper\ supports\ then\ and\ we\ can\ compute\ the\ strides.}}
\DoxyCodeLine{00420\ \ \ \ \ \textcolor{comment}{//\ TODO:\ we\ should\ also\ enable\ direct\ offsets\ for\ the\ Rhs\ case.}}
\DoxyCodeLine{00421\ \ \ \ \ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a7000bef5474d526460a7a17c1ae63addaf0a4f3a1954b2f5510aa123406909943}{UseDirectOffsets}}\ =\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac7355d98eaa13f33fb616f655cb8420da6f7e78ec3940b46a4f32db6aecc21455}{ParentMapper::DirectOffsets}}\ \&\&\ (side\ ==\ \mbox{\hyperlink{namespaceEigen_1_1internal_aa085ebbff5643578b80dd9f8fcb8d77da70822e454a6eb37b1dd2a2aaa94342c2}{Lhs}})\ \&\&\ inner\_dim\_contiguous\ \&\&\ (\mbox{\hyperlink{structEigen_1_1internal_1_1array__size}{array\_size<contract\_t>::value}}\ >\ 0)}
\DoxyCodeLine{00422\ \ \ \};}
\DoxyCodeLine{00423\ }
\DoxyCodeLine{00424\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a47198b050029a24ce20ce32f6d7a6905}{TensorContractionSubMapper}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1internal_1_1BaseTensorContractionMapper}{ParentMapper}}\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a781ff91e41b80b111e3ec0f2f5948b58}{base\_mapper}},\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_aab389b4291ea8b10f5a95f558e862d6a}{vert\_offset}},\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_af58287e47150933e26f891084ac261c4}{horiz\_offset}})}
\DoxyCodeLine{00425\ \ \ \ \ \ \ :\ m\_base\_mapper(\mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a781ff91e41b80b111e3ec0f2f5948b58}{base\_mapper}}),\ m\_vert\_offset(\mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_aab389b4291ea8b10f5a95f558e862d6a}{vert\_offset}}),\ m\_horiz\_offset(\mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_af58287e47150933e26f891084ac261c4}{horiz\_offset}})\ \{}
\DoxyCodeLine{00426\ \ \ \ \ \textcolor{comment}{//\ Bake\ the\ offsets\ into\ the\ buffer\ used\ by\ the\ base\ mapper\ whenever\ possible.\ This\ avoids\ the\ need\ to\ recompute}}
\DoxyCodeLine{00427\ \ \ \ \ \textcolor{comment}{//\ this\ offset\ every\ time\ we\ attempt\ to\ access\ a\ coefficient.}}
\DoxyCodeLine{00428\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a7000bef5474d526460a7a17c1ae63addaf0a4f3a1954b2f5510aa123406909943}{UseDirectOffsets}})\ \{}
\DoxyCodeLine{00429\ \ \ \ \ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ stride\ =\ m\_base\_mapper.\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a9f8a9600c4cf1b1ac7eacacbd4cc4dab}{stride}}();}
\DoxyCodeLine{00430\ \ \ \ \ \ \ m\_base\_mapper.\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_adf0385d8478ed1c20ec849cb087aaaf8}{offsetBuffer}}(\mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_aab389b4291ea8b10f5a95f558e862d6a}{vert\_offset}}\ +\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_af58287e47150933e26f891084ac261c4}{horiz\_offset}}\ *\ stride);}
\DoxyCodeLine{00431\ \ \ \ \ \}}
\DoxyCodeLine{00432\ \ \ \}}
\DoxyCodeLine{00433\ }
\DoxyCodeLine{00434\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ Scalar\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a68821a9eec0ca6422b1109f3d2fb0286}{operator()}}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00435\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a7000bef5474d526460a7a17c1ae63addaf0a4f3a1954b2f5510aa123406909943}{UseDirectOffsets}})\ \{}
\DoxyCodeLine{00436\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_base\_mapper(\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ 0);}
\DoxyCodeLine{00437\ \ \ \ \ \}}
\DoxyCodeLine{00438\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_base\_mapper(\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ +\ m\_vert\_offset,\ m\_horiz\_offset);}
\DoxyCodeLine{00439\ \ \ \}}
\DoxyCodeLine{00440\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ Scalar\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_afef362c694e2336461f70edf7342bb3f}{operator()}}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00441\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a7000bef5474d526460a7a17c1ae63addaf0a4f3a1954b2f5510aa123406909943}{UseDirectOffsets}})\ \{}
\DoxyCodeLine{00442\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_base\_mapper(\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ j);}
\DoxyCodeLine{00443\ \ \ \ \ \}}
\DoxyCodeLine{00444\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_base\_mapper(\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ +\ m\_vert\_offset,\ j\ +\ m\_horiz\_offset);}
\DoxyCodeLine{00445\ \ \ \}}
\DoxyCodeLine{00446\ }
\DoxyCodeLine{00447\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ PacketT>}
\DoxyCodeLine{00448\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ PacketT\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a362dac12fd59349c7c376158a6863a59}{loadPacket}}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00449\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a7000bef5474d526460a7a17c1ae63addaf0a4f3a1954b2f5510aa123406909943}{UseDirectOffsets}})\ \{}
\DoxyCodeLine{00450\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_base\_mapper.template\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a362dac12fd59349c7c376158a6863a59}{loadPacket<PacketT,Alignment>}}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ 0);}
\DoxyCodeLine{00451\ \ \ \ \ \}}
\DoxyCodeLine{00452\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_base\_mapper.template\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a362dac12fd59349c7c376158a6863a59}{loadPacket<PacketT,Alignment>}}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ +\ m\_vert\_offset,\ m\_horiz\_offset);}
\DoxyCodeLine{00453\ \ \ \}}
\DoxyCodeLine{00454\ }
\DoxyCodeLine{00455\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ PacketT>}
\DoxyCodeLine{00456\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ PacketT\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_aa488c62daaa500e554b0177afd3f5840}{loadPacket}}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00457\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a7000bef5474d526460a7a17c1ae63addaf0a4f3a1954b2f5510aa123406909943}{UseDirectOffsets}})\ \{}
\DoxyCodeLine{00458\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_base\_mapper.template\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a362dac12fd59349c7c376158a6863a59}{loadPacket<PacketT,Alignment>}}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ j);}
\DoxyCodeLine{00459\ \ \ \ \ \}}
\DoxyCodeLine{00460\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_base\_mapper.template\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a362dac12fd59349c7c376158a6863a59}{loadPacket<PacketT,Alignment>}}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ +\ m\_vert\_offset,\ j\ +\ m\_horiz\_offset);}
\DoxyCodeLine{00461\ \ \ \}}
\DoxyCodeLine{00462\ }
\DoxyCodeLine{00463\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ PacketT,\ \textcolor{keywordtype}{int}\ AlignmentType>}
\DoxyCodeLine{00464\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ PacketT\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a5958be661a97e615a7c30dc2f9ddb001}{loadPacket}}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00465\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a7000bef5474d526460a7a17c1ae63addaf0a4f3a1954b2f5510aa123406909943}{UseDirectOffsets}})\ \{}
\DoxyCodeLine{00466\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_base\_mapper.template\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_ab4b67ef8cd4f43c7a6fa7825b254a534}{load<PacketT,AlignmentType>}}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ j);}
\DoxyCodeLine{00467\ \ \ \ \ \}}
\DoxyCodeLine{00468\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_base\_mapper.template\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a362dac12fd59349c7c376158a6863a59}{loadPacket<PacketT,AlignmentType>}}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ +\ m\_vert\_offset,\ j\ +\ m\_horiz\_offset);}
\DoxyCodeLine{00469\ \ \ \}}
\DoxyCodeLine{00470\ }
\DoxyCodeLine{00471\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ PacketT>}
\DoxyCodeLine{00472\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a6068b735a9849f1b79deac95a99926ad}{storePacket}}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ \textcolor{keyword}{const}\ PacketT\&\ p)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00473\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a7000bef5474d526460a7a17c1ae63addaf0a4f3a1954b2f5510aa123406909943}{UseDirectOffsets}})\ \{}
\DoxyCodeLine{00474\ \ \ \ \ \ \ m\_base\_mapper.storePacket(\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ 0,\ p);}
\DoxyCodeLine{00475\ \ \ \ \ \}}
\DoxyCodeLine{00476\ \ \ \ \ m\_base\_mapper.storePacket(\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ +\ m\_vert\_offset,\ m\_horiz\_offset,\ p);}
\DoxyCodeLine{00477\ \ \ \}}
\DoxyCodeLine{00478\ }
\DoxyCodeLine{00479\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper}{LinearMapper}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a3c4cca80af293c0197ec90daec69f4ea}{getLinearMapper}}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00480\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a7000bef5474d526460a7a17c1ae63addaf0a4f3a1954b2f5510aa123406909943}{UseDirectOffsets}})\ \{}
\DoxyCodeLine{00481\ \ \ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_ac3faab57229caa82d4405222d6f3b176}{LinearMapper}}(m\_base\_mapper,\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ j);}
\DoxyCodeLine{00482\ \ \ \ \ \}}
\DoxyCodeLine{00483\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_ac3faab57229caa82d4405222d6f3b176}{LinearMapper}}(m\_base\_mapper,\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ +\ m\_vert\_offset,\ j\ +\ m\_horiz\_offset);}
\DoxyCodeLine{00484\ \ \ \}}
\DoxyCodeLine{00485\ }
\DoxyCodeLine{00486\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ PacketT,\ \textcolor{keywordtype}{int}\ AlignmentType>}
\DoxyCodeLine{00487\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ PacketT\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_ab4b67ef8cd4f43c7a6fa7825b254a534}{load}}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00488\ \ \ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2StaticAssert_8h_ac95cf960f4a8395b28af90edfda755f0}{EIGEN\_STATIC\_ASSERT}}((\mbox{\hyperlink{structEigen_1_1internal_1_1is__same}{internal::is\_same<PacketT,\ PacketT>::value}}),\ YOU\_MADE\_A\_PROGRAMMING\_MISTAKE);}
\DoxyCodeLine{00489\ \ \ \ \ \textcolor{keyword}{const}\ \textcolor{keywordtype}{int}\ ActualAlignment\ =\ (\mbox{\hyperlink{group__enums_ga45fe06e29902b7a2773de05ba27b47a1}{AlignmentType}}\ ==\ \mbox{\hyperlink{group__enums_gga45fe06e29902b7a2773de05ba27b47a1ad37d4c71425bb286e9b4103830538fbf}{Aligned}})\ \&\&\ (Alignment\ ==\ \mbox{\hyperlink{group__enums_gga45fe06e29902b7a2773de05ba27b47a1ad37d4c71425bb286e9b4103830538fbf}{Aligned}})\ ?\ \mbox{\hyperlink{group__enums_gga45fe06e29902b7a2773de05ba27b47a1ad37d4c71425bb286e9b4103830538fbf}{Aligned}}\ :\ \mbox{\hyperlink{group__enums_gga45fe06e29902b7a2773de05ba27b47a1ac935220b4c844108e183ebe30a4d5204}{Unaligned}};}
\DoxyCodeLine{00490\ \ \ \ \ \textcolor{keywordflow}{if}\ (\mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a7000bef5474d526460a7a17c1ae63addaf0a4f3a1954b2f5510aa123406909943}{UseDirectOffsets}})\ \{}
\DoxyCodeLine{00491\ \ \ \ \ \ \textcolor{keywordflow}{return}\ m\_base\_mapper.template\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a362dac12fd59349c7c376158a6863a59}{loadPacket<PacketT,ActualAlignment>}}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ 0);}
\DoxyCodeLine{00492\ \ \ \ \ \}}
\DoxyCodeLine{00493\ \ \ \ \ \textcolor{keywordflow}{return}\ m\_base\_mapper.template\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a362dac12fd59349c7c376158a6863a59}{loadPacket<PacketT,ActualAlignment>}}(\mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}}\ +\ m\_vert\_offset,\ m\_horiz\_offset);}
\DoxyCodeLine{00494\ \ \ \}}
\DoxyCodeLine{00495\ }
\DoxyCodeLine{00496\ \ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ PacketT>}
\DoxyCodeLine{00497\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_af681204cf96160fbf36f97df2f6fbd3f}{aligned}}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}})\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00498\ \ \ \ \ \textcolor{keywordflow}{return}\ \textcolor{keyword}{false};}
\DoxyCodeLine{00499\ \ \ \}}
\DoxyCodeLine{00500\ }
\DoxyCodeLine{00501\ \textcolor{preprocessor}{\ \ \#ifdef\ EIGEN\_USE\_SYCL}}
\DoxyCodeLine{00502\ \ \ \textcolor{comment}{//\ The\ placeholder\ accessors\ require\ to\ be\ bound\ to\ a\ command\ group\ handler\ for\ SYCL}}
\DoxyCodeLine{00503\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \textcolor{keywordtype}{void}\ bind(cl::sycl::handler\ \&cgh)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00504\ \ \ \ \ m\_base\_mapper.bind(cgh);}
\DoxyCodeLine{00505\ \ \ \}}
\DoxyCodeLine{00506\ \textcolor{preprocessor}{\ \ \#endif}}
\DoxyCodeLine{00507\ }
\DoxyCodeLine{00508\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1internal_1_1BaseTensorContractionMapper}{ParentMapper}}\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_a781ff91e41b80b111e3ec0f2f5948b58}{base\_mapper}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_base\_mapper;\ \}}
\DoxyCodeLine{00509\ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_aab389b4291ea8b10f5a95f558e862d6a}{vert\_offset}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_vert\_offset;\ \}}
\DoxyCodeLine{00510\ \ \ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_af58287e47150933e26f891084ac261c4}{horiz\_offset}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ m\_horiz\_offset;\ \}}
\DoxyCodeLine{00511\ }
\DoxyCodeLine{00512\ \ \textcolor{keyword}{private}:}
\DoxyCodeLine{00513\ \ \ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper_aa7701ede13dd8ee18afbc098b5ab6dd6}{ParentMapper}}\ m\_base\_mapper;}
\DoxyCodeLine{00514\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ m\_vert\_offset;}
\DoxyCodeLine{00515\ \ \ \textcolor{keyword}{const}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ m\_horiz\_offset;}
\DoxyCodeLine{00516\ \};}
\DoxyCodeLine{00517\ }
\DoxyCodeLine{00518\ }
\DoxyCodeLine{00519\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Scalar\_,\ \textcolor{keyword}{typename}\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}},\ \textcolor{keywordtype}{int}\ side,}
\DoxyCodeLine{00520\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ \mbox{\hyperlink{classEigen_1_1Tensor}{Tensor}},}
\DoxyCodeLine{00521\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ nocontract\_t,\ \textcolor{keyword}{typename}\ contract\_t,}
\DoxyCodeLine{00522\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ packet\_size,}
\DoxyCodeLine{00523\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ inner\_dim\_contiguous,\ \textcolor{keywordtype}{bool}\ inner\_dim\_reordered,\ \textcolor{keywordtype}{int}\ Alignment,\ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}>\ \textcolor{keyword}{class\ }MakePointer\_=\mbox{\hyperlink{structEigen_1_1MakePointer}{MakePointer}}>}
\DoxyCodeLine{00524\ \textcolor{keyword}{class\ }TensorContractionInputMapper}
\DoxyCodeLine{00525\ \ \ :\ \textcolor{keyword}{public}\ BaseTensorContractionMapper<Scalar\_,\ Index,\ side,\ Tensor,\ nocontract\_t,\ contract\_t,\ packet\_size,\ inner\_dim\_contiguous,\ inner\_dim\_reordered,\ Alignment,\ MakePointer\_>\ \{}
\DoxyCodeLine{00526\ }
\DoxyCodeLine{00527\ \ \textcolor{keyword}{public}:}
\DoxyCodeLine{00528\ \ \ \textcolor{keyword}{typedef}\ Scalar\_\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionInputMapper_a8ddd324bac05df5dc8c10fe8637018f1}{Scalar}};}
\DoxyCodeLine{00529\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1internal_1_1BaseTensorContractionMapper}{BaseTensorContractionMapper<Scalar,\ Index,\ side,\ Tensor,\ nocontract\_t,\ contract\_t,\ packet\_size,\ inner\_dim\_contiguous,\ inner\_dim\_reordered,\ Alignment,\ MakePointer\_>}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionInputMapper_a3297cee83d2615af46090ffc307ddbd3}{Base}};}
\DoxyCodeLine{00530\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper}{TensorContractionSubMapper<Scalar,\ Index,\ side,\ Tensor,\ nocontract\_t,\ contract\_t,\ packet\_size,\ inner\_dim\_contiguous,\ inner\_dim\_reordered,\ Alignment,\ MakePointer\_>}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionInputMapper_af7d0c5c49dd8a0d79d5f977f4a66d0e0}{SubMapper}};}
\DoxyCodeLine{00531\ \ \ \textcolor{keyword}{typedef}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper}{SubMapper}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionInputMapper_a1424caf195d5ebf60dd1972b549bdfd2}{VectorMapper}};}
\DoxyCodeLine{00532\ }
\DoxyCodeLine{00533\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionInputMapper_a9d9bc980813d27f6c8fabf38a153ff5b}{TensorContractionInputMapper}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{classEigen_1_1Tensor}{Tensor}}\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac98f4cef6fad24c4d1f1897b784091ab}{tensor}},}
\DoxyCodeLine{00534\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ nocontract\_t\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a7bf80c35d0a208224df2776c5415a8e2}{nocontract\_strides}},}
\DoxyCodeLine{00535\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ nocontract\_t\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a46786e44475e844b5a6034ac1c667416}{ij\_strides}},}
\DoxyCodeLine{00536\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ contract\_t\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a852da97cfe431d68800822512476c9a1}{contract\_strides}},}
\DoxyCodeLine{00537\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{const}\ contract\_t\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a14cd942da96fa53ae8e0c6457ef71aa3}{k\_strides}})}
\DoxyCodeLine{00538\ \ \ \ \ \ \ :\ \mbox{\hyperlink{classEigen_1_1internal_1_1BaseTensorContractionMapper}{Base}}(\mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac98f4cef6fad24c4d1f1897b784091ab}{tensor}},\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a7bf80c35d0a208224df2776c5415a8e2}{nocontract\_strides}},\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a46786e44475e844b5a6034ac1c667416}{ij\_strides}},\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a852da97cfe431d68800822512476c9a1}{contract\_strides}},\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_a14cd942da96fa53ae8e0c6457ef71aa3}{k\_strides}})\ \{\ \}}
\DoxyCodeLine{00539\ }
\DoxyCodeLine{00540\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}}
\DoxyCodeLine{00541\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_af2b60117c00a6e75812de43bfe7db3b1}{EIGEN\_STRONG\_INLINE}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper}{SubMapper}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionInputMapper_a3bfec87d9404cd70d184a4f4768a3090}{getSubMapper}}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00542\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionInputMapper_af7d0c5c49dd8a0d79d5f977f4a66d0e0}{SubMapper}}(*\textcolor{keyword}{this},\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ j);}
\DoxyCodeLine{00543\ \ \ \}}
\DoxyCodeLine{00544\ }
\DoxyCodeLine{00545\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionSubMapper}{VectorMapper}}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionInputMapper_acba11eb42de566dc6161b1b207c8e794}{getVectorMapper}}(\mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ \mbox{\hyperlink{namespaceEigen_a62e77e0933482dafde8fe197d9a2cfde}{Index}}\ j)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00546\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionInputMapper_a1424caf195d5ebf60dd1972b549bdfd2}{VectorMapper}}(*\textcolor{keyword}{this},\ \mbox{\hyperlink{abseil-cpp_2absl_2container_2btree__benchmark_8cc_a717c50cfde3924051c279a89096afd3d}{i}},\ j);}
\DoxyCodeLine{00547\ \ \ \}}
\DoxyCodeLine{00548\ \ \ }
\DoxyCodeLine{00549\ \ \ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a9efec3cfd22b9a33bead9c6718d128da}{EIGEN\_DEVICE\_FUNC}}\ \mbox{\hyperlink{eigen_2Eigen_2src_2Core_2util_2Macros_8h_a1fdc6f94f20527c7275768d82b2eb9ce}{EIGEN\_ALWAYS\_INLINE}}\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structEigen_1_1internal_1_1CoeffLoader}{CoeffLoader<Tensor,\ Tensor::RawAccess,\ MakePointer\_>}}\&\ \mbox{\hyperlink{classEigen_1_1internal_1_1TensorContractionInputMapper_a244ccbe2ab85e5b1b77821fb13455e56}{get\_tensor}}()\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{00550\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{classEigen_1_1internal_1_1SimpleTensorContractionMapper_ac5c613463d0f44b195523b272e0d2454}{Base::m\_tensor}};}
\DoxyCodeLine{00551\ \ \ \}}
\DoxyCodeLine{00552\ \};}
\DoxyCodeLine{00553\ }
\DoxyCodeLine{00554\ }
\DoxyCodeLine{00555\ \textcolor{keyword}{template}\ <\textcolor{keyword}{typename}\ T>\ \textcolor{keyword}{struct\ }TensorContractionInputMapperTrait;}
\DoxyCodeLine{00556\ }
\DoxyCodeLine{00557\ \textcolor{keyword}{template}<\textcolor{keyword}{typename}\ Scalar\_,\ \textcolor{keyword}{typename}\ Index\_,\ \textcolor{keywordtype}{int}\ side\_,}
\DoxyCodeLine{00558\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ Tensor\_,}
\DoxyCodeLine{00559\ \ \ \ \ \ \ \ \ \ \textcolor{keyword}{typename}\ nocontract\_t\_,\ \textcolor{keyword}{typename}\ contract\_t\_,}
\DoxyCodeLine{00560\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{int}\ packet\_size\_,}
\DoxyCodeLine{00561\ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ inner\_dim\_contiguous\_,\ \textcolor{keywordtype}{bool}\ inner\_dim\_reordered\_,\ \textcolor{keywordtype}{int}\ Alignment\_,\ \ \textcolor{keyword}{template}\ <\textcolor{keyword}{class}>\ \textcolor{keyword}{class\ }MakePointer\_>}
\DoxyCodeLine{00562\ \textcolor{keyword}{struct\ }TensorContractionInputMapperTrait<TensorContractionInputMapper<Scalar\_,\ Index\_,\ side\_,\ Tensor\_,\ }
\DoxyCodeLine{00563\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ nocontract\_t\_,\ contract\_t\_,\ packet\_size\_,\ inner\_dim\_contiguous\_,\ }
\DoxyCodeLine{00564\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ inner\_dim\_reordered\_,\ Alignment\_,\ MakePointer\_>\ >\ \{}
\DoxyCodeLine{00565\ }
\DoxyCodeLine{00566\ \ \ \ \ \ \ \textcolor{keyword}{typedef}\ Tensor\_\ \mbox{\hyperlink{structEigen_1_1internal_1_1TensorContractionInputMapperTrait_3_01TensorContractionInputMapper_3_ded5e9df2d2ba16cf0336c2da75d81e1_a1d129ad9a48f34b1c3e17ade79d6a496}{XprType}};}
\DoxyCodeLine{00567\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ \ inner\_dim\_contiguous\ =\ inner\_dim\_contiguous\_;}
\DoxyCodeLine{00568\ \ \ \ \ \ \ \textcolor{keyword}{static}\ \textcolor{keyword}{const}\ \textcolor{keywordtype}{bool}\ \ inner\_dim\_reordered\ =\ inner\_dim\_reordered\_;}
\DoxyCodeLine{00569\ \ \ \};\ \ }
\DoxyCodeLine{00570\ }
\DoxyCodeLine{00571\ }
\DoxyCodeLine{00572\ \}\ \ \textcolor{comment}{//\ end\ namespace\ internal}}
\DoxyCodeLine{00573\ \}\ \ \textcolor{comment}{//\ end\ namespace\ Eigen}}
\DoxyCodeLine{00574\ }
\DoxyCodeLine{00575\ \textcolor{preprocessor}{\#endif\ }\textcolor{comment}{//\ EIGEN\_CXX11\_TENSOR\_TENSOR\_CONTRACTION\_MAPPER\_H}}

\end{DoxyCode}
