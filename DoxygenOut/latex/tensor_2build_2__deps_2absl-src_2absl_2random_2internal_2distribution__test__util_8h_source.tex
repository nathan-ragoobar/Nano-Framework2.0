\doxysection{distribution\+\_\+test\+\_\+util.\+h}
\hypertarget{tensor_2build_2__deps_2absl-src_2absl_2random_2internal_2distribution__test__util_8h_source}{}\label{tensor_2build_2__deps_2absl-src_2absl_2random_2internal_2distribution__test__util_8h_source}\index{tensor/build/\_deps/absl-\/src/absl/random/internal/distribution\_test\_util.h@{tensor/build/\_deps/absl-\/src/absl/random/internal/distribution\_test\_util.h}}
\mbox{\hyperlink{tensor_2build_2__deps_2absl-src_2absl_2random_2internal_2distribution__test__util_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{00001\ \textcolor{comment}{//\ Copyright\ 2017\ The\ Abseil\ Authors.}}
\DoxyCodeLine{00002\ \textcolor{comment}{//}}
\DoxyCodeLine{00003\ \textcolor{comment}{//\ Licensed\ under\ the\ Apache\ License,\ Version\ 2.0\ (the\ "{}License"{});}}
\DoxyCodeLine{00004\ \textcolor{comment}{//\ you\ may\ not\ use\ this\ file\ except\ in\ compliance\ with\ the\ License.}}
\DoxyCodeLine{00005\ \textcolor{comment}{//\ You\ may\ obtain\ a\ copy\ of\ the\ License\ at}}
\DoxyCodeLine{00006\ \textcolor{comment}{//}}
\DoxyCodeLine{00007\ \textcolor{comment}{//\ \ \ \ \ \ https://www.apache.org/licenses/LICENSE-\/2.0}}
\DoxyCodeLine{00008\ \textcolor{comment}{//}}
\DoxyCodeLine{00009\ \textcolor{comment}{//\ Unless\ required\ by\ applicable\ law\ or\ agreed\ to\ in\ writing,\ software}}
\DoxyCodeLine{00010\ \textcolor{comment}{//\ distributed\ under\ the\ License\ is\ distributed\ on\ an\ "{}AS\ IS"{}\ BASIS,}}
\DoxyCodeLine{00011\ \textcolor{comment}{//\ WITHOUT\ WARRANTIES\ OR\ CONDITIONS\ OF\ ANY\ KIND,\ either\ express\ or\ implied.}}
\DoxyCodeLine{00012\ \textcolor{comment}{//\ See\ the\ License\ for\ the\ specific\ language\ governing\ permissions\ and}}
\DoxyCodeLine{00013\ \textcolor{comment}{//\ limitations\ under\ the\ License.}}
\DoxyCodeLine{00014\ }
\DoxyCodeLine{00015\ \textcolor{preprocessor}{\#ifndef\ ABSL\_RANDOM\_INTERNAL\_DISTRIBUTION\_TEST\_UTIL\_H\_}}
\DoxyCodeLine{00016\ \textcolor{preprocessor}{\#define\ ABSL\_RANDOM\_INTERNAL\_DISTRIBUTION\_TEST\_UTIL\_H\_}}
\DoxyCodeLine{00017\ }
\DoxyCodeLine{00018\ \textcolor{preprocessor}{\#include\ <cstddef>}}
\DoxyCodeLine{00019\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{00020\ \textcolor{preprocessor}{\#include\ <vector>}}
\DoxyCodeLine{00021\ }
\DoxyCodeLine{00022\ \textcolor{preprocessor}{\#include\ "{}absl/strings/string\_view.h"{}}}
\DoxyCodeLine{00023\ \textcolor{preprocessor}{\#include\ "{}absl/types/span.h"{}}}
\DoxyCodeLine{00024\ }
\DoxyCodeLine{00025\ \textcolor{comment}{//\ NOTE:\ The\ functions\ in\ this\ file\ are\ test\ only,\ and\ are\ should\ not\ be\ used\ in}}
\DoxyCodeLine{00026\ \textcolor{comment}{//\ non-\/test\ code.}}
\DoxyCodeLine{00027\ }
\DoxyCodeLine{00028\ \textcolor{keyword}{namespace\ }\mbox{\hyperlink{namespaceabsl}{absl}}\ \{}
\DoxyCodeLine{00029\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2config_8h_a1426209ed359f780778edc8975b23f07}{ABSL\_NAMESPACE\_BEGIN}}}
\DoxyCodeLine{00030\ \textcolor{keyword}{namespace\ }random\_internal\ \{}
\DoxyCodeLine{00031\ }
\DoxyCodeLine{00032\ \textcolor{comment}{//\ http://webspace.ship.edu/pgmarr/Geo441/Lectures/Lec\%205\%20-\/\%20Normality\%20Testing.pdf}}
\DoxyCodeLine{00033\ }
\DoxyCodeLine{00034\ \textcolor{comment}{//\ Compute\ the\ 1st\ to\ 4th\ standard\ moments:}}
\DoxyCodeLine{00035\ \textcolor{comment}{//\ mean,\ variance,\ skewness,\ and\ kurtosis.}}
\DoxyCodeLine{00036\ \textcolor{comment}{//\ http://www.itl.nist.gov/div898/handbook/eda/section3/eda35b.htm}}
\DoxyCodeLine{00037\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{structabsl_1_1random__internal_1_1DistributionMoments}{DistributionMoments}}\ \{}
\DoxyCodeLine{00038\ \ \ \textcolor{keywordtype}{size\_t}\ \mbox{\hyperlink{structabsl_1_1random__internal_1_1DistributionMoments_ac074f6a7d1854f1778aed431d2c03e64}{n}}\ =\ 0;}
\DoxyCodeLine{00039\ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{structabsl_1_1random__internal_1_1DistributionMoments_aacc437da8c02f271475053f91dd06a6f}{mean}}\ =\ 0.0;}
\DoxyCodeLine{00040\ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{structabsl_1_1random__internal_1_1DistributionMoments_a238c80088e1c1462a35f01642d5db504}{variance}}\ =\ 0.0;}
\DoxyCodeLine{00041\ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{structabsl_1_1random__internal_1_1DistributionMoments_ab42c8917274b0eab38679dc061be552f}{skewness}}\ =\ 0.0;}
\DoxyCodeLine{00042\ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{structabsl_1_1random__internal_1_1DistributionMoments_a39d20e6b1c91b730761227230124cea0}{kurtosis}}\ =\ 0.0;}
\DoxyCodeLine{00043\ \};}
\DoxyCodeLine{00044\ \mbox{\hyperlink{structabsl_1_1random__internal_1_1DistributionMoments}{DistributionMoments}}\ \mbox{\hyperlink{namespaceabsl_1_1random__internal_a1555619eece730d4246c0c422f7326ae}{ComputeDistributionMoments}}(}
\DoxyCodeLine{00045\ \ \ \ \ \mbox{\hyperlink{classabsl_1_1Span}{absl::Span<const\ double>}}\ data\_points);}
\DoxyCodeLine{00046\ }
\DoxyCodeLine{00047\ std::ostream\&\ \mbox{\hyperlink{namespaceabsl_1_1random__internal_a27cc3136a594b697041701b29a6ab5b9}{operator<<}}(std::ostream\&\ os,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structabsl_1_1random__internal_1_1DistributionMoments}{DistributionMoments}}\&\ moments);}
\DoxyCodeLine{00048\ }
\DoxyCodeLine{00049\ \textcolor{comment}{//\ Computes\ the\ Z-\/score\ for\ a\ set\ of\ data\ with\ the\ given\ distribution\ moments}}
\DoxyCodeLine{00050\ \textcolor{comment}{//\ compared\ against\ \`{}expected\_mean`.}}
\DoxyCodeLine{00051\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{namespaceabsl_1_1random__internal_a37f7cc4fedfe654d130aea72e009bca4}{ZScore}}(\textcolor{keywordtype}{double}\ expected\_mean,\ \textcolor{keyword}{const}\ \mbox{\hyperlink{structabsl_1_1random__internal_1_1DistributionMoments}{DistributionMoments}}\&\ moments);}
\DoxyCodeLine{00052\ }
\DoxyCodeLine{00053\ \textcolor{comment}{//\ Returns\ the\ probability\ of\ success\ required\ for\ a\ single\ trial\ to\ ensure\ that}}
\DoxyCodeLine{00054\ \textcolor{comment}{//\ after\ \`{}num\_trials`\ trials,\ the\ probability\ of\ at\ least\ one\ failure\ is\ no\ more}}
\DoxyCodeLine{00055\ \textcolor{comment}{//\ than\ \`{}p\_fail`.}}
\DoxyCodeLine{00056\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{namespaceabsl_1_1random__internal_a6fa3921789b0a7d9169634a01810a724}{RequiredSuccessProbability}}(\textcolor{keywordtype}{double}\ p\_fail,\ \textcolor{keywordtype}{int}\ num\_trials);}
\DoxyCodeLine{00057\ }
\DoxyCodeLine{00058\ \textcolor{comment}{//\ Computes\ the\ maximum\ distance\ from\ the\ mean\ tolerable,\ for\ Z-\/Tests\ that\ are}}
\DoxyCodeLine{00059\ \textcolor{comment}{//\ expected\ to\ pass\ with\ \`{}acceptance\_probability`.\ Will\ terminate\ if\ the}}
\DoxyCodeLine{00060\ \textcolor{comment}{//\ resulting\ tolerance\ is\ zero\ (due\ to\ passing\ in\ 0.0\ for}}
\DoxyCodeLine{00061\ \textcolor{comment}{//\ \`{}acceptance\_probability`\ or\ rounding\ errors).}}
\DoxyCodeLine{00062\ \textcolor{comment}{//}}
\DoxyCodeLine{00063\ \textcolor{comment}{//\ For\ example,}}
\DoxyCodeLine{00064\ \textcolor{comment}{//\ MaxErrorTolerance(0.001)\ =\ 0.0}}
\DoxyCodeLine{00065\ \textcolor{comment}{//\ MaxErrorTolerance(0.5)\ =\ \string~0.47}}
\DoxyCodeLine{00066\ \textcolor{comment}{//\ MaxErrorTolerance(1.0)\ =\ inf}}
\DoxyCodeLine{00067\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{namespaceabsl_1_1random__internal_ac2d72b3344e695195e96f6d15cca04d4}{MaxErrorTolerance}}(\textcolor{keywordtype}{double}\ acceptance\_probability);}
\DoxyCodeLine{00068\ }
\DoxyCodeLine{00069\ \textcolor{comment}{//\ Approximation\ to\ inverse\ of\ the\ Error\ Function\ in\ double\ precision.}}
\DoxyCodeLine{00070\ \textcolor{comment}{//\ (http://people.maths.ox.ac.uk/gilesm/files/gems\_erfinv.pdf)}}
\DoxyCodeLine{00071\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{namespaceabsl_1_1random__internal_a4cacaa914a7b11b8ef6fa6d5335e5465}{erfinv}}(\textcolor{keywordtype}{double}\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9dd4e461268c8034f5c8564e155c67a6}{x}});}
\DoxyCodeLine{00072\ }
\DoxyCodeLine{00073\ \textcolor{comment}{//\ Beta(p,\ q)\ =\ Gamma(p)\ *\ Gamma(q)\ /\ Gamma(p+q)}}
\DoxyCodeLine{00074\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{namespaceabsl_1_1random__internal_a757b935530079a684b8f67688ce6b356}{beta}}(\textcolor{keywordtype}{double}\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca83878c91171338902e0fe0fb97a8c47a}{p}},\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba7694f4a66316e53c8cdd9d9954bd611d}{q}});}
\DoxyCodeLine{00075\ }
\DoxyCodeLine{00076\ \textcolor{comment}{//\ The\ inverse\ of\ the\ normal\ survival\ function.}}
\DoxyCodeLine{00077\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{namespaceabsl_1_1random__internal_a5f70dd78294597ce323356e0a184a657}{InverseNormalSurvival}}(\textcolor{keywordtype}{double}\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9dd4e461268c8034f5c8564e155c67a6}{x}});}
\DoxyCodeLine{00078\ }
\DoxyCodeLine{00079\ \textcolor{comment}{//\ Returns\ whether\ actual\ is\ "{}near"{}\ expected,\ based\ on\ the\ bound.}}
\DoxyCodeLine{00080\ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{namespaceabsl_1_1random__internal_a652fae5bcabfc42869879054c6f7deba}{Near}}(\mbox{\hyperlink{classabsl_1_1string__view}{absl::string\_view}}\ \mbox{\hyperlink{namespaceabsl_a447da94df3ec00fdf05b8dd3c95973f3}{msg}},\ \textcolor{keywordtype}{double}\ actual,\ \textcolor{keywordtype}{double}\ expected,\ \textcolor{keywordtype}{double}\ bound);}
\DoxyCodeLine{00081\ }
\DoxyCodeLine{00082\ \textcolor{comment}{//\ Implements\ the\ incomplete\ regularized\ beta\ function,\ AS63,\ BETAIN.}}
\DoxyCodeLine{00083\ \textcolor{comment}{//\ \ \ \ https://www.jstor.org/stable/2346797}}
\DoxyCodeLine{00084\ \textcolor{comment}{//}}
\DoxyCodeLine{00085\ \textcolor{comment}{//\ BetaIncomplete(x,\ p,\ q),\ where}}
\DoxyCodeLine{00086\ \textcolor{comment}{//\ \ \ \`{}x`\ is\ the\ value\ of\ the\ upper\ limit}}
\DoxyCodeLine{00087\ \textcolor{comment}{//\ \ \ \`{}p`\ is\ beta\ parameter\ p,\ \`{}q`\ is\ beta\ parameter\ q.}}
\DoxyCodeLine{00088\ \textcolor{comment}{//}}
\DoxyCodeLine{00089\ \textcolor{comment}{//\ NOTE:\ This\ is\ a\ test-\/only\ function\ which\ is\ only\ accurate\ to\ within,\ at\ most,}}
\DoxyCodeLine{00090\ \textcolor{comment}{//\ 1e-\/13\ of\ the\ actual\ value.}}
\DoxyCodeLine{00091\ \textcolor{comment}{//}}
\DoxyCodeLine{00092\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{namespaceabsl_1_1random__internal_a65a00d41e94525b0bc9223dadaa8a1b6}{BetaIncomplete}}(\textcolor{keywordtype}{double}\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca9dd4e461268c8034f5c8564e155c67a6}{x}},\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca83878c91171338902e0fe0fb97a8c47a}{p}},\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba7694f4a66316e53c8cdd9d9954bd611d}{q}});}
\DoxyCodeLine{00093\ }
\DoxyCodeLine{00094\ \textcolor{comment}{//\ Implements\ the\ inverse\ of\ the\ incomplete\ regularized\ beta\ function,\ AS109,}}
\DoxyCodeLine{00095\ \textcolor{comment}{//\ XINBTA.}}
\DoxyCodeLine{00096\ \textcolor{comment}{//\ \ \ https://www.jstor.org/stable/2346798}}
\DoxyCodeLine{00097\ \textcolor{comment}{//\ \ \ https://www.jstor.org/stable/2346887}}
\DoxyCodeLine{00098\ \textcolor{comment}{//}}
\DoxyCodeLine{00099\ \textcolor{comment}{//\ BetaIncompleteInv(p,\ q,\ beta,\ alhpa)}}
\DoxyCodeLine{00100\ \textcolor{comment}{//\ \ \ \`{}p`\ is\ beta\ parameter\ p,\ \`{}q`\ is\ beta\ parameter\ q.}}
\DoxyCodeLine{00101\ \textcolor{comment}{//\ \ \ \`{}alpha`\ is\ the\ value\ of\ the\ lower\ tail\ area.}}
\DoxyCodeLine{00102\ \textcolor{comment}{//}}
\DoxyCodeLine{00103\ \textcolor{comment}{//\ NOTE:\ This\ is\ a\ test-\/only\ function\ and,\ when\ successful,\ is\ only\ accurate\ to}}
\DoxyCodeLine{00104\ \textcolor{comment}{//\ within\ \string~1e-\/6\ of\ the\ actual\ value;\ there\ are\ some\ cases\ where\ it\ diverges\ from}}
\DoxyCodeLine{00105\ \textcolor{comment}{//\ the\ actual\ value\ by\ much\ more\ than\ that.\ \ The\ function\ uses\ Newton's\ method,}}
\DoxyCodeLine{00106\ \textcolor{comment}{//\ and\ thus\ the\ runtime\ is\ highly\ variable.}}
\DoxyCodeLine{00107\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{namespaceabsl_1_1random__internal_a617f45035026283b7aee3c4818bbc6f5}{BetaIncompleteInv}}(\textcolor{keywordtype}{double}\ \mbox{\hyperlink{namespaceabsl_a828e0f13fb3947cdf6406b7a4feec8aca83878c91171338902e0fe0fb97a8c47a}{p}},\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{namespaceabsl_adb6bd4a9012b471ac01613aff8d4d81ba7694f4a66316e53c8cdd9d9954bd611d}{q}},\ \textcolor{keywordtype}{double}\ alpha);}
\DoxyCodeLine{00108\ }
\DoxyCodeLine{00109\ \}\ \ \textcolor{comment}{//\ namespace\ random\_internal}}
\DoxyCodeLine{00110\ \mbox{\hyperlink{abseil-cpp_2absl_2base_2config_8h_a49c6cd9be2b7205d48557c9fa90ec5a6}{ABSL\_NAMESPACE\_END}}}
\DoxyCodeLine{00111\ \}\ \ \textcolor{comment}{//\ namespace\ absl}}
\DoxyCodeLine{00112\ }
\DoxyCodeLine{00113\ \textcolor{preprocessor}{\#endif\ \ }\textcolor{comment}{//\ ABSL\_RANDOM\_INTERNAL\_DISTRIBUTION\_TEST\_UTIL\_H\_}}

\end{DoxyCode}
